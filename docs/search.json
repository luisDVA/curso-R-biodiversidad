[
  {
    "objectID": "materiales.html",
    "href": "materiales.html",
    "title": "Materiales del curso",
    "section": "",
    "text": "Descargar todos los archivos (datos y scripts) para los ejercicios y ejemplos del curso:\nüóúÔ∏èDescargar datos"
  },
  {
    "objectID": "materiales.html#datos",
    "href": "materiales.html#datos",
    "title": "Materiales del curso",
    "section": "",
    "text": "Descargar todos los archivos (datos y scripts) para los ejercicios y ejemplos del curso:\nüóúÔ∏èDescargar datos"
  },
  {
    "objectID": "materiales.html#presentaciones",
    "href": "materiales.html#presentaciones",
    "title": "Materiales del curso",
    "section": "Presentaciones",
    "text": "Presentaciones\nEstas presentaciones en formato web cuentan con un √≠ndice de contenidos interactivo (boton en la esquine inferior izquierda).\n\nLunes 19\nFlujos de Trabajo y Organizaci√≥n de Proyectos\nExploraci√≥n de datos\nManipulaci√≥n y Limpieza de datos - I\n\n\nMartes 20\nManipulaci√≥n y Limpieza de datos - II\n\n\nMi√©rcoles 21\nVisualizaci√≥n de Datos\n\n\nJueves 22\nLo que Nunca nos Ense√±aron sobre R\nManejo de Matrices\n\n\nViernes 23\nDistribuciones Geogr√°ficas\nRiqueza de Especies\nMapas Bivariados\nReglas Ecogeogr√°ficas\nFilogenias"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#pipes",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#pipes",
    "title": "Manipulacion y limpieza de datos",
    "section": "Pipes ()",
    "text": "Pipes ()\nSi queremos hacer varias operaciones en secuencia:\n\n\nC√≥digo anidado (los resultados se eval√∫an de adentro hacia afuera)\nObjetos intermedios (creamos objetos con resultados intermedios y para la siguiente funci√≥n en la secuencia)\nPipes (estructuramos operaciones seriadas de izquierda a derecha)"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#c√≥digo-anidado",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#c√≥digo-anidado",
    "title": "Manipulacion y limpieza de datos",
    "section": "C√≥digo anidado",
    "text": "C√≥digo anidado\n\n\n\nnotas &lt;- c(7,8,8,10,6,9,5,9,8)\n\nround(mean(notas), digits = 2)\n\n[1] 7.78"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#objetos-intermedios",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#objetos-intermedios",
    "title": "Manipulacion y limpieza de datos",
    "section": "Objetos intermedios",
    "text": "Objetos intermedios\n\n\n\nnotas_promedio &lt;- mean(notas)\n\nnotas_promedio_rd &lt;- \n  round(notas_promedio,\n           digits = 2)\n\nnotas_promedio_rd\n\n[1] 7.78"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#pipes-1",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#pipes-1",
    "title": "Manipulacion y limpieza de datos",
    "section": "Pipes",
    "text": "Pipes\n\n\n\nMano izquiera\n(LHS)\n\noperador ‚Äòpipe‚Äô\n%&gt;%\nde üì¶ magrittr\n|&gt; en R v &gt;= 4.1.0\n\nMano derecha\n(RHS)\n\n\n\n\nToma un objeto a la izquerda del operador y lo inserta como argumento en la funci√≥n que est√© a su derecha\n* Por defecto lo que est√© a la izquierda del ‚Äòpipe‚Äô se inserta como el primer argumento de la funci√≥n"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#pipes-2",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#pipes-2",
    "title": "Manipulacion y limpieza de datos",
    "section": "Pipes",
    "text": "Pipes\n\nReducen la necesidad de guardar resultados intermedios o de anidar c√≥digo\nC√≥digo m√°s f√°cil de leer\nM√°s f√°cil quitar o agregar pasos a la secuencia\n\n\nInsertamos con ctrl + shift + M\n\n\n\nAdolfo √Ålvarez (2021)\nThe (updated) history of the pipe operator in R"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#tidyverse",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#tidyverse",
    "title": "Manipulacion y limpieza de datos",
    "section": "tidyverse",
    "text": "tidyverse\n\n\n\n\n\n‚Ä¶ una colecci√≥n de paquetes de R dise√±ados para ciencia de datos. Todos los paquetes comparten una filosof√≠a de dise√±o, gram√°tica, y estructuras de datos. Su objetivo principal es de ‚Äòfacilitar una conversaci√≥n sobre datos entre un humano y su computador‚Äô\n\n\n\n\n\nWickham et al.¬†(2019)\nWelcome to the tidyverse\nhttps://www.tidyverse.org/"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#tidyverse-1",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#tidyverse-1",
    "title": "Manipulacion y limpieza de datos",
    "section": "tidyverse",
    "text": "tidyverse\n\nPara tareas comunes con datos: importar archivos, limpiar datos, transformar, visualizar, o programar nuevas funciones.\nDise√±ado para facilitar su aprendizaje y que los usuarios vayan aprendiendo m√°s funciones conforme interactuen con m√°s elementos de este ‚Äòecosistema‚Äô.\n\n\n\n√áetinkaya-Rundel et al.¬†(2021)\nAn educator‚Äôs perspective of the tidyverse"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#tibbles-tibls",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#tibbles-tibls",
    "title": "Manipulacion y limpieza de datos",
    "section": "tibbles (/tibls/)",
    "text": "tibbles (/tibls/)\nModernizando el data.frame\nImplementado para todo el tidyverse a trav√©s de üì¶ tibble\n\ntibble(\n  x = c(\"a\", \"b\", \"c\"),\n  y = c(1, 2, 3)\n)\n\n# A tibble: 3 √ó 2\n  x         y\n  &lt;chr&gt; &lt;dbl&gt;\n1 a         1\n2 b         2\n3 c         3\n\n\n\nObjeto rectangular com√∫n para todos los paquetes del tidyverse"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#funciones-de-tidyverse",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#funciones-de-tidyverse",
    "title": "Manipulacion y limpieza de datos",
    "section": "Funciones de tidyverse",
    "text": "Funciones de tidyverse\n\n\nreciben un data.frame ‚û°Ô∏è regresan un data.frame\nreciben un tibble ‚û°Ô∏è regresan un tibble\ngeneran un objeto nuevo ‚û°Ô∏è crean un tibble"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#creando-tibbles",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#creando-tibbles",
    "title": "Manipulacion y limpieza de datos",
    "section": "Creando tibbles",
    "text": "Creando tibbles\n\nSalida predeterminada de funciones\nConvirtiendo otros objetos con as_tibble()\nConstruyendo a partir de vectores con tibble()"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#tibbles",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#tibbles",
    "title": "Manipulacion y limpieza de datos",
    "section": "tibbles",
    "text": "tibbles\nPara menos ambig√ºedad:\n\n\n\nNo asignan nombres a las filas\nNo modifican los nombres de las columnas\nNo convierten caracteres en factores\nExigen nombres completos para seleccionar subconjuntos de variables con $"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#impresi√≥n-de-tibbles",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#impresi√≥n-de-tibbles",
    "title": "Manipulacion y limpieza de datos",
    "section": "Impresi√≥n de tibbles",
    "text": "Impresi√≥n de tibbles\nPara no saturar la consola, los m√©todos de impresi√≥n para tibbles muestran:\n\n\nLas primeras 10 filas\nCu√°ntas filas y columnas no se imprimieron\nSolo las columnas que entran en el ancho de nuestra pantalla\nEl tipo de variable de todas las columnas"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#qu√©-problemas-vemos-con-esta-presentaci√≥n-de-datos",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#qu√©-problemas-vemos-con-esta-presentaci√≥n-de-datos",
    "title": "Manipulacion y limpieza de datos",
    "section": "¬øQu√© problemas vemos con esta presentaci√≥n de datos?",
    "text": "¬øQu√© problemas vemos con esta presentaci√≥n de datos?"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#m√°s-utilizable",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#m√°s-utilizable",
    "title": "Manipulacion y limpieza de datos",
    "section": "M√°s utilizable",
    "text": "M√°s utilizable\n\n\n\n\n\n  \n    \n    \n      Nombre\n      Periodo\n      TipoViaje\n      PropositoViaje\n      Costo\n      Pais\n    \n  \n  \n    Miguel J.\n2022\nNacional\nSalida campo\n1000\nMX\n    Miguel J.\n2022\nNacional\nSalida campo\n1000\nMX\n    Miguel J.\n2022\nNacional\nCongreso\n500\nMX\n    Miguel J.\n2022\nNacional\nTaller\n500\nMX\n    Miguel J.\n2022\nInternacional\nCongreso\n2000\nEUA\n    Alejandra M.\n2022\nNA\nNA\nNA\nNA\n    Raul S.\n2022\nNacional\nSalida campo\n1000\nMX"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#datos-bien-organizados",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#datos-bien-organizados",
    "title": "Manipulacion y limpieza de datos",
    "section": "Datos bien organizados",
    "text": "Datos bien organizados\n\nM√°s f√°cil de importar y manipular\nMenos potencial de errores no replicables (alteraciones, omisiones, duplicaciones)\n\nSiguiendo buenos principios de organizaci√≥n producimos mejores datos y podremos identificar y resolver problemas en datos existentes"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#recomendaciones",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#recomendaciones",
    "title": "Manipulacion y limpieza de datos",
    "section": "Recomendaciones",
    "text": "Recomendaciones\n\nUnidades, nombres, esquemas, fechas etc. consistentes\nNombres utilizables\nEstructuras rectangulares\n\n\n\n\n\nOpenscapes (2020)\nTidy data illustrated\n\nBroman and Woo (2018)\nOrganizing data in spreadsheets\n\nVerde Arregoita et al.¬†(2018)\nGood practices for sharing analysis-ready data‚Ä¶"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#consistencia",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#consistencia",
    "title": "Manipulacion y limpieza de datos",
    "section": "Consistencia",
    "text": "Consistencia\nTablas relacionadas con datos sobre seguimiento GPS de aves\n\n\n\n\n\n\n\n  \n    \n    \n      id\n      ave\n      edad\n      estado\n    \n  \n  \n    23\ngorri√≥n\njuvenil\nVER\n    11\nbuho\nadulto\nVeracruz\n    7\nbuho\nj\nPuebla\n    40\ncodorniz\nADULTO\nPU\n    34\ngorri√≥n\n1\nVER\n    30\npaloma\nA\nV\n  \n  \n  \n\n\n\n\n\n\n\n\n\n\n  \n    \n    \n      ID_ave\n      num_rasteador\n      sexo\n    \n  \n  \n    23\nb452\nM\n    11\nb256\nM\n    7\na122\nF\n    40\nb889\nM\n    34\nd136\nF\n  \n  \n  \n\n\n\n\n\n\n\n¬øCu√°ntas inconsistencias ven aqu√≠?"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#datos-rectangulares",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#datos-rectangulares",
    "title": "Manipulacion y limpieza de datos",
    "section": "Datos rectangulares",
    "text": "Datos rectangulares\n\n\n\n\nObjetos con filas y columnas, en los cuales:\n\nCada fila tiene el mismo n√∫mero de columnas\nCada columna tiene el mismo n√∫mero de filas\nVectores o factores de la misma longitud entonces todas las columnas tienen la misma ‚Äòaltura‚Äô"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#datos-rectangulares-rangos-de-celdas-en-una-hoja-de-c√°lculo",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#datos-rectangulares-rangos-de-celdas-en-una-hoja-de-c√°lculo",
    "title": "Manipulacion y limpieza de datos",
    "section": "datos rectangulares ~¬†rangos de celdas en una hoja de c√°lculo",
    "text": "datos rectangulares ~¬†rangos de celdas en una hoja de c√°lculo\n\n\n\n\n\n\n\n\n\nDavis Vaughan (2018)\nTidying Excel cash flow spreadsheets"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section",
    "title": "Manipulacion y limpieza de datos",
    "section": "",
    "text": "but sometimes such data is ‚Äúrectangular‚Äù in the same sense that this cat is ‚Äúbowl-shaped‚Äù üòÇ pic.twitter.com/ZmxvgcV57d\n\n‚Äî Jenny Bryan (@JennyBryan) May 9, 2019"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-1",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-1",
    "title": "Manipulacion y limpieza de datos",
    "section": "",
    "text": "animal\n      ind_observados\n      habitat\n    \n  \n  \n    caracol\n12\nmar\n    gaviota\n14\ncosta\n    nutria\n11\nr√≠o\n  \n  \n  \n\n\n\n\n\n\n\n\n\n\n  \n    \n    \n      caracol\n      gaviota\n      nutria\n    \n  \n  \n    12\n14\n11\n    mar\ncosta\nr√≠o"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#datos-listos-para-uso",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#datos-listos-para-uso",
    "title": "Manipulacion y limpieza de datos",
    "section": "¬øDatos listos para uso?",
    "text": "¬øDatos listos para uso?\n\nAgrupar, transformar, ordenar, visualizar, modelar, compartir, etc."
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#no-se-puede",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#no-se-puede",
    "title": "Manipulacion y limpieza de datos",
    "section": "¬øNo se puede?",
    "text": "¬øNo se puede?\n\nOrdenar para un manejo m√°s f√°cil y eficiente"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#datos-ordenados-tidy-data",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#datos-ordenados-tidy-data",
    "title": "Manipulacion y limpieza de datos",
    "section": "Datos ordenados (tidy data)",
    "text": "Datos ordenados (tidy data)\nUna reinterpretaci√≥n accesible de distintos principios y definiciones de estad√≠stica y ciencias de la computaci√≥n\n\n\n\nWickham (2014)\nTidy Data - Journal of Statistical Software"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#tidy-data",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#tidy-data",
    "title": "Manipulacion y limpieza de datos",
    "section": "‚ÄòTidy data‚Äô",
    "text": "‚ÄòTidy data‚Äô\n\nDatos acomodados en una matriz 2D con filas y columnas\nLas filas corresponden a observaciones\nLas columnas corresponden a variables\nUn solo valor por celda"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#para-qu√©",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#para-qu√©",
    "title": "Manipulacion y limpieza de datos",
    "section": "¬øPara qu√©?",
    "text": "¬øPara qu√©?\nM√°s f√°cil de reacomodar y manejar"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#para-qu√©-1",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#para-qu√©-1",
    "title": "Manipulacion y limpieza de datos",
    "section": "¬øPara qu√©?",
    "text": "¬øPara qu√©?\nTrabajando con filas\nLos valores de cada observaci√≥n quedan juntos"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-4",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-4",
    "title": "Manipulacion y limpieza de datos",
    "section": "",
    "text": "Las variables entran directemente como especificaciones para modelos y/o par√°metros gr√°ficos"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#cu√°ndo-no",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#cu√°ndo-no",
    "title": "Manipulacion y limpieza de datos",
    "section": "Cu√°ndo no",
    "text": "Cu√°ndo no\n\nLos datos ordenados son m√°s repetitivos y pueden ocupar m√°s espacio que otras representaciones m√°s compactas\n\n\n\nNo es un formato ideal para la captura de datos, o para tablas que forman parte de alg√∫n texto que ser√° impreso"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#variables-por-separado-para-definir-grupos",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#variables-por-separado-para-definir-grupos",
    "title": "Manipulacion y limpieza de datos",
    "section": "Variables por separado para definir grupos",
    "text": "Variables por separado para definir grupos\nUsar ‚Äòvariables indicadoras‚Äô en lugar de colapsar informaci√≥n entre dos o m√°s variables.\n\n\n\n\n\n\n\n\n\n  \n    \n    \n      Equipo\n      Liga\n      Victorias\n      Clasificado\n    \n  \n  \n    Osos\nPrimera\n8\nSI\n    Venados\nReservas\n2\nNO\n    Dragones\nPrimera\n12\nSI\n    Leones\nPrimera\n4\nNO\n    F√©nix FC\nReservas\n7\nSI"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#valores-faltantes",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#valores-faltantes",
    "title": "Manipulacion y limpieza de datos",
    "section": "Valores faltantes",
    "text": "Valores faltantes\nNo se registraron, no aplican, se perdieron, etc.\n\n Los datos faltantes siguen siendo datos \nEn R usamos NA, una constante especial que indica valores faltantes"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#encabezados-utilizables-nombres-de-las-columnas",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#encabezados-utilizables-nombres-de-las-columnas",
    "title": "Manipulacion y limpieza de datos",
    "section": "Encabezados utilizables (nombres de las columnas)",
    "text": "Encabezados utilizables (nombres de las columnas)\nNombres poco informativos e inconsistentes\n\n\n\n\n\n  \n    \n    \n      X\n      x1\n      X2\n      calif_min\n      CALIFICACION.PROMEDIO\n    \n  \n  \n    UANL\nNorte\nArquitectura\n6\n8.90\n    UT\nNorte\nDise√±o\n7\n7.78\n    UABJO\nSur\nDise√±o\n6\n8.50\n  \n  \n  \n\n\n\n\n\nM√°s d√≠ficil de recordar para hacer referencia a diferentes variables\nNo se ordenan bien (alfanum√©ricamente)"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-6",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-6",
    "title": "Manipulacion y limpieza de datos",
    "section": "",
    "text": "universidad\n      region\n      area\n      calificacion_minima\n      calificacion_promedio\n    \n  \n  \n    UANL\nNorte\nArquitectura\n6\n8.90\n    UT\nNorte\nDise√±o\n7\n7.78\n    UABJO\nSur\nDise√±o\n6\n8.50"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#nombres-de-columna-partidos",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#nombres-de-columna-partidos",
    "title": "Manipulacion y limpieza de datos",
    "section": "Nombres de columna partidos",
    "text": "Nombres de columna partidos\n\n\n\n\n\n  \n    \n    \n      universidad\n      region\n      area\n      calificacion_\n      calificacion\n    \n  \n  \n    NA\nNA\nNA\nminima\npromedio\n    UANL\nNorte\nArquitectura\n6\n8.9\n    UT\nNorte\nDise√±o\n7\n7.78\n    UABJO\nSur\nDise√±o\n6\n8.5\n  \n  \n  \n\n\n\n\n\nLos nombres de las columnas aparecen en &gt;1 fila\nMezcla de fragmentos de nombre con datos\nSe pierden los separadores entre palabras\nSe introducen NA ::: :::"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#datos-compartidos-adecuadamente",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#datos-compartidos-adecuadamente",
    "title": "Manipulacion y limpieza de datos",
    "section": "Datos compartidos adecuadamente",
    "text": "Datos compartidos adecuadamente\nF√°ciles de interpretar (por humanos y por m√°quinas) y listos para analizar\n‚Üò Reduce la dependencia a software complejo o caro y disminuye la necesidad de saber programar para limpiar datos complejos\n‚Üò Reducir la interpretaci√≥n que habr√° que hacer para poder usar los datos"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#formatos",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#formatos",
    "title": "Manipulacion y limpieza de datos",
    "section": "Formatos",
    "text": "Formatos\n\n\n\nEl PDF no es un formato para datos\n\n\n\n\n\n\nMientras m√°s simple mejor (ej: texto delimitado - csv, tsv, etc.)\nCompartir datos, guardar c√°lculos y resultados por separado"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#funciones-y-paquetes-para-preparar-transformar-y-estructurar-datos",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#funciones-y-paquetes-para-preparar-transformar-y-estructurar-datos",
    "title": "Manipulacion y limpieza de datos",
    "section": "Funciones y paquetes para preparar, transformar, y estructurar datos",
    "text": "Funciones y paquetes para preparar, transformar, y estructurar datos\n\n\nüì¶ dplyr\nüì¶ tidyr\n\nFlexibles, pero desarrollados en torno a una filosof√≠a com√∫n\n\nTrabas para no usar las funciones incorrectamente\n\nMenos c√≥digo para lograr un resultado\nGr√°matica y estructuras de datos compartidas\nTareas divididas entre funciones y paquetes\nUso de ‚Äòpipes‚Äô"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#funciones-√∫tiles-de-dplyr",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#funciones-√∫tiles-de-dplyr",
    "title": "Manipulacion y limpieza de datos",
    "section": "Funciones √∫tiles de üì¶ dplyr",
    "text": "Funciones √∫tiles de üì¶ dplyr\n\nFunciones separadas para las operaciones m√°s comunes\nCada funci√≥n solo hace una cosa pero la hace bien\n\n\n\nFunciones intuitivas para:\n\nCrear subconjuntos de filas y columnas\nCrear o modificar columnas"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-7",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-7",
    "title": "Manipulacion y limpieza de datos",
    "section": "",
    "text": "Pa√≠ses megadiversosDatos\n\n\n\n\n\n\n\n  \n    \n    \n      pais\n      especies\n      amenazadas\n      region\n    \n  \n  \n    Indonesia\n670\n191\nAsia\n    Brasil\n648\n80\nAmerica\n    China\n551\n73\nAsia\n    Mexico\n523\n96\nAmerica\n    Peru\n467\n53\nAmerica\n    Congo\n430\n15\nAfrica\n    India\n412\n93\nAsia\n    Kenya\n376\n30\nAfrica\n    Argentina\n374\n38\nAmerica\n    Ecuador\n372\n47\nAmerica\n    Venezuela\n363\n35\nAmerica\n    Tanzania\n359\n41\nAfrica\n  \n  \n  \n\n\n\n\n\n\n\npaises_m &lt;- \ntibble::tribble(\n        ~pais, ~especies, ~amenazadas,   ~region,\n  \"Indonesia\",      670L,        191L,    \"Asia\",\n     \"Brasil\",      648L,         80L, \"America\",\n      \"China\",      551L,         73L,    \"Asia\",\n     \"Mexico\",      523L,         96L, \"America\",\n       \"Peru\",      467L,         53L, \"America\",\n      \"Congo\",      430L,         15L,  \"Africa\",\n      \"India\",      412L,         93L,    \"Asia\",\n      \"Kenya\",      376L,         30L,  \"Africa\",\n  \"Argentina\",      374L,         38L, \"America\",\n    \"Ecuador\",      372L,         47L, \"America\",\n  \"Venezuela\",      363L,         35L, \"America\",\n   \"Tanzania\",      359L,         41L,  \"Africa\"\n  )"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#select",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#select",
    "title": "Manipulacion y limpieza de datos",
    "section": "select()",
    "text": "select()\n\n\nSeleccionar columnas\n\npor nombre\n\npor posici√≥n\n\npor tipo\n\n\n\n\n\npaises_m %&gt;% \n  select(pais,\n         amenazadas) %&gt;% \n  head(4)\n\n# A tibble: 4 √ó 2\n  pais      amenazadas\n  &lt;chr&gt;          &lt;int&gt;\n1 Indonesia        191\n2 Brasil            80\n3 China             73\n4 Mexico            96"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#mutate",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#mutate",
    "title": "Manipulacion y limpieza de datos",
    "section": "mutate()",
    "text": "mutate()\n\n\nCrea o modifica columnas\n\nCrear nuevas\n\n‚Äòsobre-escribir‚Äô existentes\n\n\n\n\npaises_m %&gt;%\n  select(pais, amenazadas) %&gt;% \n  mutate(amenazadas_log = log(amenazadas)) %&gt;% \n  head(5)\n\n# A tibble: 5 √ó 3\n  pais      amenazadas amenazadas_log\n  &lt;chr&gt;          &lt;int&gt;          &lt;dbl&gt;\n1 Indonesia        191           5.25\n2 Brasil            80           4.38\n3 China             73           4.29\n4 Mexico            96           4.56\n5 Peru              53           3.97\n\n\n\n\nPodemos contrar en d√≥nde aparece la nueva columna con los argumentos .before y .after"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#filter",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#filter",
    "title": "Manipulacion y limpieza de datos",
    "section": "filter()",
    "text": "filter()\nSeleccionar filas\nRetiene solamente las filas que cumplen una condici√≥n\n\n\npaises_m %&gt;% \n  select(pais, especies, amenazadas) %&gt;% \n  filter(amenazadas &gt; 75)\n\n# A tibble: 4 √ó 3\n  pais      especies amenazadas\n  &lt;chr&gt;        &lt;int&gt;      &lt;int&gt;\n1 Indonesia      670        191\n2 Brasil         648         80\n3 Mexico         523         96\n4 India          412         93"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#rename",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#rename",
    "title": "Manipulacion y limpieza de datos",
    "section": "rename()",
    "text": "rename()\nCambiar nombres de columnas\nNombre nuevo primero luego variable objetivo\n\n\npaises_m %&gt;% \n  rename(country=pais,\n         species=especies, threatened=amenazadas) %&gt;% \n  head()\n\n# A tibble: 6 √ó 4\n  country   species threatened region \n  &lt;chr&gt;       &lt;int&gt;      &lt;int&gt; &lt;chr&gt;  \n1 Indonesia     670        191 Asia   \n2 Brasil        648         80 America\n3 China         551         73 Asia   \n4 Mexico        523         96 America\n5 Peru          467         53 America\n6 Congo         430         15 Africa"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#ejercicio---datos-desde-paquetes-1",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#ejercicio---datos-desde-paquetes-1",
    "title": "Manipulacion y limpieza de datos",
    "section": "Ejercicio - Datos desde paquetes (1)",
    "text": "Ejercicio - Datos desde paquetes (1)\n\ndata() carga o genera una lista de juegos de datos disponibles con los paquetes que tengamos instalados \ndata() sin ning√∫n argumento muestra todos los datos disponibles"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#ejercicio---datos-desde-paquetes-2",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#ejercicio---datos-desde-paquetes-2",
    "title": "Manipulacion y limpieza de datos",
    "section": "Ejercicio - Datos desde paquetes (2)",
    "text": "Ejercicio - Datos desde paquetes (2)\nPodemos especificar de cu√°l paquete enlistar datos\ndata(package=\"ggplot2\")\ndata(package=\"datasets\")\ndata(package=\"tidyr\")"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#ejercicio---datos-desde-paquetes-3",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#ejercicio---datos-desde-paquetes-3",
    "title": "Manipulacion y limpieza de datos",
    "section": "Ejercicio - Datos desde paquetes (3)",
    "text": "Ejercicio - Datos desde paquetes (3)\n data() carga datos desde un paquete, como argumento usamos el nombre del juego de datos que necesitamos (con o sin comillas)\n\nDebe estar cargado el paquete que contiene los datos\n\n\nlibrary(ggplot2)\ndata(economics)\n\nlibrary(openintro)\ndata(\"nba_players_19\")"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#ejercicio---manipulaci√≥n-de-datos",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#ejercicio---manipulaci√≥n-de-datos",
    "title": "Manipulacion y limpieza de datos",
    "section": "Ejercicio - manipulaci√≥n de datos",
    "text": "Ejercicio - manipulaci√≥n de datos\n\nCargar el objeto pinguinos, se instala con el paquete datos\nCrear un subconjunto de datos que solo incluya especie, isla, y largo_aleta_mm\n¬øCu√°ntos individuos tienen aletas &gt; a 195 mm?\nCrea una nueva columna con el largo de aleta en pulgadas"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#operaciones-con-varias-columnas-en-simult√°neo",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#operaciones-con-varias-columnas-en-simult√°neo",
    "title": "Manipulacion y limpieza de datos",
    "section": "Operaciones con varias columnas en simult√°neo",
    "text": "Operaciones con varias columnas en simult√°neo\nacross()\nPara aplicar filter o mutate a varias columnas\n\nColumnas especificadas por posici√≥n (no es buena opci√≥n), nombre, o tipo\nSelecciones compuestas\n(ej: variables de tipo factor que contienen ‚Äòtemp‚Äô en su nombre)"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#argumentos-de-across",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#argumentos-de-across",
    "title": "Manipulacion y limpieza de datos",
    "section": "argumentos de across():",
    "text": "argumentos de across():\n.cols Columnas para transformar\n.fns Funci√≥n a aplicarse a cada una\n\nacross espera una funci√≥n entonces el nombre y sus argumentos se pueden pasar por separado"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#funciones-adicionales-para-referirnos-a-columnas",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#funciones-adicionales-para-referirnos-a-columnas",
    "title": "Manipulacion y limpieza de datos",
    "section": "Funciones adicionales para referirnos a columnas",
    "text": "Funciones adicionales para referirnos a columnas\nExisten funciones auxiliares para especificar conjuntos de varaibles, se usan junto con o en lugar de across()\n\n\n\n[dplyr selection features and helpers]"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#everything",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#everything",
    "title": "Manipulacion y limpieza de datos",
    "section": "everything()",
    "text": "everything()\nTodas las variables\n\n\npaises_m %&gt;% \n  mutate(across(everything(), as.character)) %&gt;% head(3)\n\n# A tibble: 3 √ó 4\n  pais      especies amenazadas region \n  &lt;chr&gt;     &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;  \n1 Indonesia 670      191        Asia   \n2 Brasil    648      80         America\n3 China     551      73         Asia"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-8",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-8",
    "title": "Manipulacion y limpieza de datos",
    "section": "!",
    "text": "!\nDevuelve el complemento de un conjunto de variables\n\n\npaises_m %&gt;% \n  select(!c(region,amenazadas)) %&gt;% head()\n\n# A tibble: 6 √ó 2\n  pais      especies\n  &lt;chr&gt;        &lt;int&gt;\n1 Indonesia      670\n2 Brasil         648\n3 China          551\n4 Mexico         523\n5 Peru           467\n6 Congo          430"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#where",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#where",
    "title": "Manipulacion y limpieza de datos",
    "section": "where()",
    "text": "where()\nSelecciona las variables para las cuales alguna comparaci√≥n regrese TRUE\n\nej: transformar todas las variables de tipo num√©rico, identificadas con is.numeric()\n\n\npaises_m %&gt;% \n  mutate(across(where(is.numeric), log2)) %&gt;% slice(1:3)\n\n# A tibble: 3 √ó 4\n  pais      especies amenazadas region \n  &lt;chr&gt;        &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;  \n1 Indonesia     9.39       7.58 Asia   \n2 Brasil        9.34       6.32 America\n3 China         9.11       6.19 Asia"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#matches",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#matches",
    "title": "Manipulacion y limpieza de datos",
    "section": "matches()",
    "text": "matches()\nEncuentra nombres de variables con expresiones regulares\n\nej: quitar variables que contengan ‚Äúprec‚Äù\n\n\npaises_m %&gt;% \n  mutate(across(matches(\"p..s\"), toupper)) %&gt;% head\n\n# A tibble: 6 √ó 4\n  pais      especies amenazadas region \n  &lt;chr&gt;        &lt;int&gt;      &lt;int&gt; &lt;chr&gt;  \n1 INDONESIA      670        191 Asia   \n2 BRASIL         648         80 America\n3 CHINA          551         73 Asia   \n4 MEXICO         523         96 America\n5 PERU           467         53 America\n6 CONGO          430         15 Africa"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-9",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-9",
    "title": "Manipulacion y limpieza de datos",
    "section": ":",
    "text": ":\nSelecciona variables contiguas\n\n\npaises_m %&gt;% \n  select(pais:amenazadas) %&gt;% head()\n\n# A tibble: 6 √ó 3\n  pais      especies amenazadas\n  &lt;chr&gt;        &lt;int&gt;      &lt;int&gt;\n1 Indonesia      670        191\n2 Brasil         648         80\n3 China          551         73\n4 Mexico         523         96\n5 Peru           467         53\n6 Congo          430         15"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-10",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-10",
    "title": "Manipulacion y limpieza de datos",
    "section": "-",
    "text": "-\nExcluir variables\n(devuleve todos los elementos excepto el que sigue el operador de resta)\n\n\npaises_m %&gt;% \n  select(-region) %&gt;% head()\n\n# A tibble: 6 √ó 3\n  pais      especies amenazadas\n  &lt;chr&gt;        &lt;int&gt;      &lt;int&gt;\n1 Indonesia      670        191\n2 Brasil         648         80\n3 China          551         73\n4 Mexico         523         96\n5 Peru           467         53\n6 Congo          430         15"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#across-sin-funciones-auxiliares",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#across-sin-funciones-auxiliares",
    "title": "Manipulacion y limpieza de datos",
    "section": "across sin funciones auxiliares",
    "text": "across sin funciones auxiliares\nRa√≠z cuadarada (sqrt()) de especies y amenazadas\n\npaises_m %&gt;%  \n  mutate(across(c(especies, amenazadas), sqrt)) %&gt;% \n  head()\n\n# A tibble: 6 √ó 4\n  pais      especies amenazadas region \n  &lt;chr&gt;        &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;  \n1 Indonesia     25.9      13.8  Asia   \n2 Brasil        25.5       8.94 America\n3 China         23.5       8.54 Asia   \n4 Mexico        22.9       9.80 America\n5 Peru          21.6       7.28 America\n6 Congo         20.7       3.87 Africa"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#ra√≠z-cuadrada-sqrt-de-todas-las-variables-num√©ricas",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#ra√≠z-cuadrada-sqrt-de-todas-las-variables-num√©ricas",
    "title": "Manipulacion y limpieza de datos",
    "section": "Ra√≠z cuadrada (sqrt()) de todas las variables num√©ricas",
    "text": "Ra√≠z cuadrada (sqrt()) de todas las variables num√©ricas\n\npaises_m %&gt;% \n  mutate(across(where(is.numeric), sqrt)) %&gt;% \n  head()\n\n# A tibble: 6 √ó 4\n  pais      especies amenazadas region \n  &lt;chr&gt;        &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;  \n1 Indonesia     25.9      13.8  Asia   \n2 Brasil        25.5       8.94 America\n3 China         23.5       8.54 Asia   \n4 Mexico        22.9       9.80 America\n5 Peru          21.6       7.28 America\n6 Congo         20.7       3.87 Africa"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#funciones-auxiliares-para-descartar-variables",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#funciones-auxiliares-para-descartar-variables",
    "title": "Manipulacion y limpieza de datos",
    "section": "Funciones auxiliares para descartar variables",
    "text": "Funciones auxiliares para descartar variables\nDejar solo variables num√©ricas\n\npaises_m %&gt;% \n  select(where(is.numeric)) %&gt;% \n  head()\n\n# A tibble: 6 √ó 2\n  especies amenazadas\n     &lt;int&gt;      &lt;int&gt;\n1      670        191\n2      648         80\n3      551         73\n4      523         96\n5      467         53\n6      430         15"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-11",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-11",
    "title": "Manipulacion y limpieza de datos",
    "section": "",
    "text": "Datos anchos\nLectura y captura m√°s f√°cil\n√ötil para edici√≥n interactiva en hojas de c√°lculo\n\n\nDatos largos\nTiende a seguir principios de Datos Ordenados\nListos para analizar\nSe vinculan directamente con par√°metros est√©ticos en un gr√°fico"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#reestructurando-datos-con-tidyr",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#reestructurando-datos-con-tidyr",
    "title": "Manipulacion y limpieza de datos",
    "section": "Reestructurando datos con üì¶ tidyr",
    "text": "Reestructurando datos con üì¶ tidyr\n ancho a largo: pivot_longer()\n\n\npivot_longer(data, cols, names_to, values_to)\n\n\n largo a ancho: pivot_wider()\n\n\npivot_longer(data, cols, names_from, values_from)"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-12",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-12",
    "title": "Manipulacion y limpieza de datos",
    "section": "",
    "text": "coloniasDatos\n\n\n\n\n\n\n\n  \n    \n    \n      Asentamiento\n      Tipo\n      CP\n      Abarrotes\n      Supermercado\n      Minisuper\n    \n  \n  \n    Arroyo Blanco\nColonia\n91025\n7\n2\n1\n    Atenas\nFraccionamiento\n91184\n1\n0\n2\n    Colibris\nColonia\n91067\n8\n3\n2\n    Del Valle\nUnidad Habitacional\n91097\n2\n1\n1\n    El Cafetal\nFraccionamiento\n91150\n2\n0\n0\n  \n  \n  \n\n\n\n\n\n\n\ncolonias &lt;- \ntibble::tribble(\n    ~Asentamiento,                 ~Tipo,    ~CP, ~Abarrotes, ~Supermercado, ~Minisuper,\n  \"Arroyo Blanco\",             \"Colonia\", 91025L,         7L,            2L,         1L,\n         \"Atenas\",     \"Fraccionamiento\", 91184L,         1L,            0L,         2L,\n       \"Colibris\",             \"Colonia\", 91067L,         8L,            3L,         2L,\n      \"Del Valle\", \"Unidad Habitacional\", 91097L,         2L,            1L,         1L,\n     \"El Cafetal\",     \"Fraccionamiento\", 91150L,         2L,            0L,         0L\n  )\n\n\n\n\nVariables:\ncolonia, tipo de asentamiento, C√≥digo Postal, N√∫mero de negocios"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#ancho-a-largo",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#ancho-a-largo",
    "title": "Manipulacion y limpieza de datos",
    "section": "Ancho a largo",
    "text": "Ancho a largo\n\ncolonias_largo &lt;- colonias %&gt;%\n  pivot_longer(\n    cols = c(Abarrotes,Supermercado,Minisuper),\n    names_to = \"tipo_negocio\",\n    values_to = \"n_negocios\")\n\ncols Las columnas cuyos nombres son datos\nnames_to Nombre para la nueva varible que se crea a partir de los nombres de cada cols\nvalues_to Nombre para la variable que se crea a partir de los contenidos de cada columna especificada con cols"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-13",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-13",
    "title": "Manipulacion y limpieza de datos",
    "section": "",
    "text": "colonias %&gt;%\n  pivot_longer(\n    cols = c(Abarrotes,Supermercado,Minisuper),\n    names_to = \"tipo_negocio\",\n    values_to = \"n_negocios\")"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-14",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-14",
    "title": "Manipulacion y limpieza de datos",
    "section": "",
    "text": "colonias %&gt;%\n  pivot_longer(\n    cols = c(Abarrotes,Supermercado,Minisuper),\n    names_to = \"tipo_negocio\",\n    values_to = \"n_negocios\")\n\n# A tibble: 15 √ó 5\n   Asentamiento  Tipo                   CP tipo_negocio n_negocios\n   &lt;chr&gt;         &lt;chr&gt;               &lt;int&gt; &lt;chr&gt;             &lt;int&gt;\n 1 Arroyo Blanco Colonia             91025 Abarrotes             7\n 2 Arroyo Blanco Colonia             91025 Supermercado          2\n 3 Arroyo Blanco Colonia             91025 Minisuper             1\n 4 Atenas        Fraccionamiento     91184 Abarrotes             1\n 5 Atenas        Fraccionamiento     91184 Supermercado          0\n 6 Atenas        Fraccionamiento     91184 Minisuper             2\n 7 Colibris      Colonia             91067 Abarrotes             8\n 8 Colibris      Colonia             91067 Supermercado          3\n 9 Colibris      Colonia             91067 Minisuper             2\n10 Del Valle     Unidad Habitacional 91097 Abarrotes             2\n11 Del Valle     Unidad Habitacional 91097 Supermercado          1\n12 Del Valle     Unidad Habitacional 91097 Minisuper             1\n13 El Cafetal    Fraccionamiento     91150 Abarrotes             2\n14 El Cafetal    Fraccionamiento     91150 Supermercado          0\n15 El Cafetal    Fraccionamiento     91150 Minisuper             0"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#largo-a-ancho",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#largo-a-ancho",
    "title": "Manipulacion y limpieza de datos",
    "section": "Largo a ancho",
    "text": "Largo a ancho\n\ncolonias_largo %&gt;% \n  pivot_wider(names_from = tipo_negocio, \n              values_from = n_negocios)\n\nnames_from De cu√°les columnas vamos a tomar valores para los nombres de las nuevas variables\nvalues_from Cu√°l columna tiene los valores de celda para las nuevas variables creadas"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-15",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-15",
    "title": "Manipulacion y limpieza de datos",
    "section": "",
    "text": "colonias_largo %&gt;% \n  pivot_wider(names_from = tipo_negocio, \n              values_from = n_negocios)\n\n# A tibble: 5 √ó 6\n  Asentamiento  Tipo                   CP Abarrotes Supermercado Minisuper\n  &lt;chr&gt;         &lt;chr&gt;               &lt;int&gt;     &lt;int&gt;        &lt;int&gt;     &lt;int&gt;\n1 Arroyo Blanco Colonia             91025         7            2         1\n2 Atenas        Fraccionamiento     91184         1            0         2\n3 Colibris      Colonia             91067         8            3         2\n4 Del Valle     Unidad Habitacional 91097         2            1         1\n5 El Cafetal    Fraccionamiento     91150         2            0         0"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#ejercicio---pivot",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#ejercicio---pivot",
    "title": "Manipulacion y limpieza de datos",
    "section": "Ejercicio - pivot",
    "text": "Ejercicio - pivot\n\nCarga el archivo ‚Äúexpresion_genes.csv‚Äù. Esta tabla contiene valores de expresi√≥n g√©nica para cinco especies de peces, a partir de muestras tomadas en seis tiempos y de dos tejidos.\nTransforma los datos de ancho a largo y de regreso a ancho."
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-16",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-16",
    "title": "Manipulacion y limpieza de datos",
    "section": "",
    "text": "coalesce() - Combina valores. A partir de dos o m√°s vectores, retiene valores en orden y rellena datos faltantes con valores de los siguientes vectores.\n\nfill() Rellena valores adyacentes. Ayuda a evitar datos faltantes innecesarios. Similar a las funciones para rellenar valores contiguos en hojas de c√°lculo."
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#dplyrcoalesce",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#dplyrcoalesce",
    "title": "Manipulacion y limpieza de datos",
    "section": "dplyr::coalesce()",
    "text": "dplyr::coalesce()\n\nEncuentra y regresa el primer valor que no sea NA en cada posici√≥n para un conjunto de vectores\n\n* las columnas en datos rectangulares son vectores\n\nDevuelve un solo vector con los valores que no sean NA que aparezcan primero."
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-17",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-17",
    "title": "Manipulacion y limpieza de datos",
    "section": "",
    "text": "x &lt;- c(1, 2, NA, NA, 5)\ny &lt;- c(NA, NA, 3, 4, 5)\nz &lt;- c(1, 4, 3, 5, 3)\n\n\nVectores num√©ricos del mismo largo, hay valores faltantes.\n\n\ncoalesce(x, y, z)\n\n[1] 1 2 3 4 5\n\n\n\n\nEl orden de los argumentos importa"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-18",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-18",
    "title": "Manipulacion y limpieza de datos",
    "section": "",
    "text": "x &lt;- c(1, 2, NA, NA, 5)\ny &lt;- c(NA, NA, 3, 4, 5)\nz &lt;- c(1, 4, 3, 5, 3)\n\n\n\n\ncoalesce(z,x,y)\n\n[1] 1 4 3 5 3"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-19",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-19",
    "title": "Manipulacion y limpieza de datos",
    "section": "",
    "text": "humedad sueloDatos\n\n\n\n\n\n\n\n  \n    \n    \n      muestra\n      sensor_1\n      sensor_respaldo\n      literatura\n    \n  \n  \n    ladera sur\nNA\n4.9\n2.6\n    ladera norte\n2.2\nNA\n4.3\n    urbano\n4.5\n5.0\n3.4\n    invernadero A\nNA\n2.7\n3.5\n    invernadero B\n2.5\nNA\n2.3\n  \n  \n  \n\n\n\n\n\n\n\nhumedad &lt;- \ntibble::tribble(\n         ~muestra, ~sensor_1, ~sensor_respaldo, ~literatura,\n     \"ladera sur\",        NA,              4.9,         2.6,\n   \"ladera norte\",       2.2,               NA,         4.3,\n         \"urbano\",       4.5,                5,         3.4,\n  \"invernadero A\",        NA,              2.7,         3.5,\n  \"invernadero B\",       2.5,               NA,         2.3\n  )"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-20",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-20",
    "title": "Manipulacion y limpieza de datos",
    "section": "",
    "text": "humedad %&gt;% \n  mutate(val_completo = coalesce(sensor_1, sensor_respaldo, literatura))\n\n# A tibble: 5 √ó 5\n  muestra       sensor_1 sensor_respaldo literatura val_completo\n  &lt;chr&gt;            &lt;dbl&gt;           &lt;dbl&gt;      &lt;dbl&gt;        &lt;dbl&gt;\n1 ladera sur        NA               4.9        2.6          4.9\n2 ladera norte       2.2            NA          4.3          2.2\n3 urbano             4.5             5          3.4          4.5\n4 invernadero A     NA               2.7        3.5          2.7\n5 invernadero B      2.5            NA          2.3          2.5"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#tidyrfill",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#tidyrfill",
    "title": "Manipulacion y limpieza de datos",
    "section": "tidyr::fill()",
    "text": "tidyr::fill()\n\n\n\n\n\n\n\n  \n    \n    \n      mamiferos\n      biomasa\n    \n  \n  \n    ganado\n21\n    NA\n5\n    NA\n7\n    NA\n23\n    NA\n74\n    silvestre\n23\n    NA\n65\n    NA\n12\n    NA\n5\n  \n  \n  \n\n\n\n\n\n\nRellena valores faltantes en una columna (por defecto de arriba a abajo)\nSe asume que los valores contiguos son los mismos hasta que aparece otro distinto en la misma columna\nRellena hasta el siguiente valor que no sea NA"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-21",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-21",
    "title": "Manipulacion y limpieza de datos",
    "section": "",
    "text": "carbon_mamiferos\n\n# A tibble: 9 √ó 2\n  mamiferos biomasa\n  &lt;chr&gt;       &lt;dbl&gt;\n1 ganado         21\n2 &lt;NA&gt;            5\n3 &lt;NA&gt;            7\n4 &lt;NA&gt;           23\n5 &lt;NA&gt;           74\n6 silvestre      23\n7 &lt;NA&gt;           65\n8 &lt;NA&gt;           12\n9 &lt;NA&gt;            5\n\n\n\n\ncarbon_mamiferos %&gt;% \n  fill(mamiferos)\n\n# A tibble: 9 √ó 2\n  mamiferos biomasa\n  &lt;chr&gt;       &lt;dbl&gt;\n1 ganado         21\n2 ganado          5\n3 ganado          7\n4 ganado         23\n5 ganado         74\n6 silvestre      23\n7 silvestre      65\n8 silvestre      12\n9 silvestre       5"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#expresiones-regulares",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#expresiones-regulares",
    "title": "Manipulacion y limpieza de datos",
    "section": "¬øExpresiones regulares?",
    "text": "¬øExpresiones regulares?\n\n\nConocidas como regex, R.E., E.R., o regexp (singular)\nLenguaje conciso para describir patrones de texto\n\n\nCadenas (üß∂strings) de caracteres codificadas especificamente para empatar patrones en otras cadenas de texto"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#expresiones-regulares-1",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#expresiones-regulares-1",
    "title": "Manipulacion y limpieza de datos",
    "section": "Expresiones regulares",
    "text": "Expresiones regulares\nEn la pr√°ctica, un lenguaje de programaci√≥n con su propia sintaxis y terminolog√≠a\n\nentrada: una cadena de texto que se compila en un mini programa construido espec√≠ficamente para identificar un patr√≥n\n Pueden usarse para empatar, buscar, reemplazar, o partir texto"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#cadenas-de-texto-strings",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#cadenas-de-texto-strings",
    "title": "Manipulacion y limpieza de datos",
    "section": "Cadenas de texto (üß∂Strings)",
    "text": "Cadenas de texto (üß∂Strings)\nUn conjunto de caracteres que componen un elemento de un vector:\n\n\ncadena_de_texto &lt;- \"Esta oraci√≥n es una cadena\"\n\n\nPodemos almacenar varias cadenas en un vector de texto:\n\n\nmascotas &lt;-  c(\"perro\",\"gato\",\"loro\",\"perro\")"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#cadenas-de-texto",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#cadenas-de-texto",
    "title": "Manipulacion y limpieza de datos",
    "section": "Cadenas de texto",
    "text": "Cadenas de texto\n\n\nLos nombres de variables, objetos, y los valores en un data frame tambi√©n pueden ser cadenas de texto:\n\n\n\nWarning: Since gt v0.3.0, `columns = vars(...)` has been deprecated.\n‚Ä¢ Please use `columns = c(...)` instead.\n\n\n\n\n\n  \n    \n    \n      bebida\n      precio\n    \n  \n  \n    caf√©\n3.50\n    t√©\n2.99\n    jugo\n3.20"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#r-distingue-entre-may√∫sculas-y-min√∫sculas",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#r-distingue-entre-may√∫sculas-y-min√∫sculas",
    "title": "Manipulacion y limpieza de datos",
    "section": "R distingue entre may√∫sculas y min√∫sculas",
    "text": "R distingue entre may√∫sculas y min√∫sculas\nLa misma letra en may√∫scula y m√≠nuscula se trata como un caracter diferente\n\n\n\"rata\"==\"RATA\"\n\n[1] FALSE\n\n\n\n\"rata\"==\"raTa\"\n\n[1] FALSE"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#por-defecto-las-expresionas-regulares-tambi√©n-distinguen-entre-may√∫sculas-y-m√≠nusculas",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#por-defecto-las-expresionas-regulares-tambi√©n-distinguen-entre-may√∫sculas-y-m√≠nusculas",
    "title": "Manipulacion y limpieza de datos",
    "section": "Por defecto las expresionas regulares tambi√©n distinguen entre may√∫sculas y m√≠nusculas",
    "text": "Por defecto las expresionas regulares tambi√©n distinguen entre may√∫sculas y m√≠nusculas\nPodemos:\n\nConstruir expresiones que no distingan\n‚ÄòIgnorar‚Äô esta distinci√≥n al momento de empatar caracteres"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#para-qu√©-aprender-a-escribir-expresiones-regulares",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#para-qu√©-aprender-a-escribir-expresiones-regulares",
    "title": "Manipulacion y limpieza de datos",
    "section": "¬øPara qu√© aprender a escribir expresiones regulares?",
    "text": "¬øPara qu√© aprender a escribir expresiones regulares?\n\n\n\nAhorrar tiempo al buscar patrones, transformar texto, describir patrones, extraer partes de palabras, etc.\nUna sola expresi√≥n regular puede reemplazar decenas de l√≠neas de c√≥digo\nSirven en pr√°cticamente cualquier lenguaje de programaci√≥n o aplicaci√≥n de l√≠nea de comandos"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#primeros-pasos-con-regex",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#primeros-pasos-con-regex",
    "title": "Manipulacion y limpieza de datos",
    "section": "Primeros pasos con regex",
    "text": "Primeros pasos con regex\n\n\nExpresi√≥n regular\n gato\n\nEntrada\n ‚ÄúEse gato feo‚Äù\n\nResultado\n Ese gato feo\n\n\nLa expresi√≥n regular para encontrar una secuencia fija de caracteres es esa misma secuencia\n\nbusca una g seguida de una a luego t y o (todos estos caracteres juntos y en ese orden de izq. a der.)"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#probando-regex",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#probando-regex",
    "title": "Manipulacion y limpieza de datos",
    "section": "Probando regex",
    "text": "Probando regex\n¬øEst√° funcionando mi expresi√≥n?\n\nrubular - Michael Lovitt\nregex101 - Firas Dib\nregexr - Grant Skinner\nregexpal - Dan‚Äôs Developer Tools"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#ejercicio",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#ejercicio",
    "title": "Manipulacion y limpieza de datos",
    "section": "Ejercicio",
    "text": "Ejercicio\nAbrir rubular, regex101, regexr, o regexpal\nProbemos el primer ejemplo gato y ‚Äúese gato feo‚Äù"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#caracteres-literales-y-metacaracteres",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#caracteres-literales-y-metacaracteres",
    "title": "Manipulacion y limpieza de datos",
    "section": "Caracteres literales y metacaracteres",
    "text": "Caracteres literales y metacaracteres\nTanto las cadenas de texto como las expresiones regulares se componen por caracteres\n\nPodemos agrupar a los caracteres dependiendo de su comportamiento"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#literales",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#literales",
    "title": "Manipulacion y limpieza de datos",
    "section": "Literales",
    "text": "Literales\nSi la entrada es ‚Äúpato‚Äù y la E.R. es pato\n\nHabr√° coincidencia cuando los caracteres p, a, t y o aparezcan consecutivamente en el texto de entrada"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#caracteres-literales",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#caracteres-literales",
    "title": "Manipulacion y limpieza de datos",
    "section": "Caracteres literales",
    "text": "Caracteres literales\np, a, t y o ser√≠an ejemplos de caracteres literales\n Se encuentran a s√≠ mismos"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-22",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-22",
    "title": "Manipulacion y limpieza de datos",
    "section": "",
    "text": "El poder y la flexibilidad de las expresiones regulares viene de su capacidad de describir patrones complejos\n\n\n\n Si un patron de texto se puede describir verbalmente, seguramente se puede codificar en una expresi√≥n regular"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#patrones-posibles",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#patrones-posibles",
    "title": "Manipulacion y limpieza de datos",
    "section": "Patrones posibles",
    "text": "Patrones posibles\n\n‚Äúrata‚Äù pero no ‚Äúbata‚Äù\n‚Äúpollo‚Äù pero solo si el esta secuencia est√° al principio de la cadena de texto\nn√∫meros (0, 1, 2, 3, 4, 5, 6, 7, 8, 9)\nVariantes ortogr√°ficas ‚ÄúBrasil‚Äù o ‚ÄúBrazil‚Äù\nPalabras con terminaciones espec√≠ficas (DAE, NAE, etc.)\nFechas\nCorreos electr√≥nicos"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#m√°s-posibilidades",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#m√°s-posibilidades",
    "title": "Manipulacion y limpieza de datos",
    "section": "M√°s posibilidades",
    "text": "M√°s posibilidades\n\nC√≥digos postales\nN√∫meros entre par√©ntesis\nUsuarios de Twitter (comienzan con @, sin espacios ni s√≠mbolos, &lt;16 caracteres)\nPalabras en MAY√öSCULA"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#metacaracteres",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#metacaracteres",
    "title": "Manipulacion y limpieza de datos",
    "section": "Metacaracteres",
    "text": "Metacaracteres\nUn peque√±o subconjunto de caracteres nos ayudan a describir patrones m√°s complejos porque tienen comportamientos especiales y no se buscan solo a s√≠ mismos.\nCuando aparecen en una E.R., se interpretan de una manera especial.\nIncluyen: []^$.|?*+(), que est√°n apartados para fines especiales"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#comodines",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#comodines",
    "title": "Manipulacion y limpieza de datos",
    "section": "Comodines",
    "text": "Comodines\nPara empatar caracteres desconocidos\n. empata cualquier caracter una vez\n m..l empata ‚Äúmiel‚Äù pero no ‚Äúmiguel‚Äù"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#conjuntos-de-caracteres",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#conjuntos-de-caracteres",
    "title": "Manipulacion y limpieza de datos",
    "section": "Conjuntos de caracteres",
    "text": "Conjuntos de caracteres\nEmpatan uno o m√°s caracteres especificados con corchetes\n[ ] para buscar conjuntos de caracteres\n\n[mr]ata empata ‚Äúmata‚Äù, y ‚Äúrata‚Äù, pero no ‚Äúbata‚Äù"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#negando-conjuntos-de-caracteres",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#negando-conjuntos-de-caracteres",
    "title": "Manipulacion y limpieza de datos",
    "section": "Negando conjuntos de caracteres",
    "text": "Negando conjuntos de caracteres\n[^] ¬†¬† excluye conjuntos de caracteres\n\n^ va al principio del conjunto\n\n\n[^aoeiou] solo empata consonantes\n[^R] todo excepto R may√∫scula"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#intervalos-de-caracteres",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#intervalos-de-caracteres",
    "title": "Manipulacion y limpieza de datos",
    "section": "Intervalos de caracteres",
    "text": "Intervalos de caracteres\nIndican una serie de caracteres contiguos dentro de un conjunto de caracteres\nEl gui√≥n - dentro de un conjunto de caracteres sirve para abreviar secuencias alfab√©ticas o num√©ricas\n[A-D] cualquier letra may√∫scula entre A y D\n[5-8] cualquier d√≠gito entre 5 y 8\n[A-Za-z] cualquier letra"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#aserciones-de-tipo-l√≠mite-anchors",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#aserciones-de-tipo-l√≠mite-anchors",
    "title": "Manipulacion y limpieza de datos",
    "section": "Aserciones de tipo l√≠mite (anchors)",
    "text": "Aserciones de tipo l√≠mite (anchors)\nEspecifican la posici√≥n relativa del patr√≥n que estamos buscando\n¬†^¬† ¬†¬† comienza con\n¬†$¬† ¬†¬† termina con\n\n\n¬†¬†^mil empata ‚Äúmilitar‚Äù pero no ‚Äúfamilia‚Äù\ning$ empata ‚ÄúBoing‚Äù pero no ‚Äúingeniero‚Äù"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#ejercicio-1",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#ejercicio-1",
    "title": "Manipulacion y limpieza de datos",
    "section": "Ejercicio",
    "text": "Ejercicio\n\n¬øC√≥mo podemos empatar mano, milo, malo, y mito?\n¬øC√≥mo podemos empatar Cristian, Kristian, y Crystian usando conjuntos de caracteres?"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#pr√°ctica",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#pr√°ctica",
    "title": "Manipulacion y limpieza de datos",
    "section": "Pr√°ctica",
    "text": "Pr√°ctica\n\n¬øCu√°l de estas E.R. empata mila al principio de una cadena de texto?\n\n\n\n\n^mila\n\n\n\nmila\n\n\n\n$mila\n\n\n\nmila^"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#cuantificadores",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#cuantificadores",
    "title": "Manipulacion y limpieza de datos",
    "section": "Cuantificadores",
    "text": "Cuantificadores\nIndican el n√∫mero de caracteres o expresiones que deben coincidir\n¬†?¬† ¬†¬†Cero o una\n¬†*¬† ¬†¬†Cero o m√°s\n¬†+¬† ¬†¬†Una o m√°s\n¬†{} ¬†¬† n veces\n\nlos cuantificadores aplican al caracter que tienen a su izquierda"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#cuantificadores-1",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#cuantificadores-1",
    "title": "Manipulacion y limpieza de datos",
    "section": "Cuantificadores",
    "text": "Cuantificadores\nIsabell?a coincide con ‚ÄúIsabella‚Äù y con ‚ÄúIsabela‚Äù\n\n0 o 1\n\ngo*l! coincide con: ‚Äúgl!‚Äù, ‚Äúgol!‚Äù, ‚Äúgooool!‚Äù, ‚Äúgoooooooool!‚Äù, etc.\n\n0 o m√°s"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#cuantificadores-2",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#cuantificadores-2",
    "title": "Manipulacion y limpieza de datos",
    "section": "Cuantificadores",
    "text": "Cuantificadores\nno+ empata ‚Äúno‚Äù, ‚Äúnooo‚Äù, ‚Äúnoooooo‚Äù, etc, pero no ‚Äún‚Äù\n\nuna o m√°s\n\na{2} empata ‚Äúportaaviones‚Äù pero no ‚Äúportaviones‚Äù\n\nn veces"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#ejercicio-2",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#ejercicio-2",
    "title": "Manipulacion y limpieza de datos",
    "section": "Ejercicio",
    "text": "Ejercicio\n\nEmpatar mira, miiiiiiiiiira, y miiira\nEmpatar Computador, computadora, computador, y Computadora (usar juegos de caracteres y cuantificadores)"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#coincidencias-alternativas",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#coincidencias-alternativas",
    "title": "Manipulacion y limpieza de datos",
    "section": "Coincidencias alternativas",
    "text": "Coincidencias alternativas\nSepara alternativas de b√∫squeda\n¬†|¬† ¬†¬† una u otra opci√≥n\n\nBra(s|z)il ecuentra Brasil y Brazil.\n\nlas dos alternativas van entre par√©ntesis"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#construcciones-especiales-y-escapes",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#construcciones-especiales-y-escapes",
    "title": "Manipulacion y limpieza de datos",
    "section": "Construcciones especiales y escapes",
    "text": "Construcciones especiales y escapes\n¬†\\¬† ¬†¬† indica una construcci√≥n especial abreviada o sirve para poder usar caracteres especiales como literales"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#escapes",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#escapes",
    "title": "Manipulacion y limpieza de datos",
    "section": "Escapes",
    "text": "Escapes\nqu√©\\\\? para poder buscar el signo de interrogaci√≥n literalmente\n\nen R la diagonal tambi√©n se tiene que escapar\n\nLos metacaracteres dentro de conjuntos de caracteres se vuelven literales"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#construcciones-especiales",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#construcciones-especiales",
    "title": "Manipulacion y limpieza de datos",
    "section": "Construcciones especiales",
    "text": "Construcciones especiales\nPara abreviar conjuntos de caracteres\n\\w ¬†letras, gui√≥n bajo, y n√∫meros\n\\d ¬†d√≠gitos\n\\ttabulaci√≥n\n\\n ¬† saltos de l√≠nea\n\\s ¬†espacio\n\\b ¬†l√≠mite de palabra"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#l√≠mites-de-palabra",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#l√≠mites-de-palabra",
    "title": "Manipulacion y limpieza de datos",
    "section": "L√≠mites de palabra",
    "text": "L√≠mites de palabra\n\\b\nMarca la posici√≥n en la que un caracter de palabra (letras, n√∫meros, gui√≥n bajo) no va seguido o precedido por otro caracter de palabra (espacios o el inicio o fin de la cadena)\nEl l√≠mite de una palabra encontrada no se incluye en el resultado\nAntes de\n\\bmila encuentra ‚Äúla milanesa‚Äù pero no ‚ÄúCamila‚Äù\nDespu√©s de\narte\\b encuentra ‚Äúsaludarte hoy‚Äù pero no ‚Äúartesanal‚Äù"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#ejercicio-3",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#ejercicio-3",
    "title": "Manipulacion y limpieza de datos",
    "section": "Ejercicio",
    "text": "Ejercicio\n\nCon la entrada ‚ÄúLos tacos de canasta en Tabasco se abarrotaron‚Äù\n\nExpliquemos qu√© pasa cuando usamos estas tres E.R.\n\nta\n\n\\bta\n\nta\\b"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#combinaciones",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#combinaciones",
    "title": "Manipulacion y limpieza de datos",
    "section": "Combinaciones",
    "text": "Combinaciones\n^can.* empata ‚Äúcan‚Äù, ‚Äúcanino‚Äù, ‚Äúcanasta‚Äù, y ‚Äúcanadiense‚Äù\nA.*n cualquier cadena de texto que empiece con ‚ÄúA‚Äù y termine con ‚Äún‚Äù\n^[a-z]+$ solo min n√∫sculas\n\\w+\\b$ la √∫ltima palabra en una cadena\n‚Äú12 de marzo‚Äù\n‚ÄúLiomys pictus‚Äù\n^\\w+\\b primera palabra ‚Äú12 de marzo‚Äù\n‚ÄúLiomys pictus‚Äù"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#ejercicio-4",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#ejercicio-4",
    "title": "Manipulacion y limpieza de datos",
    "section": "Ejercicio",
    "text": "Ejercicio\nEmpatemos:\n\nOraciones que terminen con un punto\nCuatro d√≠gitos\nCadenas sin la letra s"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-24",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-24",
    "title": "Manipulacion y limpieza de datos",
    "section": "",
    "text": "Podemos crear subconjuntos de filas y columnas mediante coincidencias entre expresiones regulares y nombres de variables o con sus valores"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#stringr",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#stringr",
    "title": "Manipulacion y limpieza de datos",
    "section": "üì¶ stringr",
    "text": "üì¶ stringr\nFunciones para manipular cadenas de texto\n\nLos nombres de las funciones tienen el prefijo str_\nEl primer argumento de sus funciones es la cadena de texto de inter√©s\nFunci√≥n regex() para modificar el comportamiento de b√∫squeda\n\nignore_case=TRUE para dejar de distinguir entre may√∫sculas y min√∫sculas"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#stringr---ejemplos",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#stringr---ejemplos",
    "title": "Manipulacion y limpieza de datos",
    "section": "stringr - ejemplos",
    "text": "stringr - ejemplos\n¬øCoincidencias?\n\n\nstr_detect(string = c(\"catalogo\", \"aguacate\",\n\"pera\"),\n pattern = \"cat\")\n\n\n\nRegresa un vector V/F de la misma longitud que la entrada"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#stringr---ejemplos-output",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#stringr---ejemplos-output",
    "title": "Manipulacion y limpieza de datos",
    "section": "stringr - ejemplos",
    "text": "stringr - ejemplos\n\n[1]  TRUE  TRUE FALSE"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#stringr---m√°s-ejemplos",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#stringr---m√°s-ejemplos",
    "title": "Manipulacion y limpieza de datos",
    "section": "stringr - m√°s ejemplos",
    "text": "stringr - m√°s ejemplos\n¬øCu√°les elementos coinciden?\n\n\nstr_which(string = c(\"catalogo\", \"aguacate\", \"pera\"), pattern = \"cat\")\n\n\n\nRegresa el √≠ndice de los elemenots con coincidencias"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#stringr---m√°s-ejemplos-output",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#stringr---m√°s-ejemplos-output",
    "title": "Manipulacion y limpieza de datos",
    "section": "stringr - m√°s ejemplos",
    "text": "stringr - m√°s ejemplos\n\n[1] 1 2"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#stringr---reemplazar-coincidencias",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#stringr---reemplazar-coincidencias",
    "title": "Manipulacion y limpieza de datos",
    "section": "stringr - reemplazar coincidencias",
    "text": "stringr - reemplazar coincidencias\n\n\nstr_replace(string = c(\"anthonyi\", \"daviesi\", \"jonesi\"),\n            pattern = \"i$\",\n            replacement = \"ii\")\n\n[1] \"anthonyii\" \"daviesii\"  \"jonesii\""
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#stringr---funci√≥n-regex",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#stringr---funci√≥n-regex",
    "title": "Manipulacion y limpieza de datos",
    "section": "stringr - funci√≥n regex()",
    "text": "stringr - funci√≥n regex()\nSin distinci√≥n entre MAYUSCULAS y min√∫sculas\n\nstr_replace(string = c(\"anthonyI\", \"daviesi\", \"jonesi\"),\n            pattern = regex(\"i$\",ignore_case = TRUE),\n            replacement = \"ii\")\n\n[1] \"anthonyii\" \"daviesii\"  \"jonesii\""
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#ejercicio---stringr",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#ejercicio---stringr",
    "title": "Manipulacion y limpieza de datos",
    "section": "Ejercicio - stringr",
    "text": "Ejercicio - stringr\nProbemos estas expresiones contra este vector usando str_detect. Explicar las coincidencias.\nE. regulares\n\n^ave\n\n^[a-z]+$\n\n\\d\n\n\nvec_texto &lt;- c(\"Aves y reptiles\",\"hamburguesa\",\n                 \"34\",\"(34)\",\"rAta\",\"avenida\",\n                 \"2011_julio\",\"inecol\",\"INECOL\")"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#manipulando-datos-con-expresiones-regulares",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#manipulando-datos-con-expresiones-regulares",
    "title": "Manipulacion y limpieza de datos",
    "section": "Manipulando datos con expresiones regulares",
    "text": "Manipulando datos con expresiones regulares\n\nElegir/descartar filas y columnas\nReemplazar o modificar valores\nExtraer o borrar partes de cadenas de texto"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#expresiones-regulares-y-dplyr",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#expresiones-regulares-y-dplyr",
    "title": "Manipulacion y limpieza de datos",
    "section": "Expresiones regulares y üì¶ dplyr",
    "text": "Expresiones regulares y üì¶ dplyr\n\nLa funci√≥n auxiliar matches() acepta expresiones regulares para seleccionar variables que contengan coincidencias"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#seleccionando-variables",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#seleccionando-variables",
    "title": "Manipulacion y limpieza de datos",
    "section": "Seleccionando variables",
    "text": "Seleccionando variables\nDatos de ping√ºinos pinguinos de üì¶ datos\n\n\nlibrary(datos)\ndata(pinguinos)\n\nWarning in data(pinguinos): data set 'pinguinos' not found\n\nnames(pinguinos)\n\n[1] \"especie\"         \"isla\"            \"largo_pico_mm\"   \"alto_pico_mm\"   \n[5] \"largo_aleta_mm\"  \"masa_corporal_g\" \"sexo\"            \"anio\""
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-26",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-26",
    "title": "Manipulacion y limpieza de datos",
    "section": "",
    "text": "pinguinos %&gt;% \n  select(especie, matches(\"larg\")) %&gt;% \n  sample_n(3)\n\n# A tibble: 3 √ó 3\n  especie largo_pico_mm largo_aleta_mm\n  &lt;fct&gt;           &lt;dbl&gt;          &lt;int&gt;\n1 Barbijo          47              185\n2 Adelia           36              186\n3 Adelia           38.8            191"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#filtrando-filas",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#filtrando-filas",
    "title": "Manipulacion y limpieza de datos",
    "section": "Filtrando filas",
    "text": "Filtrando filas\nDatos de paises del paquete üì¶ datos\n\nlibrary(datos)\ndata(paises)\n\n\n\npaises %&gt;% select(pais,continente) %&gt;% \n  sample_n(4)\n\n# A tibble: 4 √ó 2\n  pais       continente\n  &lt;fct&gt;      &lt;fct&gt;     \n1 Botswana   √Åfrica    \n2 L√≠bano     Asia      \n3 Bar√©in     Asia      \n4 Afganist√°n Asia"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#coincidencias-en-filas",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#coincidencias-en-filas",
    "title": "Manipulacion y limpieza de datos",
    "section": "Coincidencias en filas",
    "text": "Coincidencias en filas\nPaises con ‚Äúz‚Äù en su nombre\n\npaises %&gt;% select(pais,continente) %&gt;% \n  filter(str_detect(pais,\"z\")) %&gt;% \n  distinct()\n\n# A tibble: 7 √ó 2\n  pais                 continente\n  &lt;fct&gt;                &lt;fct&gt;     \n1 Bosnia y Herzegovina Europa    \n2 Mozambique           √Åfrica    \n3 Swazilandia          √Åfrica    \n4 Suiza                Europa    \n5 Tanzania             √Åfrica    \n6 T√∫nez                √Åfrica    \n7 Venezuela            Am√©ricas"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#valores-repetidos",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#valores-repetidos",
    "title": "Manipulacion y limpieza de datos",
    "section": "Valores repetidos",
    "text": "Valores repetidos\n\nDefinici√≥n variable pero generalmente dos o m√°s copias del mismo registro u observaci√≥n\n\nProblemas posibles\n\nInfl√°n datos\nCostos de repetici√≥n no intencional\nResultados imprecisos"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#identificando-y-eliminando-duplicados",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#identificando-y-eliminando-duplicados",
    "title": "Manipulacion y limpieza de datos",
    "section": "Identificando y eliminando duplicados",
    "text": "Identificando y eliminando duplicados\n\nIdentificar con get_dupes() del paquete üì¶ janitor\nEliminar con distinct() de üì¶ dplyr"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#repetici√≥n",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#repetici√≥n",
    "title": "Manipulacion y limpieza de datos",
    "section": "Repetici√≥n",
    "text": "Repetici√≥n\n\nEn todas las variables (copias id√©nticas de una fila)\nEn las variables que definen nuestras unidades observacionales\nEn conjuntos arbitrarios de variables"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-27",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-27",
    "title": "Manipulacion y limpieza de datos",
    "section": "",
    "text": "ordenes_pizzadatos\n\n\n\n\n\n\n\n  \n    \n    \n      IDusuario\n      Direccion\n      Colonia\n      Alcaldia\n    \n  \n  \n    Pablitoo\nCafetal 395 Casa 2\nSan Angel\nA. Obreg√≥n\n    susana24\nFresnos 114\nSan Angel\nA. Obreg√≥n\n    susana24\nFresnos 114\nSan Angel\nA. Obreg√≥n\n    jd.adriana\nCafetal 395 Casa 8\nSan Angel\nA. Obreg√≥n\n    JuanManuel\nHidalgo 11 Depto 1B\nCampestre\nA. Obreg√≥n\n    JoaquinED\nHidalgo 11 Depto 1B\nCampestre\nA. Obreg√≥n\n    e_ric2\nHidalgo 11 Depto 1B\nCampestre\nA. Obreg√≥n\n  \n  \n  \n\n\n\n\n\n\n\nordenes_pizza &lt;- \ntibble::tribble(\n    ~IDusuario,            ~Direccion,    ~Colonia,    ~Alcaldia,\n    \"Pablitoo\",  \"Cafetal 395 Casa 2\", \"San Angel\", \"A. Obreg√≥n\",\n    \"susana24\",         \"Fresnos 114\", \"San Angel\", \"A. Obreg√≥n\",\n    \"susana24\",         \"Fresnos 114\", \"San Angel\", \"A. Obreg√≥n\",\n  \"jd.adriana\",  \"Cafetal 395 Casa 8\", \"San Angel\", \"A. Obreg√≥n\",\n  \"JuanManuel\", \"Hidalgo 11 Depto 1B\", \"Campestre\", \"A. Obreg√≥n\",\n   \"JoaquinED\", \"Hidalgo 11 Depto 1B\", \"Campestre\", \"A. Obreg√≥n\",\n      \"e_ric2\", \"Hidalgo 11 Depto 1B\", \"Campestre\", \"A. Obreg√≥n\"\n  )"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#identificar-con-get_dupes",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#identificar-con-get_dupes",
    "title": "Manipulacion y limpieza de datos",
    "section": "Identificar con get_dupes()",
    "text": "Identificar con get_dupes()\n\nordenes_pizza %&gt;%\n  get_dupes() # todas las variables (por defecto)\n\nNo variable names specified - using all columns.\n\n\n# A tibble: 2 √ó 5\n  IDusuario Direccion   Colonia   Alcaldia   dupe_count\n  &lt;chr&gt;     &lt;chr&gt;       &lt;chr&gt;     &lt;chr&gt;           &lt;int&gt;\n1 susana24  Fresnos 114 San Angel A. Obreg√≥n          2\n2 susana24  Fresnos 114 San Angel A. Obreg√≥n          2\n\n\n\nA√±ade una variable dupe_count que cuantifica las filas con valores duplicados\nAcomoda las variables de inter√©s al principio del data frame resultante"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-28",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-28",
    "title": "Manipulacion y limpieza de datos",
    "section": "",
    "text": "get_dupes() asignando una variable para definir nuestra unidad observacional\n¬øAlguien orden√≥ m√°s de una vez?\n\nordenes_pizza %&gt;%\n  get_dupes(IDusuario)\n\n# A tibble: 2 √ó 5\n  IDusuario dupe_count Direccion   Colonia   Alcaldia  \n  &lt;chr&gt;          &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;     &lt;chr&gt;     \n1 susana24           2 Fresnos 114 San Angel A. Obreg√≥n\n2 susana24           2 Fresnos 114 San Angel A. Obreg√≥n"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-29",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-29",
    "title": "Manipulacion y limpieza de datos",
    "section": "",
    "text": "get_dupes() con combinaciones de variables\n\nFilas repetidas en direcci√≥n * colonia\n\n\naccepta funciones auxiliares de üì¶ tidyselect\n\n\nordenes_pizza %&gt;%\n  get_dupes(Direccion, starts_with(\"Col\"))\n\n# A tibble: 5 √ó 5\n  Direccion           Colonia   dupe_count IDusuario  Alcaldia  \n  &lt;chr&gt;               &lt;chr&gt;          &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;     \n1 Hidalgo 11 Depto 1B Campestre          3 JuanManuel A. Obreg√≥n\n2 Hidalgo 11 Depto 1B Campestre          3 JoaquinED  A. Obreg√≥n\n3 Hidalgo 11 Depto 1B Campestre          3 e_ric2     A. Obreg√≥n\n4 Fresnos 114         San Angel          2 susana24   A. Obreg√≥n\n5 Fresnos 114         San Angel          2 susana24   A. Obreg√≥n"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-30",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-30",
    "title": "Manipulacion y limpieza de datos",
    "section": "",
    "text": "Descartar con distinct() de üì¶ dplyr\n\n\nordenes_pizza %&gt;%\n  distinct() # todas las variables\n\n# A tibble: 6 √ó 4\n  IDusuario  Direccion           Colonia   Alcaldia  \n  &lt;chr&gt;      &lt;chr&gt;               &lt;chr&gt;     &lt;chr&gt;     \n1 Pablitoo   Cafetal 395 Casa 2  San Angel A. Obreg√≥n\n2 susana24   Fresnos 114         San Angel A. Obreg√≥n\n3 jd.adriana Cafetal 395 Casa 8  San Angel A. Obreg√≥n\n4 JuanManuel Hidalgo 11 Depto 1B Campestre A. Obreg√≥n\n5 JoaquinED  Hidalgo 11 Depto 1B Campestre A. Obreg√≥n\n6 e_ric2     Hidalgo 11 Depto 1B Campestre A. Obreg√≥n"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-31",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-31",
    "title": "Manipulacion y limpieza de datos",
    "section": "",
    "text": "distinct() con la variables que definen las unidades observacionales\n\nordenes_pizza %&gt;%\n  distinct(IDusuario, .keep_all = TRUE)\n\n# A tibble: 6 √ó 4\n  IDusuario  Direccion           Colonia   Alcaldia  \n  &lt;chr&gt;      &lt;chr&gt;               &lt;chr&gt;     &lt;chr&gt;     \n1 Pablitoo   Cafetal 395 Casa 2  San Angel A. Obreg√≥n\n2 susana24   Fresnos 114         San Angel A. Obreg√≥n\n3 jd.adriana Cafetal 395 Casa 8  San Angel A. Obreg√≥n\n4 JuanManuel Hidalgo 11 Depto 1B Campestre A. Obreg√≥n\n5 JoaquinED  Hidalgo 11 Depto 1B Campestre A. Obreg√≥n\n6 e_ric2     Hidalgo 11 Depto 1B Campestre A. Obreg√≥n\n\n\n\n.keep_all para retener o no las dem√°s columnas"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-32",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-32",
    "title": "Manipulacion y limpieza de datos",
    "section": "",
    "text": "distinct() con combinaciones de variables\n\nCombinaciones √∫nicas de direcci√≥n * colonia\n\n\nordenes_pizza %&gt;%\n  distinct(Direccion,Colonia)\n\n# A tibble: 4 √ó 2\n  Direccion           Colonia  \n  &lt;chr&gt;               &lt;chr&gt;    \n1 Cafetal 395 Casa 2  San Angel\n2 Fresnos 114         San Angel\n3 Cafetal 395 Casa 8  San Angel\n4 Hidalgo 11 Depto 1B Campestre"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#section-33",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#section-33",
    "title": "Manipulacion y limpieza de datos",
    "section": "",
    "text": "‚ö†Ô∏è Si .keep_all = TRUE y hay valores duplicados en otras variables, distinct solo retiene la primera fila\n\n\nordenes_pizza %&gt;%\n  distinct(Direccion,Colonia, .keep_all = TRUE)\n\n# A tibble: 4 √ó 4\n  IDusuario  Direccion           Colonia   Alcaldia  \n  &lt;chr&gt;      &lt;chr&gt;               &lt;chr&gt;     &lt;chr&gt;     \n1 Pablitoo   Cafetal 395 Casa 2  San Angel A. Obreg√≥n\n2 susana24   Fresnos 114         San Angel A. Obreg√≥n\n3 jd.adriana Cafetal 395 Casa 8  San Angel A. Obreg√≥n\n4 JuanManuel Hidalgo 11 Depto 1B Campestre A. Obreg√≥n"
  },
  {
    "objectID": "presentaciones/2-manipulacion_y_limpieza.html#ejercicio-5",
    "href": "presentaciones/2-manipulacion_y_limpieza.html#ejercicio-5",
    "title": "Manipulacion y limpieza de datos",
    "section": "Ejercicio",
    "text": "Ejercicio\n\nCargar el archivo murcielagos.csv\n¬øDe cu√°ntas localidades √∫nicas provienen estos registros?\nExportar un archivo con las localidades √∫nicas y nombres de columna en espa√±ol"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html",
    "href": "presentaciones/5.1-mapas_bivariados.html",
    "title": "Mapas bivariados",
    "section": "",
    "text": "Vamos a utilizar los seguientes paquetes en R\n\nbivariate\nggplot2\n\n\n\n\n\n\n\n\n\nPaquete para producir mapas bivariados (i.e.¬†dos variables en el mismo layout)\n\nSirve para producir leyendas bivariadas\nHerramientas para classificaci√≥n de datos en categor√≠as usando diferentes t√©cnicas\nDocumentaci√≥n\n\n\n\n\n\n\n\n\nMapas bivariados tambi√©n son conocidos por Mapa coropleto o Mapa de coropletas\n\n\nEs un tipo de mapa tem√°tico en el que las √°reas se sombrean de distintos colores, frecuentemente de la misma gama crom√°tica, que representan distintos valores de una variable estad√≠stica caracter√≠stica.\n\n\n\n\n\nMapas bivariados son √∫tiles para graficar dos variables\nAjuste de colores, transparencias y formas\n\n\n\n\n\n\n\n\n\n\n\n\n\n{fig-align=‚Äúcenter fig-size=‚Äù82%‚Äú‚Äú}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTres variables Sabatini et al.¬†2022 \n\n\n\n\nSabatini et al.¬†2022 \n\n\n\n\n\n\n\n\n\n\n\nPeixoto et al.¬†2017 \n\n\n\n\n¬øCu√°l de los dos mapas transmite mejor la informaci√≥n?"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#paquetes",
    "href": "presentaciones/5.1-mapas_bivariados.html#paquetes",
    "title": "Mapas bivariados",
    "section": "",
    "text": "Vamos a utilizar los seguientes paquetes en R\n\nbivariate\nggplot2"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#biscale",
    "href": "presentaciones/5.1-mapas_bivariados.html#biscale",
    "title": "Mapas bivariados",
    "section": "",
    "text": "Paquete para producir mapas bivariados (i.e.¬†dos variables en el mismo layout)\n\nSirve para producir leyendas bivariadas\nHerramientas para classificaci√≥n de datos en categor√≠as usando diferentes t√©cnicas\nDocumentaci√≥n"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#seg√∫n-la-wikipedia..",
    "href": "presentaciones/5.1-mapas_bivariados.html#seg√∫n-la-wikipedia..",
    "title": "Mapas bivariados",
    "section": "",
    "text": "Mapas bivariados tambi√©n son conocidos por Mapa coropleto o Mapa de coropletas\n\n\nEs un tipo de mapa tem√°tico en el que las √°reas se sombrean de distintos colores, frecuentemente de la misma gama crom√°tica, que representan distintos valores de una variable estad√≠stica caracter√≠stica."
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#dos-o-m√°s-variables",
    "href": "presentaciones/5.1-mapas_bivariados.html#dos-o-m√°s-variables",
    "title": "Mapas bivariados",
    "section": "",
    "text": "Mapas bivariados son √∫tiles para graficar dos variables\nAjuste de colores, transparencias y formas"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#tambi√©n-usados-para-reportar-indicadores-socio-econ√≥micos",
    "href": "presentaciones/5.1-mapas_bivariados.html#tambi√©n-usados-para-reportar-indicadores-socio-econ√≥micos",
    "title": "Mapas bivariados",
    "section": "",
    "text": "{fig-align=‚Äúcenter fig-size=‚Äù82%‚Äú‚Äú}"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#leyendas-triangulares",
    "href": "presentaciones/5.1-mapas_bivariados.html#leyendas-triangulares",
    "title": "Mapas bivariados",
    "section": "",
    "text": "Tres variables Sabatini et al.¬†2022"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#formatos-complejos",
    "href": "presentaciones/5.1-mapas_bivariados.html#formatos-complejos",
    "title": "Mapas bivariados",
    "section": "",
    "text": "Sabatini et al.¬†2022"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#leyendas-rectangulares-con-varias-categorias",
    "href": "presentaciones/5.1-mapas_bivariados.html#leyendas-rectangulares-con-varias-categorias",
    "title": "Mapas bivariados",
    "section": "",
    "text": "Peixoto et al.¬†2017"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#pero-lo-m√°s-importante-es-que-la-informaci√≥n-est√©-clara",
    "href": "presentaciones/5.1-mapas_bivariados.html#pero-lo-m√°s-importante-es-que-la-informaci√≥n-est√©-clara",
    "title": "Mapas bivariados",
    "section": "",
    "text": "¬øCu√°l de los dos mapas transmite mejor la informaci√≥n?"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#teor√≠a",
    "href": "presentaciones/5.1-mapas_bivariados.html#teor√≠a",
    "title": "Mapas bivariados",
    "section": "Teor√≠a:",
    "text": "Teor√≠a:\n\nLa idea central es buscar una manera de como combinar estas dos variables\nEscalas diferentes, n√∫mero diferente de categorias etc‚Ä¶\nMapas bivariados constan de dos pasos:\n\nCategorizaci√≥n de las variables seg√∫n alguna estad√≠stica\nPreparaci√≥n de una leyenda con base en una ‚Äúpaleta‚Äù de colores"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#pasos",
    "href": "presentaciones/5.1-mapas_bivariados.html#pasos",
    "title": "Mapas bivariados",
    "section": "Pasos:",
    "text": "Pasos:\n\nClasificar los datos en conteos o proporciones\nlas funciones cut() y summary() de R base pueden ser √∫tiles\nvamos usar la base de datos iris\n\n\nsummary(iris$Sepal.Length)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  4.300   5.100   5.800   5.843   6.400   7.900"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#section",
    "href": "presentaciones/5.1-mapas_bivariados.html#section",
    "title": "Mapas bivariados",
    "section": "",
    "text": "library(janitor)\n\n\nAttaching package: 'janitor'\n\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n\n# Categorizar de acuerdo a los quantiles\nci = cut(iris$Sepal.Length,breaks = c(4.3,5.1,5.8,6.4, max(iris$Sepal.Length)))\n\n# Explorar los resultados\ntabyl(ci)\n\n        ci  n     percent valid_percent\n (4.3,5.1] 40 0.266666667     0.2684564\n (5.1,5.8] 39 0.260000000     0.2617450\n (5.8,6.4] 35 0.233333333     0.2348993\n (6.4,7.9] 35 0.233333333     0.2348993\n      &lt;NA&gt;  1 0.006666667            NA"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#la-funci√≥n-classintervals",
    "href": "presentaciones/5.1-mapas_bivariados.html#la-funci√≥n-classintervals",
    "title": "Mapas bivariados",
    "section": "la funci√≥n classIntervals()",
    "text": "la funci√≥n classIntervals()\n\nPermite categorizar los datos usando varios tipos de categorizaci√≥n\nquantile, jenkins, equal para mencionar algunas\nhay que definir el numero de clases (par√°metro n)\n\n\nlibrary(classInt)\n\nclassInt::classIntervals(iris$Sepal.Length,style=\"quantile\",n=4)\n\nstyle: quantile\n  one of 5,984 possible partitions of this variable into 4 classes\n[4.3,5.1) [5.1,5.8) [5.8,6.4) [6.4,7.9] \n       32        41        35        42"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#section-1",
    "href": "presentaciones/5.1-mapas_bivariados.html#section-1",
    "title": "Mapas bivariados",
    "section": "",
    "text": "Luego de categorizar el vector de inter√©s, se puede cortar con la funci√≥n cut()\nTambien se puede generar un vector con las categor√≠as y juntarlo a los datos originales usando la funci√≥n findCols()\n\n\n\nbreaks = classInt::classIntervals(iris$Sepal.Length,style=\"quantile\",n=4)$brks\n\ncc = cut(iris$Sepal.Length, breaks = breaks)\ntabyl(cc)\n\n        cc  n     percent valid_percent\n (4.3,5.1] 40 0.266666667     0.2684564\n (5.1,5.8] 39 0.260000000     0.2617450\n (5.8,6.4] 35 0.233333333     0.2348993\n (6.4,7.9] 35 0.233333333     0.2348993\n      &lt;NA&gt;  1 0.006666667            NA"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#la-funci√≥n-findcols",
    "href": "presentaciones/5.1-mapas_bivariados.html#la-funci√≥n-findcols",
    "title": "Mapas bivariados",
    "section": "la funci√≥n findCols()",
    "text": "la funci√≥n findCols()\n\n# Generar un vector que se pueda juntar a la tabla de datos originales\n\nfc = findCols(classInt::classIntervals(iris$Sepal.Length,style=\"quantile\",n=4))\nhead(fc)\n\n[1] 2 1 1 1 1 2"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#usando-el-paquete-biscale",
    "href": "presentaciones/5.1-mapas_bivariados.html#usando-el-paquete-biscale",
    "title": "Mapas bivariados",
    "section": "usando el paquete biscale",
    "text": "usando el paquete biscale\n\n\n\nSe utliza la funci√≥n bi_class() para generar las categor√≠as\nUna de las ventajas de usar la funci√≥n bi_class() es que hace la categorizaci√≥n de las dos variables elejidas de una sola vez\n\n\n\nlibrary(biscale)\n\ndata &lt;- bi_class(iris, x = Sepal.Length, y = Petal.Length, style = \"quantile\", dim = 3)\nhead(data$bi_class)\n\n[1] \"1-1\" \"1-1\" \"1-1\" \"1-1\" \"1-1\" \"1-1\""
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#preparaci√≥n-de-una-leyenda",
    "href": "presentaciones/5.1-mapas_bivariados.html#preparaci√≥n-de-una-leyenda",
    "title": "Mapas bivariados",
    "section": "Preparaci√≥n de una leyenda",
    "text": "Preparaci√≥n de una leyenda"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#la-funci√≥n-bi_legend",
    "href": "presentaciones/5.1-mapas_bivariados.html#la-funci√≥n-bi_legend",
    "title": "Mapas bivariados",
    "section": "La funci√≥n bi_legend()",
    "text": "La funci√≥n bi_legend()\n\nPara ver las paletas disponibles aqu√≠\n\n\nbi_legend(pal = \"GrPink\",\n                    dim = 3,\n                    xlab = \"Sepal.Length\",\n                    ylab = \"Petal.Lenght\",\n                    size = 12)"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#el-mapa-bivariado",
    "href": "presentaciones/5.1-mapas_bivariados.html#el-mapa-bivariado",
    "title": "Mapas bivariados",
    "section": "El mapa bivariado",
    "text": "El mapa bivariado\n\nVamos a ver el ejemplo del vignette\n\n\nSon datos sobre el porcentaje de ‚Äúbrancos‚Äù y la ganancia en los EUA.\nVamos usar las columnas pctWhite y medInc para hacer el mapa.\nVamos usar 3 dimensiones y categorizar los datos usando quantiles"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#manos-a-la-obra",
    "href": "presentaciones/5.1-mapas_bivariados.html#manos-a-la-obra",
    "title": "Mapas bivariados",
    "section": "Manos a la obra!",
    "text": "Manos a la obra!\n\nEl mapa se construye usando ggplot\nDeterminamos el geom como geom_sf y como argumento est√©tico fill = bi_class\nEl bi_class debe ser la categorizaci√≥n que hemos visto anteriormente con usando la justamente a funci√≥n bi_class()\nUna de las capas del ggplot debe ser bi_scale_fill, donde van a poner el argumento pal - que es la paleta de colores y dim - que es el numero de categor√≠as utilizadas para categorizar los datos."
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#section-3",
    "href": "presentaciones/5.1-mapas_bivariados.html#section-3",
    "title": "Mapas bivariados",
    "section": "",
    "text": "library(ggplot2)\nlibrary(sf)\n\ndata &lt;- bi_class(stl_race_income, x = pctWhite, y = medInc, style = \"quantile\", dim = 3)\n\nmap &lt;- ggplot() +\n  geom_sf(data = data, mapping = aes(fill = bi_class), color = \"white\", size = 0.1, show.legend = FALSE) +\n  bi_scale_fill(pal = \"GrPink\", dim = 3)"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#section-4",
    "href": "presentaciones/5.1-mapas_bivariados.html#section-4",
    "title": "Mapas bivariados",
    "section": "",
    "text": "Despu√©s de preparar el mapa, hay que preparar la leyenda\n\n\nlegend &lt;- bi_legend(pal = \"GrPink\",\n                    dim = 3,\n                    xlab = \"Higher % White \",\n                    ylab = \"Higher Income \",\n                    size = 8)\n\n\nPor fin, ponerlos lado a lado usando el paquete patchwork\n\n\nlibrary(patchwork)\n\nmap + legend"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#section-5",
    "href": "presentaciones/5.1-mapas_bivariados.html#section-5",
    "title": "Mapas bivariados",
    "section": "",
    "text": "Se juede jugar con el layout final usando la funci√≥n inset\np1 + inset_element(p2, 0.6, 0.6, 1, 1) # left, top, right, bottom"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#section-7",
    "href": "presentaciones/5.1-mapas_bivariados.html#section-7",
    "title": "Mapas bivariados",
    "section": "",
    "text": "El tutorial de Len Kiefer\nUsar el paquete classInt para categorizar los datos\nUsar el esquema de colores de la leyenda para preparar el mapa"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#section-9",
    "href": "presentaciones/5.1-mapas_bivariados.html#section-9",
    "title": "Mapas bivariados",
    "section": "",
    "text": "La leyenda se hace con la funci√≥n expand_grid() del paquete tidyr\n\n\nlibrary(tidyr)\n\nd=expand.grid(x=1:3,y=1:3)\nd\n\n  x y\n1 1 1\n2 2 1\n3 3 1\n4 1 2\n5 2 2\n6 3 2\n7 1 3\n8 2 3\n9 3 3"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#section-10",
    "href": "presentaciones/5.1-mapas_bivariados.html#section-10",
    "title": "Mapas bivariados",
    "section": "",
    "text": "library(ggplot2)\nggplot(d, aes(x,y))+\n  geom_tile(aes(alpha=x+y,fill=atan(y/x)))+\n  scale_fill_viridis_c()+\n  theme(legend.position=\"none\",\n        axis.text.y = element_blank(),\n        axis.text.x = element_blank(),\n        axis.ticks = element_blank(),\n        panel.grid.minor = element_blank(),\n        panel.grid.major = element_blank())+\n  coord_equal()"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#section-11",
    "href": "presentaciones/5.1-mapas_bivariados.html#section-11",
    "title": "Mapas bivariados",
    "section": "",
    "text": "Lo importante aqui es usar el geom geom_tile\nPermite usar varios colores\nVamos jugar con los valores de alpha (transparencia) y fill"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#section-12",
    "href": "presentaciones/5.1-mapas_bivariados.html#section-12",
    "title": "Mapas bivariados",
    "section": "",
    "text": "ggplot(d, aes(x,y))+\n  geom_tile(aes(fill=atan(y/x)))+\n  scale_fill_viridis_c()+\n  theme(legend.position=\"none\",\n        axis.text.y = element_blank(),\n        axis.text.x = element_blank(),\n        axis.ticks = element_blank(),\n        panel.grid.minor = element_blank(),\n        panel.grid.major = element_blank())+\n  coord_equal()\n\n\n\n\n\n\nggplot(d, aes(x,y))+\n  geom_tile(aes(fill=atan(y/x),alpha=x+y))+\n  scale_fill_viridis_c()+\n  theme(legend.position=\"none\",\n        axis.text.y = element_blank(),\n        axis.text.x = element_blank(),\n        axis.ticks = element_blank(),\n        panel.grid.minor = element_blank(),\n        panel.grid.major = element_blank())+\n  coord_equal()"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#categorizar-los-datos",
    "href": "presentaciones/5.1-mapas_bivariados.html#categorizar-los-datos",
    "title": "Mapas bivariados",
    "section": "Categorizar los datos",
    "text": "Categorizar los datos\n\nvamos a usar las funciones classInt() y findCols()\n\n\n x=classInt::classIntervals(stl_race_income$pctWhite,4,style = \"quantile\")\n y=classInt::classIntervals(stl_race_income$medInc,4,style = \"quantile\")\n \n x\n\nstyle: quantile\n  one of 182,104 possible partitions of this variable into 4 classes\n       [0,3.140384) [3.140384,37.30553) [37.30553,69.86624) [69.86624,96.73367] \n                 27                  26                  26                  27"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#section-13",
    "href": "presentaciones/5.1-mapas_bivariados.html#section-13",
    "title": "Mapas bivariados",
    "section": "",
    "text": "Agregar los valores calculados a la tabla stl_race_income ::: {.cell}\n\nstl_race_income$x = classInt::findCols(x)\nstl_race_income$y = classInt::findCols(y)\n:::"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#crar-un-objeto-para-el-alpha-y-otro-para-el-fill",
    "href": "presentaciones/5.1-mapas_bivariados.html#crar-un-objeto-para-el-alpha-y-otro-para-el-fill",
    "title": "Mapas bivariados",
    "section": "Crar un objeto para el alpha y otro para el fill",
    "text": "Crar un objeto para el alpha y otro para el fill\n\nstl_race_income$alpha = as.character(stl_race_income$x + stl_race_income$y)\nstl_race_income$color = as.character(atan(stl_race_income$y/stl_race_income$x))"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#graficar-el-mapa",
    "href": "presentaciones/5.1-mapas_bivariados.html#graficar-el-mapa",
    "title": "Mapas bivariados",
    "section": "Graficar el mapa",
    "text": "Graficar el mapa\n\nmap = ggplot()+\n  geom_sf(data = stl_race_income,aes(fill=color,alpha=alpha),shape=15, size=11,show.legend = FALSE)+\n  scale_fill_viridis_d()+\n  theme_bw()"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#section-14",
    "href": "presentaciones/5.1-mapas_bivariados.html#section-14",
    "title": "Mapas bivariados",
    "section": "",
    "text": "map\n\nWarning: Using alpha for a discrete variable is not advised."
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#graficar-la-leyenda",
    "href": "presentaciones/5.1-mapas_bivariados.html#graficar-la-leyenda",
    "title": "Mapas bivariados",
    "section": "Graficar la leyenda",
    "text": "Graficar la leyenda\n\nleg = ggplot(d, aes(x,y))+\n  geom_tile(aes(fill=atan(y/x),alpha=x+y))+\n  scale_fill_viridis_c()+\n  theme(legend.position=\"none\",\n        axis.text.y = element_blank(),\n        axis.text.x = element_blank(),\n        axis.ticks = element_blank(),\n        panel.grid.minor = element_blank(),\n        panel.grid.major = element_blank())+\n  coord_equal()"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#section-15",
    "href": "presentaciones/5.1-mapas_bivariados.html#section-15",
    "title": "Mapas bivariados",
    "section": "",
    "text": "leg"
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#juntar-los-dos",
    "href": "presentaciones/5.1-mapas_bivariados.html#juntar-los-dos",
    "title": "Mapas bivariados",
    "section": "Juntar los dos",
    "text": "Juntar los dos\n\n\nWarning: Using alpha for a discrete variable is not advised."
  },
  {
    "objectID": "presentaciones/5.1-mapas_bivariados.html#se-parecen",
    "href": "presentaciones/5.1-mapas_bivariados.html#se-parecen",
    "title": "Mapas bivariados",
    "section": "Se parecen?",
    "text": "Se parecen?\n\n\n\n\nWarning: Using alpha for a discrete variable is not advised."
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#matrices-1",
    "href": "presentaciones/4.1-matricesv2.html#matrices-1",
    "title": "Matrices en Ecolog√≠a",
    "section": "Matrices",
    "text": "Matrices"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#section",
    "href": "presentaciones/4.1-matricesv2.html#section",
    "title": "Matrices en Ecolog√≠a",
    "section": "",
    "text": "Es el formato m√°s comun de representaci√≥n de datos ecol√≥gicos\nM√°s popular en ecolog√≠a con el desarollo de mejores computadoras\nGran parte del lenguaje de los softwares est√° basada en notaciones de matrices"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#son-muy-usadas-en-los-an√°lisis-de-ecologia",
    "href": "presentaciones/4.1-matricesv2.html#son-muy-usadas-en-los-an√°lisis-de-ecologia",
    "title": "Matrices en Ecolog√≠a",
    "section": "Son muy usadas en los an√°lisis de ecologia",
    "text": "Son muy usadas en los an√°lisis de ecologia\n\nAn√°lisis multivariados en ecologia de comunidades\nPara resumir grandes conjuntos de datos\nComunes en macroecolog√≠a (matriz de presencia-ausencia)\nCorrelaci√≥n entre variables"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#matrices-en-r",
    "href": "presentaciones/4.1-matricesv2.html#matrices-en-r",
    "title": "Matrices en Ecolog√≠a",
    "section": "Matrices en R",
    "text": "Matrices en R\n\nmatrix()vs.¬†data.frame() vs.¬†array()\nmatrix(): solo numeros o solo caracteres\ndata.frame(): mix de tipos numeros y caracteres\narray() son n-dimensionales"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#estructura-de-la-matriz",
    "href": "presentaciones/4.1-matricesv2.html#estructura-de-la-matriz",
    "title": "Matrices en Ecolog√≠a",
    "section": "Estructura de la matriz",
    "text": "Estructura de la matriz\n\nUna matriz es un tipo especial de array()\nUna matriz tiene 2 dimensiones, formadas por filas y columnas\n\n\nmatrix(data=NA, nrow = 2, ncol=2)\n\n     [,1] [,2]\n[1,]   NA   NA\n[2,]   NA   NA"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#diferencias-entre-matrix-y-array",
    "href": "presentaciones/4.1-matricesv2.html#diferencias-entre-matrix-y-array",
    "title": "Matrices en Ecolog√≠a",
    "section": "Diferencias entre matrix() y array()",
    "text": "Diferencias entre matrix() y array()\n\na &lt;- matrix(1:6, ncol = 3, nrow = 2)\nb &lt;- array(1:12, c(2, 3, 4))"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#section-1",
    "href": "presentaciones/4.1-matricesv2.html#section-1",
    "title": "Matrices en Ecolog√≠a",
    "section": "",
    "text": "a &lt;- matrix(1:6, ncol = 3, nrow = 2)\na\n\n     [,1] [,2] [,3]\n[1,]    1    3    5\n[2,]    2    4    6\n\n\n\n\nb &lt;- array(1:12, c(2, 3, 4))\nb\n\n, , 1\n\n     [,1] [,2] [,3]\n[1,]    1    3    5\n[2,]    2    4    6\n\n, , 2\n\n     [,1] [,2] [,3]\n[1,]    7    9   11\n[2,]    8   10   12\n\n, , 3\n\n     [,1] [,2] [,3]\n[1,]    1    3    5\n[2,]    2    4    6\n\n, , 4\n\n     [,1] [,2] [,3]\n[1,]    7    9   11\n[2,]    8   10   12"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#argumentos-de-la-funci√≥n-matrix",
    "href": "presentaciones/4.1-matricesv2.html#argumentos-de-la-funci√≥n-matrix",
    "title": "Matrices en Ecolog√≠a",
    "section": "Argumentos de la funci√≥n matrix()",
    "text": "Argumentos de la funci√≥n matrix()\n\ndimnames\nUna lista con los nombres de las filas y de las columnas, respectivamente\n\n\nmatrix(data=NA, nrow = 2, ncol=2,dimnames = list(c(\"row1\",\"row2\"),\n                                                 c(\"col1\", \"col2\")))\n\n     col1 col2\nrow1   NA   NA\nrow2   NA   NA"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#llenado-de-matriz",
    "href": "presentaciones/4.1-matricesv2.html#llenado-de-matriz",
    "title": "Matrices en Ecolog√≠a",
    "section": "Llenado de matriz",
    "text": "Llenado de matriz\n\nbyrow\nDefine como se da el llenado de la matrix\nSi byrow=T, el llenado se da por filas\n\n\nvec = c(\"a\",\"b\",\"c\",\"d\",\"e\",\"f\")\nmatrix(vec, nrow = 3, byrow = T )\n\n     [,1] [,2]\n[1,] \"a\"  \"b\" \n[2,] \"c\"  \"d\" \n[3,] \"e\"  \"f\""
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#si-byrowf-el-llenado-se-da-por-columnas",
    "href": "presentaciones/4.1-matricesv2.html#si-byrowf-el-llenado-se-da-por-columnas",
    "title": "Matrices en Ecolog√≠a",
    "section": "Si byrow=F, el llenado se da por columnas",
    "text": "Si byrow=F, el llenado se da por columnas\n\nvec = c(\"a\",\"b\",\"c\",\"d\",\"e\",\"f\")\nmatrix(vec, nrow = 3, byrow = F )\n\n     [,1] [,2]\n[1,] \"a\"  \"d\" \n[2,] \"b\"  \"e\" \n[3,] \"c\"  \"f\""
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#diag",
    "href": "presentaciones/4.1-matricesv2.html#diag",
    "title": "Matrices en Ecolog√≠a",
    "section": "diag()",
    "text": "diag()\n\nEs la funci√≥n para extraer la diagonal de una matriz\n\n\na &lt;- matrix(1:6, ncol = 3, nrow = 2)\na\n\n     [,1] [,2] [,3]\n[1,]    1    3    5\n[2,]    2    4    6\n\ndiag(a)\n\n[1] 1 4"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#la-matriz",
    "href": "presentaciones/4.1-matricesv2.html#la-matriz",
    "title": "Matrices en Ecolog√≠a",
    "section": "La matriz",
    "text": "La matriz"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#diferentes-tipos-de-matrices",
    "href": "presentaciones/4.1-matricesv2.html#diferentes-tipos-de-matrices",
    "title": "Matrices en Ecolog√≠a",
    "section": "Diferentes tipos de matrices",
    "text": "Diferentes tipos de matrices\n\nCuadrada (n√∫mero de filas igual al numero de columnas)\nDiagonal (todos valores adem√°s de las diagonal son ceros)\nTriangular (valores en cero en una de las mitades)\nIdentidad (valores de la diagonal son 1 y los dem√°s, 0)\nEscalar (valores de la diagonal son iguales y los dem√°s, 0)"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#operaciones-con-matrices-sumatoria",
    "href": "presentaciones/4.1-matricesv2.html#operaciones-con-matrices-sumatoria",
    "title": "Matrices en Ecolog√≠a",
    "section": "Operaciones con matrices: Sumatoria",
    "text": "Operaciones con matrices: Sumatoria\n\n a &lt;- matrix(1:9, nrow=3)\n b &lt;- diag(rep(1,3))\n\n a\n\n     [,1] [,2] [,3]\n[1,]    1    4    7\n[2,]    2    5    8\n[3,]    3    6    9\n\n b\n\n     [,1] [,2] [,3]\n[1,]    1    0    0\n[2,]    0    1    0\n[3,]    0    0    1"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#section-3",
    "href": "presentaciones/4.1-matricesv2.html#section-3",
    "title": "Matrices en Ecolog√≠a",
    "section": "",
    "text": "a &lt;- matrix(1:9, nrow=3)\n b &lt;- diag(rep(1,3))\n\n a + b\n\n     [,1] [,2] [,3]\n[1,]    2    4    7\n[2,]    2    6    8\n[3,]    3    6   10"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#operaciones-con-matrices-diferencia",
    "href": "presentaciones/4.1-matricesv2.html#operaciones-con-matrices-diferencia",
    "title": "Matrices en Ecolog√≠a",
    "section": "Operaciones con matrices: Diferencia",
    "text": "Operaciones con matrices: Diferencia\n\n a &lt;- matrix(1:9, nrow=3)\n b &lt;- diag(rep(1,3))\n a\n\n     [,1] [,2] [,3]\n[1,]    1    4    7\n[2,]    2    5    8\n[3,]    3    6    9\n\n b\n\n     [,1] [,2] [,3]\n[1,]    1    0    0\n[2,]    0    1    0\n[3,]    0    0    1\n\n a - b\n\n     [,1] [,2] [,3]\n[1,]    0    4    7\n[2,]    2    4    8\n[3,]    3    6    8"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#operaciones-con-escalares",
    "href": "presentaciones/4.1-matricesv2.html#operaciones-con-escalares",
    "title": "Matrices en Ecolog√≠a",
    "section": "Operaciones con escalares",
    "text": "Operaciones con escalares\n\n\n\n a &lt;- matrix(1:9, nrow=3)\n d &lt;- c(0,0,1)\na\n\n     [,1] [,2] [,3]\n[1,]    1    4    7\n[2,]    2    5    8\n[3,]    3    6    9\n\nd\n\n[1] 0 0 1\n\n\n\na + d\n\n     [,1] [,2] [,3]\n[1,]    1    4    7\n[2,]    2    5    8\n[3,]    4    7   10\n\n\n\n\n a &lt;- matrix(1:9, nrow=3)\n\n a + 1\n\n     [,1] [,2] [,3]\n[1,]    2    5    8\n[2,]    3    6    9\n[3,]    4    7   10"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#pero",
    "href": "presentaciones/4.1-matricesv2.html#pero",
    "title": "Matrices en Ecolog√≠a",
    "section": "pero‚Ä¶",
    "text": "pero‚Ä¶\n\n\n\na + b y a + b2 son iguales?\n\n\n a &lt;- matrix(1:9, nrow=3)\n b &lt;- 1\n a\n\n     [,1] [,2] [,3]\n[1,]    1    4    7\n[2,]    2    5    8\n[3,]    3    6    9\n\n a + b\n\n     [,1] [,2] [,3]\n[1,]    2    5    8\n[2,]    3    6    9\n[3,]    4    7   10\n\n\n\n\nY esta suma, ¬øsale bien?\n\n\n a &lt;- matrix(1:9, nrow=3)\n b2 &lt;- matrix(b, nrow=1)\n b2\n a + b2"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#multiplicaci√≥n-de-matrices",
    "href": "presentaciones/4.1-matricesv2.html#multiplicaci√≥n-de-matrices",
    "title": "Matrices en Ecolog√≠a",
    "section": "Multiplicaci√≥n de matrices",
    "text": "Multiplicaci√≥n de matrices\n\nEl comando %*% se aplica par las multiplicaciones\n\n\na &lt;- matrix(1:4, nrow=2)\nb &lt;- diag(rep(1,2))\nd &lt;- matrix(c(0,1), nrow=2)\na\n\n     [,1] [,2]\n[1,]    1    3\n[2,]    2    4\n\nb\n\n     [,1] [,2]\n[1,]    1    0\n[2,]    0    1\n\nd\n\n     [,1]\n[1,]    0\n[2,]    1"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#section-4",
    "href": "presentaciones/4.1-matricesv2.html#section-4",
    "title": "Matrices en Ecolog√≠a",
    "section": "",
    "text": "a &lt;- matrix(1:4, nrow=2)\nb &lt;- diag(rep(1,2))\nd &lt;- matrix(c(0,1), nrow=2)\n\n a %*% b # ¬øSali√≥ bien?\n\n     [,1] [,2]\n[1,]    1    3\n[2,]    2    4"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#section-5",
    "href": "presentaciones/4.1-matricesv2.html#section-5",
    "title": "Matrices en Ecolog√≠a",
    "section": "",
    "text": "a &lt;- matrix(1:4, nrow=2)\nb &lt;- diag(rep(1,2))\nd &lt;- matrix(c(0,1), nrow=2)\n\n a %*% d # ¬øesta?\n\n     [,1]\n[1,]    3\n[2,]    4"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#section-6",
    "href": "presentaciones/4.1-matricesv2.html#section-6",
    "title": "Matrices en Ecolog√≠a",
    "section": "",
    "text": "a &lt;- matrix(1:4, nrow=2)\nb &lt;- diag(rep(1,2))\nd &lt;- matrix(c(0,1), nrow=2)\n\n d %*% a # ¬øy esta?"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#la-divisi√≥n-de-matrices-no-existe-se-las-multiplica-por-su-inverso",
    "href": "presentaciones/4.1-matricesv2.html#la-divisi√≥n-de-matrices-no-existe-se-las-multiplica-por-su-inverso",
    "title": "Matrices en Ecolog√≠a",
    "section": "La divisi√≥n de matrices no existe, se las multiplica por su inverso",
    "text": "La divisi√≥n de matrices no existe, se las multiplica por su inverso"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#la-funci√≥n-det",
    "href": "presentaciones/4.1-matricesv2.html#la-funci√≥n-det",
    "title": "Matrices en Ecolog√≠a",
    "section": "la funci√≥n det()",
    "text": "la funci√≥n det()\n\nPara calcular el inverso es necesario conocer el determinante\n\n\na &lt;- matrix(1:4, nrow=2)\na\n\n     [,1] [,2]\n[1,]    1    3\n[2,]    2    4\n\n(1*4) - (3*2)\n\n[1] -2"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#section-7",
    "href": "presentaciones/4.1-matricesv2.html#section-7",
    "title": "Matrices en Ecolog√≠a",
    "section": "",
    "text": "d &lt;- det(a)\nd\n\n[1] -2"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#section-8",
    "href": "presentaciones/4.1-matricesv2.html#section-8",
    "title": "Matrices en Ecolog√≠a",
    "section": "",
    "text": "Dividir cada elemento de la matriz inversa por por el determinante\n\n\ninva &lt;-  matrix(c(4,-3,-2,1), nrow=2)\ninva\n\n     [,1] [,2]\n[1,]    4   -2\n[2,]   -3    1\n\n(4/det(a))\n\n[1] -2\n\n(-3/det(a))\n\n[1] 1.5\n\n(-2/det(a))\n\n[1] 1\n\n(1/det(a))\n\n[1] -0.5"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#section-9",
    "href": "presentaciones/4.1-matricesv2.html#section-9",
    "title": "Matrices en Ecolog√≠a",
    "section": "",
    "text": "La funci√≥n solve() calcula el inverso\nNo confundir con t(), que es la funci√≥n para transponer la matriz\n\n\na &lt;- matrix(1:4, nrow=2)\nainv &lt;- solve(a)\nainv\n\n     [,1] [,2]\n[1,]   -2  1.5\n[2,]    1 -0.5"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#section-10",
    "href": "presentaciones/4.1-matricesv2.html#section-10",
    "title": "Matrices en Ecolog√≠a",
    "section": "",
    "text": "a %*% ainv\n\n     [,1] [,2]\n[1,]    1    0\n[2,]    0    1"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#quiz",
    "href": "presentaciones/4.1-matricesv2.html#quiz",
    "title": "Matrices en Ecolog√≠a",
    "section": "QUIZ",
    "text": "QUIZ\n\nUn pesticida tiene 2 compuestos t√≥xicos I y II que se acumulan en 3 especies de plantas A, B y C\n\n\nM = matrix(c(2,3,4,0,1,2), nrow=2,ncol=3,byrow=T,\n           dimnames = \n             list(c(\"I\",\"II\"),\n             c(\"A\", \"B\",\"C\")))\nM\n\n   A B C\nI  2 3 4\nII 0 1 2"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#section-11",
    "href": "presentaciones/4.1-matricesv2.html#section-11",
    "title": "Matrices en Ecolog√≠a",
    "section": "",
    "text": "Si un herb√≠voro se alimenta de estas 3 especies en las seguientes cantidades por d√≠a:\n\n\nN = matrix(c(5,3,1), nrow=3,ncol=1,byrow=F,\n           dimnames = list(c(\"A\",\"B\",\"C\")))\n\nN\n\n  [,1]\nA    5\nB    3\nC    1"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#section-12",
    "href": "presentaciones/4.1-matricesv2.html#section-12",
    "title": "Matrices en Ecolog√≠a",
    "section": "",
    "text": "¬øCu√°ntos contaminantes I y II consume diariamente?\nTip: Mirar el producto de M x N\n\n\nM = matrix(c(2,3,4,0,1,2), nrow=2,ncol=3,byrow=T,\n           dimnames = list(c(\"I\",\"II\"),\n                                                                   c(\"A\", \"B\",\"C\")))\nN = matrix(c(5,3,1), nrow=3,ncol=1,byrow=F,\n           dimnames = list(c(\"A\",\"B\",\"C\")))\n\n\n\n\n   [,1]\nI    23\nII    5"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#sparse-vs.-dense-matrices",
    "href": "presentaciones/4.1-matricesv2.html#sparse-vs.-dense-matrices",
    "title": "Matrices en Ecolog√≠a",
    "section": "Sparse vs.¬†Dense matrices",
    "text": "Sparse vs.¬†Dense matrices\n\npaquete Matrix\nDocumentaci√≥n"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#sparse-vs.-dense-matrices-1",
    "href": "presentaciones/4.1-matricesv2.html#sparse-vs.-dense-matrices-1",
    "title": "Matrices en Ecolog√≠a",
    "section": "Sparse vs.¬†Dense matrices",
    "text": "Sparse vs.¬†Dense matrices\n\nFunciones aplicadas a ambos tipos de matrices producen los mismos resultados\nVentajas en el tiempo de procesamiento de datos"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#section-13",
    "href": "presentaciones/4.1-matricesv2.html#section-13",
    "title": "Matrices en Ecolog√≠a",
    "section": "",
    "text": "Dense\n\n\nM &lt;- matrix(10 + 1:28, 4, 7) # crear matrix\nM &lt;- cbind(-1, M) # poner una columna con -1\nM[2, c(2,4:6)] &lt;- 0 # agregar unos ceros\nM &lt;- rbind(0, M, 0) #agregar m√°s ceros\nM[1:2,2]  &lt;- NA # agregar NAs\nM[2:6,8]  &lt;- 0 # agregar otros ceros\nM\n\n     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8]\n[1,]    0   NA    0    0    0    0    0    0\n[2,]   -1   NA   15   19   23   27   31    0\n[3,]   -1    0   16    0    0    0   32    0\n[4,]   -1   13   17   21   25   29   33    0\n[5,]   -1   14   18   22   26   30   34    0\n[6,]    0    0    0    0    0    0    0    0\n\n\n\n\nSparse\n\n\nlibrary(Matrix)\n\nsM &lt;- as(M, \"sparseMatrix\")\nsM\n\n6 x 8 sparse Matrix of class \"dgCMatrix\"\n                           \n[1,]  . NA  .  .  .  .  . .\n[2,] -1 NA 15 19 23 27 31 .\n[3,] -1  . 16  .  .  . 32 .\n[4,] -1 13 17 21 25 29 33 .\n[5,] -1 14 18 22 26 30 34 .\n[6,]  .  .  .  .  .  .  . ."
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#en-ecolog√≠a-de-comunidades",
    "href": "presentaciones/4.1-matricesv2.html#en-ecolog√≠a-de-comunidades",
    "title": "Matrices en Ecolog√≠a",
    "section": "En ecolog√≠a de comunidades",
    "text": "En ecolog√≠a de comunidades\n\nMatrices son usadas para guardar los elementos de analisis de diversidad\nTiene muchos ceros (presencia-ausencia)\nR tiene que guardar cada valor en matrices del tipo dense\nMatrices del tipo sparse no guardan los ceros"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#funciones-√∫tiles-en-el-paquete-phyloregion",
    "href": "presentaciones/4.1-matricesv2.html#funciones-√∫tiles-en-el-paquete-phyloregion",
    "title": "Matrices en Ecolog√≠a",
    "section": "Funciones √∫tiles en el paquete phyloregion",
    "text": "Funciones √∫tiles en el paquete phyloregion\n\nPara datos de comunidades (sitios x species)\nPhyloregion"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#matrices-de-distancia",
    "href": "presentaciones/4.1-matricesv2.html#matrices-de-distancia",
    "title": "Matrices en Ecolog√≠a",
    "section": "Matrices de distancia",
    "text": "Matrices de distancia\n\nPueden ser transformadas en objetos de distancias dist()\nPor defecto calcula distancias euclidianas\n\n\nx &lt;- matrix(1:6, nrow = 3)\ndist(x)\n\n         1        2\n2 1.414214         \n3 2.828427 1.414214"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#section-15",
    "href": "presentaciones/4.1-matricesv2.html#section-15",
    "title": "Matrices en Ecolog√≠a",
    "section": "",
    "text": "class(x)\n\n[1] \"matrix\" \"array\""
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#funciones-del-paquete-vegan",
    "href": "presentaciones/4.1-matricesv2.html#funciones-del-paquete-vegan",
    "title": "Matrices en Ecolog√≠a",
    "section": "Funciones del paquete vegan()",
    "text": "Funciones del paquete vegan()\n\nAn√°lisis comunes en ecolog√≠a de comunidades usan el formato dist\nvegdist()\n\n\nlibrary(vegan)\n\ndata(varespec)\n\nvare.dist &lt;- vegdist(varespec)\nvare.dist\n\n          18        15        24        27        23        19        22\n15 0.5310021                                                            \n24 0.6680661 0.3597783                                                  \n27 0.5621247 0.4055610 0.4934947                                        \n23 0.3747078 0.3652097 0.5020306 0.4286111                              \n19 0.5094738 0.4560757 0.5092318 0.4878190 0.3606242                    \n22 0.6234419 0.3579517 0.5010050 0.4655224 0.4812706 0.4726483          \n16 0.5337610 0.3976674 0.5907623 0.5683930 0.4094312 0.4496731 0.2678031\n28 0.8418209 0.5225414 0.5736665 0.3027802 0.6979519 0.6431734 0.5985666\n13 0.3453347 0.6063846 0.7576747 0.7543736 0.6221471 0.5739244 0.6948736\n14 0.5449810 0.4803756 0.6533606 0.7467915 0.5645808 0.6331942 0.5357609\n20 0.3879069 0.3784188 0.4346892 0.4957833 0.2877014 0.3953776 0.4627020\n25 0.6318891 0.3376115 0.3369098 0.5001593 0.4258617 0.4311299 0.3822981\n7  0.3603697 0.6717391 0.7931069 0.7792917 0.6390838 0.6958570 0.7459886\n5  0.4955699 0.7178612 0.8561753 0.8732190 0.7295255 0.7898205 0.8611451\n6  0.3382309 0.6355122 0.7441373 0.7496935 0.6252483 0.5684030 0.7249162\n3  0.5277480 0.7578503 0.8382119 0.8090236 0.7128798 0.5302756 0.8026152\n4  0.4694018 0.6843974 0.8309875 0.8413800 0.7117919 0.5177604 0.8015314\n2  0.5724092 0.8206269 0.8372551 0.7581924 0.7249869 0.5389222 0.8321464\n9  0.6583569 0.7761039 0.7590517 0.7415898 0.6693889 0.5393143 0.7725082\n12 0.4688038 0.6794199 0.6894538 0.6253616 0.5384762 0.4288556 0.7051751\n10 0.6248996 0.7644564 0.7842829 0.7096540 0.6625476 0.5059910 0.7875328\n11 0.4458523 0.4716274 0.5677373 0.6322919 0.4710280 0.3293493 0.5812219\n21 0.5560864 0.7607281 0.7272727 0.5456001 0.4951221 0.5315894 0.6771167\n          16        28        13        14        20        25         7\n15                                                                      \n24                                                                      \n27                                                                      \n23                                                                      \n19                                                                      \n22                                                                      \n16                                                                      \n28 0.7015360                                                            \n13 0.5514941 0.8600122                                                  \n14 0.4826350 0.8239667 0.5547565                                        \n20 0.3737797 0.6963560 0.5785542 0.5115258                              \n25 0.4306058 0.6086150 0.7412605 0.5541517 0.4518556                    \n7  0.6596144 0.8960202 0.4533054 0.6550830 0.5959162 0.7556726          \n5  0.7184789 0.9539592 0.5148988 0.7257681 0.7153827 0.8600858 0.3237446\n6  0.6509879 0.9014440 0.3515673 0.6227473 0.5439118 0.7343872 0.1754713\n3  0.6837953 0.9234485 0.4965478 0.7836661 0.6690479 0.8168684 0.5154487\n4  0.6462648 0.9381169 0.3881748 0.6734743 0.6771854 0.8400134 0.5601721\n2  0.7354202 0.9053213 0.5968691 0.8592489 0.6951539 0.8179089 0.6465777\n9  0.8185866 0.8686670 0.7292530 0.8282497 0.6982486 0.7884243 0.8318435\n12 0.6342166 0.8543167 0.5902386 0.7507074 0.5182426 0.7062564 0.6991666\n10 0.7656598 0.9016604 0.7160439 0.8304088 0.6706349 0.7845955 0.7697453\n11 0.5172825 0.7544064 0.4272808 0.6743277 0.4461712 0.6175930 0.5262233\n21 0.7474559 0.7248773 0.7212772 0.8096450 0.6320431 0.7466232 0.7933350\n           5         6         3         4         2         9        12\n15                                                                      \n24                                                                      \n27                                                                      \n23                                                                      \n19                                                                      \n22                                                                      \n16                                                                      \n28                                                                      \n13                                                                      \n14                                                                      \n20                                                                      \n25                                                                      \n7                                                                       \n5                                                                       \n6  0.3984538                                                            \n3  0.5634432 0.4517627                                                  \n4  0.5377506 0.4665100 0.3592689                                        \n2  0.7257597 0.5552754 0.2099203 0.4841145                              \n9  0.9014583 0.7223126 0.3885811 0.6222340 0.2330286                    \n12 0.7808641 0.5762462 0.2641851 0.4870742 0.1846147 0.2277228          \n10 0.8504191 0.6567926 0.3413378 0.5776062 0.1456729 0.1117280 0.1793368\n11 0.5563798 0.4077948 0.3002597 0.3215966 0.4209596 0.5145260 0.3688102\n21 0.8888316 0.6720141 0.7507773 0.7641304 0.6779661 0.5952563 0.5602137\n          10        11\n15                    \n24                    \n27                    \n23                    \n19                    \n22                    \n16                    \n28                    \n13                    \n14                    \n20                    \n25                    \n7                     \n5                     \n6                     \n3                     \n4                     \n2                     \n9                     \n12                    \n10                    \n11 0.5043578          \n21 0.6147874 0.6713363"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#transformar-objetos-dist-en-objetos-de-formato-ancho",
    "href": "presentaciones/4.1-matricesv2.html#transformar-objetos-dist-en-objetos-de-formato-ancho",
    "title": "Matrices en Ecolog√≠a",
    "section": "Transformar objetos dist() en objetos de formato ancho",
    "text": "Transformar objetos dist() en objetos de formato ancho\n\nlibrary(tidyr)\nlibrary(tidyverse)\n\nx &lt;- matrix(1:6, nrow = 3)\ndx = dist(x)"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#section-16",
    "href": "presentaciones/4.1-matricesv2.html#section-16",
    "title": "Matrices en Ecolog√≠a",
    "section": "",
    "text": "dx |&gt; \n  as.matrix() |&gt; \n  as.data.frame() |&gt; \n  mutate(sites = c(\"1\",\"2\",\"3\")) |&gt; \n  pivot_longer(cols = c(1:3),\n               names_to = \"sites2\",\n               values_to = \"distances\") |&gt; \n  \n  head()\n\n# A tibble: 6 √ó 3\n  sites sites2 distances\n  &lt;chr&gt; &lt;chr&gt;      &lt;dbl&gt;\n1 1     1           0   \n2 1     2           1.41\n3 1     3           2.83\n4 2     1           1.41\n5 2     2           0   \n6 2     3           1.41"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#visualizar-datos-crudos",
    "href": "presentaciones/4.1-matricesv2.html#visualizar-datos-crudos",
    "title": "Matrices en Ecolog√≠a",
    "section": "Visualizar datos crudos",
    "text": "Visualizar datos crudos"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#uso-de-gr√°ficos-gen√©ricos",
    "href": "presentaciones/4.1-matricesv2.html#uso-de-gr√°ficos-gen√©ricos",
    "title": "Matrices en Ecolog√≠a",
    "section": "Uso de gr√°ficos gen√©ricos",
    "text": "Uso de gr√°ficos gen√©ricos\n\nA partir de una matriz de species x sitios\nNos permiten visualizar patrones de la comunidad\nAsociar los patrones a teorias ecol√≥gicas"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#gausch-1982",
    "href": "presentaciones/4.1-matricesv2.html#gausch-1982",
    "title": "Matrices en Ecolog√≠a",
    "section": "Gausch 1982",
    "text": "Gausch 1982"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#hacer-gr√°ficos-gen√©ricos",
    "href": "presentaciones/4.1-matricesv2.html#hacer-gr√°ficos-gen√©ricos",
    "title": "Matrices en Ecolog√≠a",
    "section": "Hacer gr√°ficos gen√©ricos",
    "text": "Hacer gr√°ficos gen√©ricos"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#uso-de-an√°lisis-de-gradientes-indirectos",
    "href": "presentaciones/4.1-matricesv2.html#uso-de-an√°lisis-de-gradientes-indirectos",
    "title": "Matrices en Ecolog√≠a",
    "section": "Uso de an√°lisis de gradientes (in)directos",
    "text": "Uso de an√°lisis de gradientes (in)directos"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#interpretaci√≥n-de-los-resultados",
    "href": "presentaciones/4.1-matricesv2.html#interpretaci√≥n-de-los-resultados",
    "title": "Matrices en Ecolog√≠a",
    "section": "Interpretaci√≥n de los resultados",
    "text": "Interpretaci√≥n de los resultados"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#c√°lculo-de-gradiente-directo",
    "href": "presentaciones/4.1-matricesv2.html#c√°lculo-de-gradiente-directo",
    "title": "Matrices en Ecolog√≠a",
    "section": "C√°lculo de gradiente directo",
    "text": "C√°lculo de gradiente directo"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#ejemplo-usando-dados-de-abundancia-de-moluscos",
    "href": "presentaciones/4.1-matricesv2.html#ejemplo-usando-dados-de-abundancia-de-moluscos",
    "title": "Matrices en Ecolog√≠a",
    "section": "Ejemplo usando dados de abundancia de moluscos",
    "text": "Ejemplo usando dados de abundancia de moluscos\n\nImportar el archivo moluscos.txt\n\n\nlibrary(readr)\nlibrary(here)\nmoluscos = read_table(file=here(\"dados\",\"moluscos.txt\"))\n\n\n# importar los datos ambientales\nambi = read_table(file=here(\"dados\",\"ambi.txt\"))"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#editar-la-tabla-de-moluscos-quitar-la-columna-sites",
    "href": "presentaciones/4.1-matricesv2.html#editar-la-tabla-de-moluscos-quitar-la-columna-sites",
    "title": "Matrices en Ecolog√≠a",
    "section": "Editar la tabla de moluscos, quitar la columna ‚Äúsites‚Äù",
    "text": "Editar la tabla de moluscos, quitar la columna ‚Äúsites‚Äù\n\nlibrary(tidyverse)\n\nmoluscos &lt;- \n  moluscos |&gt; \n    select(c(sp1:sp6))\nmoluscos\n\n# A tibble: 10 √ó 6\n     sp1   sp2   sp3   sp4   sp5   sp6\n   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1    10     9    15     2     1     0\n 2     0     0     0     0    13    12\n 3     7     4     0     0     0     0\n 4     0     1     0     3    14    20\n 5     0     0     0    10     8     6\n 6     0     0     2     5     4     0\n 7     0     4    11     0     0     0\n 8     0     0     7     3     0     0\n 9     0     0     0     9     5     0\n10     0     0     1    15    10     8"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#calcular-las-medias",
    "href": "presentaciones/4.1-matricesv2.html#calcular-las-medias",
    "title": "Matrices en Ecolog√≠a",
    "section": "calcular las medias",
    "text": "calcular las medias\n\nUsar el gradiente de precipitacion\n\n\nmolu.medias &lt;-colSums(moluscos*ambi$lluvia)/colSums(moluscos)\n\n\nOrdenar las filas de acuerdo con el gradiente ambiental y con las medias\n\n\nmolu.ord&lt;-moluscos[order(ambi$lluvia,decreasing=F),]\nmolu.ord1&lt;-molu.ord[,order(molu.medias,decreasing=T)]"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#visualizar",
    "href": "presentaciones/4.1-matricesv2.html#visualizar",
    "title": "Matrices en Ecolog√≠a",
    "section": "Visualizar",
    "text": "Visualizar\n\nAlgunos ajustes..\n\n\nambi2 &lt;- ambi[order(ambi$lluvia,decreasing=F),]\n\nmolu.ord2 &lt;- cbind(molu.ord1,ambi2)"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#section-17",
    "href": "presentaciones/4.1-matricesv2.html#section-17",
    "title": "Matrices en Ecolog√≠a",
    "section": "",
    "text": "Qu√© vemos en la gr√°fica abajo? Hay algun patr√≥n?\n\n\nmolu.ord2 |&gt; \n  pivot_longer(cols = c(sp1:sp6)) |&gt; \n  ggplot(aes(x=factor(lluvia),y=fct_rev(name),size=ifelse(value==0,NA,value)))+\n  geom_point(shape=15)"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#otras-opiciones-de-gr√°ficos-gen√©ricos",
    "href": "presentaciones/4.1-matricesv2.html#otras-opiciones-de-gr√°ficos-gen√©ricos",
    "title": "Matrices en Ecolog√≠a",
    "section": "Otras opiciones de gr√°ficos gen√©ricos",
    "text": "Otras opiciones de gr√°ficos gen√©ricos\n\nVer el github de Cristian Dambros, de la UFSM-BRA\nLa funci√≥n poncho\npara llamar la funci√≥n directamente a su script usar: source(‚Äúhttps://raw.githubusercontent.com/csdambros/R-functions/master/poncho.R‚Äù)"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#cuando-no-hay-variables-ambientales",
    "href": "presentaciones/4.1-matricesv2.html#cuando-no-hay-variables-ambientales",
    "title": "Matrices en Ecolog√≠a",
    "section": "Cuando no hay variables ambientales",
    "text": "Cuando no hay variables ambientales\n\nIgual se pueden ordenar las matrices para visualizar los patrones\nIndirect gradient analysis\nDe este tipo se an√°lisis se derivan t√©cnicas m√°s complejas como RA, CA y PCA"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#en-resumen",
    "href": "presentaciones/4.1-matricesv2.html#en-resumen",
    "title": "Matrices en Ecolog√≠a",
    "section": "En Resumen",
    "text": "En Resumen"
  },
  {
    "objectID": "presentaciones/4.1-matricesv2.html#no-voy-en-serio",
    "href": "presentaciones/4.1-matricesv2.html#no-voy-en-serio",
    "title": "Matrices en Ecolog√≠a",
    "section": "No, voy en serio!",
    "text": "No, voy en serio!\n\nLa matriz es una de los formatos esenciales para los analisis ecol√≥gicos\nManejar y visualizar informaci√≥n de matrices puede revelar informaciones importantes de los datos incluso antes de los an√°lisis"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#temas-de-este-bloque",
    "href": "presentaciones/1-flujos_trabajo.html#temas-de-este-bloque",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Temas de este bloque",
    "text": "Temas de este bloque\n\nOrganizaci√≥n de proyectos y archivos\n\nBuenas pr√°cticas para nombrar archivos y objetos\n\nTrabajando con rutas\n\nEstructuras y organizaci√≥n de datos Objetos\n\nRepaso\nExploraci√≥n r√°pida de datos"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#qu√©-es",
    "href": "presentaciones/1-flujos_trabajo.html#qu√©-es",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "¬øQu√© es ?",
    "text": "¬øQu√© es ?\n‚úçÔ∏èSoftware\n\n¬øDialecto de S?\n¬øPaquete estad√≠stico?\n¬øRStudio?\n¬øLenguaje de programaci√≥n?\n¬øDispositivo gr√°fico?"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#section-1",
    "href": "presentaciones/1-flujos_trabajo.html#section-1",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "?",
    "text": "?\n\n\n‚úçÔ∏èüßë‚ÄçüéìVentajas\n\n‚úçÔ∏èüßë‚ÄçüéìDesventajas"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#este-curso",
    "href": "presentaciones/1-flujos_trabajo.html#este-curso",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Este curso",
    "text": "Este curso\n\nInstalaciones locales\nRStudio\nDialecto tidyverse\nEnfoque en c√≥digo\nPipes"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#mi-sistema",
    "href": "presentaciones/1-flujos_trabajo.html#mi-sistema",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Mi sistema",
    "text": "Mi sistema\n\nR v4.3.0\nRStudio 2023.05.0-daily+304 ‚ÄúMountain Hydrangea‚Äù\nSin personalizaciones visuales\nLinux Mint 20.3"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#no-es-rstudio",
    "href": "presentaciones/1-flujos_trabajo.html#no-es-rstudio",
    "title": "Flujos de trabajo y an√°lisis",
    "section": " no es RStudio",
    "text": "no es RStudio\nIDE - Entorno de desarrollo integrado\nHerramientas para facilitar el uso de un lenguaje de programaci√≥n\n\nEditor de texto que ‚Äòreconoce‚Äô la sintaxis de un lenguaje\nAtajos y herramientas para administrar y ejecutar c√≥digo"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#otras-opciones",
    "href": "presentaciones/1-flujos_trabajo.html#otras-opciones",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Otras opciones",
    "text": "Otras opciones\n\nRStudio\n\nEmacs + ESS (https://ess.r-project.org)\n\nvim + Nvim-R: (Turn Vim Into an IDE for R)\n\nVisual Studio + RTVS\nCualquier editor de texto (enviando l√≠neas o selecciones a una instancia de R)"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#section-2",
    "href": "presentaciones/1-flujos_trabajo.html#section-2",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "",
    "text": "R. Geert van den Berg [SPSS Tutorials]"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#scripts-y-c√≥digo-fuente",
    "href": "presentaciones/1-flujos_trabajo.html#scripts-y-c√≥digo-fuente",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Scripts y c√≥digo fuente",
    "text": "Scripts y c√≥digo fuente\n\n\n\n\nReproducir y modificar pasos\nEncontrar errores\nDocumentar el proceso\nExaminar c√≥digo ajeno"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#paquetes",
    "href": "presentaciones/1-flujos_trabajo.html#paquetes",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "üì¶ Paquetes",
    "text": "üì¶ Paquetes\n\n\nAl instalar R instalamos:\nbase: las funciones fundamentales de R\n\nlist()\nlog()\ncat() rm() etc‚Ä¶"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#paquetes-1",
    "href": "presentaciones/1-flujos_trabajo.html#paquetes-1",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "üì¶ Paquetes",
    "text": "üì¶ Paquetes\nOtros componentes de R-base:\nutils, stats, datasets, graphics, grDevices, grid, methods, tools, parallel, compiler, splines, tcltk, stats4\nPaquetes ‚Äòrecomendados‚Äô (se instalan con R pero no se cargan autom√°ticamente)\nboot, class, cluster, codetools, foreign, KernSmooth, lattice, mgcv, nlme, rpart, survival, MASS, spatial, nnet, Matrix"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#paquetes-adicionales",
    "href": "presentaciones/1-flujos_trabajo.html#paquetes-adicionales",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "üì¶ Paquetes Adicionales",
    "text": "üì¶ Paquetes Adicionales\n\n&gt;19,000 en CRAN (The Comprehensive R Archive Network)\nmuchos m√°s en GitHub, GitLab, Bitbucket, Bioconductor, etc.\n\nSe instalan desde R con:\ninstall.packages() para paquetes de CRAN\nüì¶ remotes para todos los dem√°s repositorios"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#visita-guiada-por-r-y-rstudio",
    "href": "presentaciones/1-flujos_trabajo.html#visita-guiada-por-r-y-rstudio",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Visita guiada por R y RStudio",
    "text": "Visita guiada por R y RStudio\n\nEjecutar R\nEjecutar RStudio\nInstalar algunos paquetes para hoy:\n\n\ninstall.packages(\"ggplot2\")\ninstall.packages(\"dplyr\")\ninstall.packages(\"readr\")\ninstall.packages(\"tidyr\")\ninstall.packages(\"fs\")\ninstall.packages(\"here\")"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#sistemas-de-archivos",
    "href": "presentaciones/1-flujos_trabajo.html#sistemas-de-archivos",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Sistemas de archivos",
    "text": "Sistemas de archivos\n\n\n Monica Chin (2021)\nFile not Found\n\n Jody Macgregor (2021)\nPC Gamer"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#directorios-rutas-y-nombres",
    "href": "presentaciones/1-flujos_trabajo.html#directorios-rutas-y-nombres",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Directorios, rutas y nombres",
    "text": "Directorios, rutas y nombres\n\n\n\n\nGuardar archivos en ubicaciones espec√≠ficas, con nombres intencionales y √∫tiles\n\nNombres cortos e informativos\nF√°ciles de ordenar y que cooperen con b√∫squedas parciales\nAtenci√≥n con caracteres especiales y espacios"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#nombres",
    "href": "presentaciones/1-flujos_trabajo.html#nombres",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Nombres",
    "text": "Nombres\n\n\nOK\nmax_temp \n prec_min_usd\ntemp_mensual\n\nNo tanto\ntemperatura_maximaC2014\nmax\ntemp\n'Precio M√≠nimo ($) USD'\n'Temperatura/Mes (¬∞F)'\n\n\n\n\n\nJenny Bryan (2015)\nNaming Things"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#nombres-1",
    "href": "presentaciones/1-flujos_trabajo.html#nombres-1",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Nombres",
    "text": "Nombres\n\n\nOK\n01_factura-marzo2023.pdf\n02_factura-julio2023.pdf\nms_helechos_20210412.docx\n\nNo tanto\ndescarga5462.pdf\njuliocompraluis.pdf\nborrador.docx\n\n\n\nEn R los nombres v√°lidos solo pueden llevar letras, n√∫meros, puntos, y guiones; no pueden comenzar con n√∫meros"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#esquemas-de-may√∫sculasmin√∫sculas-y-espacios",
    "href": "presentaciones/1-flujos_trabajo.html#esquemas-de-may√∫sculasmin√∫sculas-y-espacios",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Esquemas de may√∫sculas/min√∫sculas y espacios",
    "text": "Esquemas de may√∫sculas/min√∫sculas y espacios\n\ncamelCase - la segunda palabra en adelante con may√∫scula, sin espacios\nsnake_case - solo min√∫sculas, gui√≥n bajo entre palabras\nslug-case - solo min√∫sculas, gui√≥n entre palabras"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#organizaci√≥n-de-proyectos",
    "href": "presentaciones/1-flujos_trabajo.html#organizaci√≥n-de-proyectos",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Organizaci√≥n de proyectos",
    "text": "Organizaci√≥n de proyectos\nProyecto\nDirectorio con todo los archivos relevantes para alg√∫n trabajo\nSeparar:\nüìÅ Datos (o c√≥digo para cargarlos desde fuentes remotas)\nüìÅ Scripts de an√°lisis y/o visualizaci√≥n\nüìÅ Salidas (figuras, informes, datos intermedios, etc.)\n\n\n\n\n\n\nJenny Bryan (2017)\nProject-oriented workflow\n\nMa√´lle Salmon (2021)\nDraw me a project"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#proyectos-en-rstudio",
    "href": "presentaciones/1-flujos_trabajo.html#proyectos-en-rstudio",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Proyectos en RStudio",
    "text": "Proyectos en RStudio\n\n\n\n\n\nInstancia de R dedicada\nNavegador apuntando al directorio del proyecto\n\nbot√≥n para regresar al dir. del proyecto\n\nDir. de proyecto establecido como Dir. de Trabajo\n\nrutas relativas al Dir. de Proyecto"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#ejercicio",
    "href": "presentaciones/1-flujos_trabajo.html#ejercicio",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Ejercicio",
    "text": "Ejercicio\nCrear un proyecto para el curso en RStudio\n\n\nen alguna ubicaci√≥n f√°cil de encontrar (ej. Escritorio)\n‚Äúcurso-R-biodiversidad‚Äù como nombre\n\n\nLos proyectos en OneDrive pueden no funcionar correctamente"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#fs",
    "href": "presentaciones/1-flujos_trabajo.html#fs",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "üì¶ fs",
    "text": "üì¶ fs\nTrabajando con el sistema de archivos (cualquier plataforma)\nfs siempre trabaja con rutas ordenadas\n\n‚Äò/‚Äô para delimitar carpetas\n\nSin ‚Äò/‚Äô dobles o extras\n\nCrear directorios\nMover archivos\nCopiar archivos\nCambiar nombres"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#ejercicio-1",
    "href": "presentaciones/1-flujos_trabajo.html#ejercicio-1",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Ejercicio",
    "text": "Ejercicio\n\nCrear nuevas carpetas en el directorio del proyecto\n\ndatos\nsalida\nR\n\n\nLos paquetes ya instalados se cargan con la funci√≥n library()\n\nlibrary(fs)"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#crear-nuevas-carpetas-en-el-directorio-del-proyecto",
    "href": "presentaciones/1-flujos_trabajo.html#crear-nuevas-carpetas-en-el-directorio-del-proyecto",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Crear nuevas carpetas en el directorio del proyecto",
    "text": "Crear nuevas carpetas en el directorio del proyecto\n\ndir_create(\"R\")\ndir_create(\"datos\")\ndir_create(\"salida\")\ndir_ls()\n\n\nTodo esto tambi√©n se puede hacer desde el navegador de RStudio, la terminal, o el explorador del sistema operativo"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#guardar-la-fuente-y-no-el-entorno",
    "href": "presentaciones/1-flujos_trabajo.html#guardar-la-fuente-y-no-el-entorno",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Guardar la fuente y no el entorno",
    "text": "Guardar la fuente y no el entorno\n\n\n\n\n\nExportar figuras y resultados a archivos\nEvitar rm(list = ls()).\n‚ÄòHoja en blanco‚Äô & reiniciar R seguido\n\n\n\nJenny Bryan & Jim Hester (2020)\nWhat they forgot to teach you about R\nJenny Bryan (2018)\nZen And The aRt Of Workflow Maintenance"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#hoja-en-blanco-blank-slate",
    "href": "presentaciones/1-flujos_trabajo.html#hoja-en-blanco-blank-slate",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Hoja en blanco (blank slate)",
    "text": "Hoja en blanco (blank slate)\n\n\nNo se guarda el espacio de trabajo a un archivo .Rdata\nNo se carga el espacio de trabajo desde un archivo .Rdata al arrancar R"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#reiniciar-r",
    "href": "presentaciones/1-flujos_trabajo.html#reiniciar-r",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Reiniciar R",
    "text": "Reiniciar R\nCtrl+Shift+F10\n(Windows y Linux)\nCommand+Shift+F10\n(Mac)"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#here-y-rutas-relativas",
    "href": "presentaciones/1-flujos_trabajo.html#here-y-rutas-relativas",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "üì¶ here y rutas relativas",
    "text": "üì¶ here y rutas relativas\nF:\\PC de Luis\\ruta\\que\\solo\\tengo\\mi-proyecto\\analisis\\script1.R\nTrabajemos en relaci√≥n a la ra√≠z del proyecto con la funci√≥n here()\n\nresuelve cu√°l es la ra√≠z del proyecto\nconstruye rutas port√°tiles\ngenera rutas absolutas (comienzan con /, C:\\ o \\\\)\n\n\n\nOde to the here package (2018)"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#section-5",
    "href": "presentaciones/1-flujos_trabajo.html#section-5",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "",
    "text": "Si la ra√≠z del proyecto es mi-proyecto\n\nhere(\"analisis\",\"script1.R\")\n\nconstruye:\nF:\\PC de Luis\\ruta\\que\\solo\\tengo\\mi-proyecto\\analisis\\script1.R"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#importando-archivos-tablas",
    "href": "presentaciones/1-flujos_trabajo.html#importando-archivos-tablas",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Importando archivos (tablas)",
    "text": "Importando archivos (tablas)\n\nCon el bot√≥n ‚ÄúImport Dataset‚Äù\nCon alguna funci√≥n read"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#readr-y-readxl",
    "href": "presentaciones/1-flujos_trabajo.html#readr-y-readxl",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "readr y readxl",
    "text": "readr y readxl\nPaquetes adicionales para importar datos rectangulares desde archivos de texto y hojas de c√°lculo\n\nMenos errores al importar\nMayor flexibilidad al leer archivos\nLectura m√°s r√°pida\nFunciones adicionales para limpiar los valores en las columnas"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#ejercicio-2",
    "href": "presentaciones/1-flujos_trabajo.html#ejercicio-2",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Ejercicio",
    "text": "Ejercicio\nImportar una tabla a R desde un archivo"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#principios-de-programaci√≥n-en-r",
    "href": "presentaciones/1-flujos_trabajo.html#principios-de-programaci√≥n-en-r",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Principios de programaci√≥n en R",
    "text": "Principios de programaci√≥n en R\n\nTodo lo que existe es un objeto\nTodo lo que ocurre lo hace una funci√≥n\n(Las funciones son objetos)\nLas funciones (generalmente) viven en paquetes"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#objetos",
    "href": "presentaciones/1-flujos_trabajo.html#objetos",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Objetos",
    "text": "Objetos\n\nTablas con filas y columnas\nModelos\nListas\nGr√°ficos\n\n\nTodos los objetos tienen clases y atributos y hay distintas formas de crearlos"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#section-6",
    "href": "presentaciones/1-flujos_trabajo.html#section-6",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "",
    "text": "Vectores\n\nListas\n\n\nTablas"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#vectores-1",
    "href": "presentaciones/1-flujos_trabajo.html#vectores-1",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Vectores",
    "text": "Vectores\nN√∫meros\n\n\nc(1,2,3,4)\n\n[1] 1 2 3 4\n\n\n\n\n\n\nc(22.1,0.006,4.1)\n\n[1] 22.100  0.006  4.100"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#vectores-2",
    "href": "presentaciones/1-flujos_trabajo.html#vectores-2",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Vectores",
    "text": "Vectores\nCaracteres\n\n\nc(\"perro\",\"gato\",\"rata\",\"B\")\n\n[1] \"perro\" \"gato\"  \"rata\"  \"B\""
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#vectores-3",
    "href": "presentaciones/1-flujos_trabajo.html#vectores-3",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Vectores",
    "text": "Vectores\nL√≥gicos (verdadero/falso)\n\n\nc(TRUE,FALSE,FALSE,FALSE,TRUE)\n\n[1]  TRUE FALSE FALSE FALSE  TRUE"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#creando-objetos",
    "href": "presentaciones/1-flujos_trabajo.html#creando-objetos",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Creando objetos",
    "text": "Creando objetos\n\n\nx &lt;- c(1, 2, 3)\n\n\nFunci√≥n c() para juntar elementos en un vector\n\n\nx &lt;- c(1,2,3)\ny &lt;- c(\"a\",\"G\",\"h\")\n\n\n\n\nx\n\n[1] 1 2 3\n\ny\n\n[1] \"a\" \"G\" \"h\""
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#los-objetos-tienen-clases",
    "href": "presentaciones/1-flujos_trabajo.html#los-objetos-tienen-clases",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Los objetos tienen clases",
    "text": "Los objetos tienen clases\n\n\nclass(x)\n\n[1] \"numeric\"\n\nclass(y)\n\n[1] \"character\""
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#los-vectores-solo-pueden-tener-objetos-de-la-misma-clase",
    "href": "presentaciones/1-flujos_trabajo.html#los-vectores-solo-pueden-tener-objetos-de-la-misma-clase",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Los vectores solo pueden tener objetos de la misma clase",
    "text": "Los vectores solo pueden tener objetos de la misma clase\n\n\nc(1,\"a\",2)\n\n[1] \"1\" \"a\" \"2\"\n\n\n\nAl combinar caracteres y n√∫meros hay conversi√≥n autom√°tica"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#vectores-num√©ricos",
    "href": "presentaciones/1-flujos_trabajo.html#vectores-num√©ricos",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Vectores num√©ricos",
    "text": "Vectores num√©ricos"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#factores",
    "href": "presentaciones/1-flujos_trabajo.html#factores",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Factores",
    "text": "Factores\n\n\n\n\n\nRepresentan datos categ√≥ricos\nLas etiquetas de cada valor se conocen como niveles, que pueden o no llevar un orden espec√≠fico\nCrear con factor()"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#factores-1",
    "href": "presentaciones/1-flujos_trabajo.html#factores-1",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Factores",
    "text": "Factores\n\n\nfactor(c(\"perro\",\"gato\",\"ave\",\"ninguno\",\n         \"perro\",\"ninguno\",\"perro\",\"perro\",\n         \"gato\",\"ave\",\"perro\"))\n\n [1] perro   gato    ave     ninguno perro   ninguno perro   perro   gato   \n[10] ave     perro  \nLevels: ave gato ninguno perro"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#dos-o-m√°s-vectores-del-mismo-largo",
    "href": "presentaciones/1-flujos_trabajo.html#dos-o-m√°s-vectores-del-mismo-largo",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Dos o m√°s vectores del mismo largo‚Ä¶",
    "text": "Dos o m√°s vectores del mismo largo‚Ä¶\n\n\n\n\n\n¬°Data frame!\n\nObjeto tabular con filas y columnas\nPuede almacenar objetos de distintas clases en las columnas\nNombres para cada columna"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#data-frames",
    "href": "presentaciones/1-flujos_trabajo.html#data-frames",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "Data frames",
    "text": "Data frames\nSe crean importando un archivo tabular o con data.frame()\n\n\nmi_tabla &lt;- \ndata.frame(id=c(\"rana\",\"pez\",\"nutria\",\"gusano\"),\n           ind_g=c(12,15,13,10),\n           listo=c(TRUE,TRUE,FALSE,TRUE))\n\n\n\ncada vector es una columna\nnombres de columnas sin comillas\nmismo largo para todos los vectores"
  },
  {
    "objectID": "presentaciones/1-flujos_trabajo.html#section-7",
    "href": "presentaciones/1-flujos_trabajo.html#section-7",
    "title": "Flujos de trabajo y an√°lisis",
    "section": "",
    "text": "mi_tabla\n\n      id ind_g listo\n1   rana    12  TRUE\n2    pez    15  TRUE\n3 nutria    13 FALSE\n4 gusano    10  TRUE"
  },
  {
    "objectID": "presentaciones/5.0-distribuciones_geograficas.html#√°rea-de-distribuci√≥n-geogr√°fica",
    "href": "presentaciones/5.0-distribuciones_geograficas.html#√°rea-de-distribuci√≥n-geogr√°fica",
    "title": "Distribuciones geogr√°ficas",
    "section": "√Årea de distribuci√≥n geogr√°fica",
    "text": "√Årea de distribuci√≥n geogr√°fica\n\n‚Äú‚Ä¶el espacio donde las condiciones ecol√≥gicas favorecen, real o potencialmente y en varios niveles, las interacciones no ef√≠meras de los individuos de una especie‚Äù Mota-Vargas & Rojas-Soto 2012"
  },
  {
    "objectID": "presentaciones/5.0-distribuciones_geograficas.html#puntos-pol√≠gonos-y-mapas-de-distribuci√≥n",
    "href": "presentaciones/5.0-distribuciones_geograficas.html#puntos-pol√≠gonos-y-mapas-de-distribuci√≥n",
    "title": "Distribuciones geogr√°ficas",
    "section": "Puntos, pol√≠gonos y mapas de distribuci√≥n",
    "text": "Puntos, pol√≠gonos y mapas de distribuci√≥n\nLos registros (colectas georeferenciadas) de las especies son los datos primarios de biodiversidad, a partir de los cu√°les podemos estimar las √°reas de distribuci√≥n de estas y describir/evaluar los patrones de diversidad que emergen de su agregaci√≥n (traslape; e.g., gradiente geogr√°fico de riqueza)"
  },
  {
    "objectID": "presentaciones/5.0-distribuciones_geograficas.html#section",
    "href": "presentaciones/5.0-distribuciones_geograficas.html#section",
    "title": "Distribuciones geogr√°ficas",
    "section": "",
    "text": "En este ejemplo/ejercicio veremos c√≥mo obtener dichos registros directamente desde R\n\n\n\nTambi√©n, veremos c√≥mo generar √°reas de distribuci√≥n (extenciones de presencia) a partir de estos registros, creando pol√≠gonos de diferentes tipos (m√≠nimo, alpha y alpha din√°mico)\n\n\n\n\nLos datos de registros ser√°n obtenidos de la plataforma en l√≠nea Global Biodiversity Information Facility - GBIF"
  },
  {
    "objectID": "presentaciones/5.0-distribuciones_geograficas.html#paquetes-necesarios",
    "href": "presentaciones/5.0-distribuciones_geograficas.html#paquetes-necesarios",
    "title": "Distribuciones geogr√°ficas",
    "section": "Paquetes necesarios:",
    "text": "Paquetes necesarios:\n\nlibrary(rgbif)\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(sf)\nlibrary(rnaturalearth)\nlibrary(alphahull)\nlibrary(rangeBuilder)\nlibrary(janitor)"
  },
  {
    "objectID": "presentaciones/5.0-distribuciones_geograficas.html#section-1",
    "href": "presentaciones/5.0-distribuciones_geograficas.html#section-1",
    "title": "Distribuciones geogr√°ficas",
    "section": "",
    "text": "Para comenzar podemos escoger una especie y aplicar la funci√≥n occ_data\nEl objeto sp_data es una lista con datos sobre los resultados obtenidos en GBIF (incluyendo algunos metadatos)\nPara trabajar √∫nicamente con la tabla de registros hay que seleccionar el objeto data dentro del mismo\n\nsp_data &lt;- occ_data(scientificName = \"Musonycteris harrisoni\", limit = 500)[[2]]"
  },
  {
    "objectID": "presentaciones/5.0-distribuciones_geograficas.html#section-2",
    "href": "presentaciones/5.0-distribuciones_geograficas.html#section-2",
    "title": "Distribuciones geogr√°ficas",
    "section": "",
    "text": "Checar el nombre de las columnas (para despu√©s buscar √∫nicamente las de posici√≥n geogr√°fica: lat/long)\n\nnames(sp_data)[1:30]\n\n [1] \"key\"                    \"scientificName\"         \"decimalLatitude\"       \n [4] \"decimalLongitude\"       \"issues\"                 \"datasetKey\"            \n [7] \"publishingOrgKey\"       \"installationKey\"        \"hostingOrganizationKey\"\n[10] \"publishingCountry\"      \"protocol\"               \"lastCrawled\"           \n[13] \"lastParsed\"             \"crawlId\"                \"projectId\"             \n[16] \"basisOfRecord\"          \"individualCount\"        \"occurrenceStatus\"      \n[19] \"sex\"                    \"taxonKey\"               \"kingdomKey\"            \n[22] \"phylumKey\"              \"classKey\"               \"orderKey\"              \n[25] \"familyKey\"              \"genusKey\"               \"speciesKey\"            \n[28] \"acceptedTaxonKey\"       \"acceptedScientificName\" \"kingdom\""
  },
  {
    "objectID": "presentaciones/5.0-distribuciones_geograficas.html#section-3",
    "href": "presentaciones/5.0-distribuciones_geograficas.html#section-3",
    "title": "Distribuciones geogr√°ficas",
    "section": "",
    "text": "1.Crear otro objeto a partir sp_data √∫nicamente con long/lat\n\n2.Quedarse √∫nicamente con los puntos/registros individuales (i.e., excluir duplicados)\n\n\n3.Transformarlo en un objeto espacial\n\n\n\nsp_p1&lt;-sp_data%&gt;%\n  select(decimalLongitude,decimalLatitude,species)%&gt;%\n  mutate(lat=decimalLatitude,lon=decimalLongitude)%&gt;%\n  distinct() %&gt;%\n  na.omit() %&gt;% \n  sf::st_as_sf(coords = c('decimalLongitude','decimalLatitude'),crs=\"EPSG: 4326\")\n\n\nNOTA: el nombre de la variable puede ser diferente (.e.g ‚ÄúLATITUDE‚Äù, ‚ÄúLatidude‚Äù, ‚Äúlat‚Äù, etc. Siempre hay que checar antes)"
  },
  {
    "objectID": "presentaciones/5.0-distribuciones_geograficas.html#section-4",
    "href": "presentaciones/5.0-distribuciones_geograficas.html#section-4",
    "title": "Distribuciones geogr√°ficas",
    "section": "",
    "text": "Graficar (poner en un mapa) los puntos de presencia de nuestra especie\n\nggplot()+ geom_sf(data=sp_p1, col=\"blue\",pch=19)"
  },
  {
    "objectID": "presentaciones/5.0-distribuciones_geograficas.html#section-5",
    "href": "presentaciones/5.0-distribuciones_geograficas.html#section-5",
    "title": "Distribuciones geogr√°ficas",
    "section": "",
    "text": "Agregar el mapa del mundo para saber qu√© onda!\n\nwrld &lt;- ne_countries(scale = \"small\",returnclass = \"sf\")\n\n\nggplot()+\n  geom_sf(data=wrld)+geom_sf(data=sp_p1,col=\"blue\",pch=19,size=1)+coord_sf(expand = F) +\n  labs(x=\"Longitud decimal \",\n       y=\"Latitud decimal\",\n       title=expression(paste(\"Puntos reportados \", italic(\"Musonycteris harrisoni\"))))+\n  theme(plot.title = element_text(hjust = 0.5))"
  },
  {
    "objectID": "presentaciones/5.0-distribuciones_geograficas.html#section-6",
    "href": "presentaciones/5.0-distribuciones_geograficas.html#section-6",
    "title": "Distribuciones geogr√°ficas",
    "section": "",
    "text": "Hay algo claramente equivocado, ¬øcierto? Los puntos/registros necesitan ser ‚Äúcurados‚Äù (limpiados)\n\nEliminar los puntos con mala georeferencia (en este caso, puntos obvios en el ‚Äúviejo mundo‚Äù)\n\nsp_p1&lt;-sp_data%&gt;%\n  select(decimalLongitude,decimalLatitude,species)%&gt;%\n  mutate(lat=decimalLatitude,lon=decimalLongitude)%&gt;%\n  distinct() %&gt;% na.omit() %&gt;% \n  sf::st_as_sf(coords = c('decimalLongitude','decimalLatitude'),crs=\"EPSG: 4326\")%&gt;%\n  filter(lat&gt; 0.5) %&gt;% filter(lat&lt; 22)"
  },
  {
    "objectID": "presentaciones/5.0-distribuciones_geograficas.html#section-7",
    "href": "presentaciones/5.0-distribuciones_geograficas.html#section-7",
    "title": "Distribuciones geogr√°ficas",
    "section": "",
    "text": "Ahora s√≠, mapeamos de nuevo pero s√≥lamente en la regi√≥n de inter√©s (M√©xico)\n\nmex_map &lt;- filter(wrld,name==\"Mexico\")\n\n\n\nggplot()+geom_sf(data=mex_map)+\n  geom_sf(data=sp_p1,col=\"blue\",pch=19,size=1)+coord_sf(expand = F)"
  },
  {
    "objectID": "presentaciones/5.0-distribuciones_geograficas.html#section-8",
    "href": "presentaciones/5.0-distribuciones_geograficas.html#section-8",
    "title": "Distribuciones geogr√°ficas",
    "section": "",
    "text": "Y ¬øC√≥mo eliminamos los registros que est√°n en el mar?\n\nsp_p1&lt;-sp_data%&gt;%\n  select(decimalLongitude,decimalLatitude,species)%&gt;%\n  mutate(lat=decimalLatitude,lon=decimalLongitude)%&gt;%\n  distinct() %&gt;%\n  na.omit() %&gt;% \n  sf::st_as_sf(coords = c('decimalLongitude','decimalLatitude'),crs=\"EPSG: 4326\")%&gt;%\n  filter(lat&gt; 0.5) %&gt;%\n  filter(lat&lt; 22)%&gt;%\n  filter(lon&gt; -105.56611)"
  },
  {
    "objectID": "presentaciones/5.0-distribuciones_geograficas.html#section-9",
    "href": "presentaciones/5.0-distribuciones_geograficas.html#section-9",
    "title": "Distribuciones geogr√°ficas",
    "section": "",
    "text": "Una vez tenemos los datos curados, podemos crear nuestro mcp\n\nsp1_mcp &lt;- st_convex_hull(st_union(sp_p1) )\n\n\n¬øC√≥mo se ve?"
  },
  {
    "objectID": "presentaciones/5.0-distribuciones_geograficas.html#section-10",
    "href": "presentaciones/5.0-distribuciones_geograficas.html#section-10",
    "title": "Distribuciones geogr√°ficas",
    "section": "",
    "text": "sp1_mcp2 &lt;- st_as_sf(sp1_mcp)\n\nggplot()+\n  geom_sf(data=mex_map)+\n  geom_sf(data=sp1_mcp,\n          fill=\"blue\")"
  },
  {
    "objectID": "presentaciones/5.0-distribuciones_geograficas.html#section-11",
    "href": "presentaciones/5.0-distribuciones_geograficas.html#section-11",
    "title": "Distribuciones geogr√°ficas",
    "section": "",
    "text": "Usamos el paquete alphahull\nNOTA: Esta funci√≥n solo acepta tablas como entrada\n\nsp_p2&lt;-as.data.frame(st_coordinates(sp_p1))\n\n\nsp1_alphahull &lt;- ahull(sp_p2, alpha = 6)\n\nError in eval(expr, envir, enclos): shull: duplicate points found\n\n\n\nError: shull: duplicate points found\n\n\nFalla porque encuentra puntos duplicados o, como en este caso, puntos en una l√≠nea recta (i.e, mismo X y/o mismo Y)."
  },
  {
    "objectID": "presentaciones/5.0-distribuciones_geograficas.html#section-12",
    "href": "presentaciones/5.0-distribuciones_geograficas.html#section-12",
    "title": "Distribuciones geogr√°ficas",
    "section": "",
    "text": "¬øC√≥mo podemos identificar y solucionar este error?\n\nsp_p3&lt;-sp_p2 %&gt;% select(X, Y)%&gt;% \nmutate(X = ifelse(duplicated(sp_p2$X), X + rnorm(1, mean = 0, sd = 0.0001), X))%&gt;% \nmutate(Y = ifelse(duplicated(sp_p2$Y), Y + rnorm(1, mean = 0, sd = 0.0001), Y))"
  },
  {
    "objectID": "presentaciones/5.0-distribuciones_geograficas.html#section-13",
    "href": "presentaciones/5.0-distribuciones_geograficas.html#section-13",
    "title": "Distribuciones geogr√°ficas",
    "section": "",
    "text": "Ahora si, podemos crear el Alpha Hull con un valor de alpha escogido (por la raz√≥n que crean relevante)\n\nsp1_alphahull&lt;- ahull(sp_p3, alpha = 1)"
  },
  {
    "objectID": "presentaciones/5.0-distribuciones_geograficas.html#section-14",
    "href": "presentaciones/5.0-distribuciones_geograficas.html#section-14",
    "title": "Distribuciones geogr√°ficas",
    "section": "",
    "text": "Para observar el alpha hull, necesitamos que el objeto sea de tipo espacial del paquete sf. Para eso usaremos una funci√≥n independiente, disponible en su carpeta de trabajo\n\nsource(file = here::here(\"data\",\"ah2sf.R\"))\nsp1_alphahull.poly &lt;- ah2sf(sp1_alphahull)"
  },
  {
    "objectID": "presentaciones/5.0-distribuciones_geograficas.html#section-15",
    "href": "presentaciones/5.0-distribuciones_geograficas.html#section-15",
    "title": "Distribuciones geogr√°ficas",
    "section": "",
    "text": "¬øC√≥mo se ve?\n\n\nggplot()+\n  geom_sf(data=mex_map)+geom_sf(data=sp1_alphahull.poly,fill=\"blue\")"
  },
  {
    "objectID": "presentaciones/5.0-distribuciones_geograficas.html#section-16",
    "href": "presentaciones/5.0-distribuciones_geograficas.html#section-16",
    "title": "Distribuciones geogr√°ficas",
    "section": "",
    "text": "Usamos el paquete rangeBuilder, el cual crea un pol√≠gono alpha hull con un valor de alpha ‚Äú√≥ptimo‚Äù basado en la distribuci√≥n espacial de los puntos\n\nsp_range &lt;- getDynamicAlphaHull(\n  sp_p3, #Tabla de puntos/registros de la especie\n  coordHeaders = c(\"decimalLongitude\", \"decimalLatitude\"),# x y y\n  fraction = 0.95,   # la fracci√≥n m√≠nima de registros que debe incluir el pol√≠gono\n  partCount = 2,  # el m√°ximo de pol√≠gonos disyuntos permitidos\n  initialAlpha = 1, # Alpha inicial\n  alphaIncrement = 0.5,\n  alphaCap = 1000,\n  clipToCoast = \"terrestrial\"  # solo la parte terrestre del pol√≠gono se mantendr√° (se cortan las partes no-terrestres/acu√°ticas con base en un mapa descargado de naturalearth).\n)\n\n\n\nalpha &lt;- sp_range[[2]]\nalpha\n\n[1] \"alpha1.5\""
  },
  {
    "objectID": "presentaciones/5.0-distribuciones_geograficas.html#section-17",
    "href": "presentaciones/5.0-distribuciones_geograficas.html#section-17",
    "title": "Distribuciones geogr√°ficas",
    "section": "",
    "text": "Convertir el pol√≠gono alpha a un objeto sf\n\nsp1_dynalpha &lt;- st_make_valid(st_as_sf(sp_range[[1]]))\n\n\n¬øC√≥mo podemos visualizarlo?\n\nggplot()+ geom_sf(data=mex_map)+ \n  geom_sf(data=sp1_dynalpha, fill=\"blue\")"
  },
  {
    "objectID": "presentaciones/5.0-distribuciones_geograficas.html#section-18",
    "href": "presentaciones/5.0-distribuciones_geograficas.html#section-18",
    "title": "Distribuciones geogr√°ficas",
    "section": "",
    "text": "¬øY ‚Ä¶.C√≥mo se ven todos los pol√≠gonos?\n\n\nggplot()+\n  geom_sf(data=mex_map)+ geom_sf(data=sp1_mcp,fill=\"red\",alpha=0.1) +\n  geom_sf(data=sp_range[[1]], fill=\"blue\",alpha=0.5)+ \n  geom_sf(data=sp1_alphahull.poly,fill=\"yellow\",alpha=0.5)"
  },
  {
    "objectID": "presentaciones/5.0-distribuciones_geograficas.html#section-19",
    "href": "presentaciones/5.0-distribuciones_geograficas.html#section-19",
    "title": "Distribuciones geogr√°ficas",
    "section": "",
    "text": "Finalmente, podemos salvar esos pol√≠gonos como shapefiles, para usarlos en otros software (e.g.¬†ArcGIS) y eventualmente juntar los de varias especies para otros an√°lisis (ejercicio siguiente)\n\nst_write(sp1_mcp2, \"sp1_min_convex.shp\")\nst_write(sp1_alphahull.poly, \"sp1_alphahull.shp\")\nst_write(sp1_dynalpha, \"sp1_dyn_alphahull.shp\")"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#temas-de-este-bloque",
    "href": "presentaciones/3-visualizacion.html#temas-de-este-bloque",
    "title": "Visualizaci√≥n de datos",
    "section": "Temas de este bloque:",
    "text": "Temas de este bloque:\n\nIntroducci√≥n a ggplot2\n\nRepresentaciones gr√°ficas de informaci√≥n\n\nPersonalizaci√≥n de elementos gr√°ficos (ejes, colores, fuentes, leyendas)\n\nExportando gr√°ficos de alta resoluci√≥n\nPreparaci√≥n de figuras cient√≠ficas\n\nFiguras complejas"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#paquetes-para-hoy",
    "href": "presentaciones/3-visualizacion.html#paquetes-para-hoy",
    "title": "Visualizaci√≥n de datos",
    "section": "Paquetes para hoy",
    "text": "Paquetes para hoy\nPor si no los tienen:\n\n\ninstall.packages(\"ggplot2\")\ninstall.packages(\"ggthemes\") \ninstall.packages(\"ragg\")\ninstall.packages(\"patchwork\")\ninstall.packages(\"forcats\")"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#section",
    "href": "presentaciones/3-visualizacion.html#section",
    "title": "Visualizaci√≥n de datos",
    "section": "",
    "text": "The Grammar of Graphics\nWilkinson (1999, 2005)\nA Layered Grammar of Graphics\nHadley Wickham (2007)"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#section-1",
    "href": "presentaciones/3-visualizacion.html#section-1",
    "title": "Visualizaci√≥n de datos",
    "section": "",
    "text": "Una gram√°tica puede ayudar a construir oraciones diferentes con una peque√±a cantidad de verbos, sustantivos y adjetivos, en lugar de memorizar cada oraci√≥n espec√≠fica. Una peque√±a cantidad de los componentes b√°sicos de ggplot2 y de su gram√°tica puede crear cientos de gr√°ficos diferentes.\n\nIntroducci√≥n a la ciencia de datos\nRafael A. Irizarry (2020)"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#gram√°tica-de-gr√°ficos",
    "href": "presentaciones/3-visualizacion.html#gram√°tica-de-gr√°ficos",
    "title": "Visualizaci√≥n de datos",
    "section": "Gram√°tica de gr√°ficos",
    "text": "Gram√°tica de gr√°ficos\n\nModificado de Wickham (2007)"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#section-3",
    "href": "presentaciones/3-visualizacion.html#section-3",
    "title": "Visualizaci√≥n de datos",
    "section": "",
    "text": "ggplot(data, aes(x,y)) +\n  geom_point()\n\n\n  ggplot() crea el gr√°fico\naes() determina los v√≠nculos entre las variables y las propiedades del gr√°fico\ngeom_* define la capa con la representaci√≥n visual de los datos"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#section-4",
    "href": "presentaciones/3-visualizacion.html#section-4",
    "title": "Visualizaci√≥n de datos",
    "section": "",
    "text": "ggplot(data = lagartijas,     \n  aes(x = largo,y = peso))+\n  geom_point()"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#ejercicio",
    "href": "presentaciones/3-visualizacion.html#ejercicio",
    "title": "Visualizaci√≥n de datos",
    "section": "Ejercicio",
    "text": "Ejercicio\n\nranas.csv\n01_armar-plots.R\n\n\n\n\n\n\n\n\n\n\n\nDatos sobre tama√±o corporal, frecuencia dominante, y h√°bitat de 176 especies de ranas, tomados de Mu√±oz et al.¬†(2020)"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#modificando-elementos-gr√°ficos",
    "href": "presentaciones/3-visualizacion.html#modificando-elementos-gr√°ficos",
    "title": "Visualizaci√≥n de datos",
    "section": "Modificando elementos gr√°ficos",
    "text": "Modificando elementos gr√°ficos\n\n\nlabs\nfill\ncolor\nsize\nthemes\nscale_fill_*\nscale_shape_*\nscale_color_*\n\nr√≥tulos para ejes, t√≠tulos, subt√≠tulos, etc. colores de rellenos\ncolores de bordes\ntama√±o o grueso de elementos\napariencias predefinidas\ncontrol manual sobre mapeos est√©ticos (colores, rellenos, formas)"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#section-6",
    "href": "presentaciones/3-visualizacion.html#section-6",
    "title": "Visualizaci√≥n de datos",
    "section": "",
    "text": "ggplot2 cuenta con valores predeterminados para asignar formas y colores diferentes a diferentes niveles de variables categ√≥ricas"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#section-7",
    "href": "presentaciones/3-visualizacion.html#section-7",
    "title": "Visualizaci√≥n de datos",
    "section": "",
    "text": "Podemos especificar manualmente las formas y colores para las categor√≠as con un vector que se le da al argumento values\nPara dos categor√≠as con dos niveles c/u:\n\n\naes(x,y, color = var1, shape = var2)+\n scale_color_manual(values=\n                      c('lightskyblue4','blue'))+\n scale_shape_manual(values=c\n                    (20,21))"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#colores",
    "href": "presentaciones/3-visualizacion.html#colores",
    "title": "Visualizaci√≥n de datos",
    "section": "Colores",
    "text": "Colores\nnombres HTML"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#colores-1",
    "href": "presentaciones/3-visualizacion.html#colores-1",
    "title": "Visualizaci√≥n de datos",
    "section": "Colores",
    "text": "Colores\nC√≥digos hexagesimales\n\nFree Color Picker (Windows); Gpick (Linux); ColorSlurp (Mac)"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#paletas-de-color",
    "href": "presentaciones/3-visualizacion.html#paletas-de-color",
    "title": "Visualizaci√≥n de datos",
    "section": "Paletas de color",
    "text": "Paletas de color\n\n\n\nEspecificar por nombre\n\nDefinir con un vector\n\n\n\n\n\n\n\n\n\n\nüîó Galer√≠a de ejemplos de paletteer\nüîó Pokepalettes"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#section-8",
    "href": "presentaciones/3-visualizacion.html#section-8",
    "title": "Visualizaci√≥n de datos",
    "section": "",
    "text": "El argumento name modifica el t√≠tulo de la leyenda que se genera autom√°ticamente para los mapeos\n\n\naes(x,y, color = var1, shape = var2)+\n    scale_shape_manual(values=c(20,21),\n                       name = 'Variable Dos')+\n    scale_color_manual(values=c('red','blue'), \n                       name= 'Variable Uno')"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#variables-cuantitativas-color",
    "href": "presentaciones/3-visualizacion.html#variables-cuantitativas-color",
    "title": "Visualizaci√≥n de datos",
    "section": "Variables cuantitativas + color:",
    "text": "Variables cuantitativas + color:\n\nRampa de colores asignada autom√°ticamente\nDefinir rampa con scale_x_gradient o asignar rampa predeterminada\n\n\n\nggplot(ranas,\n       aes(x=svl, y=freq_dom,\n           fill=svl))+\n  geom_point(size=4,color=\"white\",\n             pch=21)+\n  labs(x=\"Tama√±o Corporal (SVL)\",\n       y=\"Frequencia Dominante (Hz)\",\n       title=\"Llamados Ranas\")"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#ejercicio-1",
    "href": "presentaciones/3-visualizacion.html#ejercicio-1",
    "title": "Visualizaci√≥n de datos",
    "section": "Ejercicio",
    "text": "Ejercicio\nModificando par√°metros gr√°ficos\n\nranas.csv\n02_personalizar-figuras.R"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#temas-apariencias-predeterminadas",
    "href": "presentaciones/3-visualizacion.html#temas-apariencias-predeterminadas",
    "title": "Visualizaci√≥n de datos",
    "section": "Temas (apariencias predeterminadas)",
    "text": "Temas (apariencias predeterminadas)\nControlan m√∫ltiples aspectos de la apariencia del g≈ïafico sin alterar los datos.\n\n8 disponibles con ggplot2\n\npaquetes con temas adicionales: ggthemes, artyfarty, hrbrthemes`\n\ncrear tema propio"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#otras-rampas-de-color",
    "href": "presentaciones/3-visualizacion.html#otras-rampas-de-color",
    "title": "Visualizaci√≥n de datos",
    "section": "Otras rampas de color",
    "text": "Otras rampas de color\n\nPara poder percibir un valor central y acomodar valores de menor a mayor\n\n\n\nüîó Fabio Crameri - Scientific Color Maps"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#rampas-de-color-uniformes-perceptualmente",
    "href": "presentaciones/3-visualizacion.html#rampas-de-color-uniformes-perceptualmente",
    "title": "Visualizaci√≥n de datos",
    "section": "Rampas de color uniformes (perceptualmente)",
    "text": "Rampas de color uniformes (perceptualmente)\n\n\n \n\nviridis\n\ninstaladas con ggplot2\nusar con scale_x_viridis()\n\nscico\n\ninstaladas con scico\ndivergentes y secuenciales"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#ejercicio-2",
    "href": "presentaciones/3-visualizacion.html#ejercicio-2",
    "title": "Visualizaci√≥n de datos",
    "section": "Ejercicio",
    "text": "Ejercicio\nVariables continuas y colores\n\nranas.csv\n03_rampas.R"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#opciones",
    "href": "presentaciones/3-visualizacion.html#opciones",
    "title": "Visualizaci√≥n de datos",
    "section": "Opciones",
    "text": "Opciones\n\nCon bot√≥n ‚ÄòExport‚Äô de RStudio\nCon dispositivos gr√°ficos\nCon ggsave()\n\nFormato: png (preferible), jpg, pdf, etc."
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#exportando-con-dispositivo-gr√°fico",
    "href": "presentaciones/3-visualizacion.html#exportando-con-dispositivo-gr√°fico",
    "title": "Visualizaci√≥n de datos",
    "section": "Exportando con dispositivo gr√°fico",
    "text": "Exportando con dispositivo gr√°fico\n\n\n\n\n\n\n\n\n\nLos gr√°ficos se pueden asignar a objetos en el entorno de trabajo\n\n\n\n\nfigura_ranas &lt;- \nggplot(ranas,\n       aes(x=svl,y=freq_dom,fill=svl))+\n  geom_point(size=4,color=\"white\",pch=21)\n\npng(filename = \"mifigura.png\",\n    width = 10, \n    height = 10,\n    units =\"cm\",\n    res = 200)\nfigura_ranas\ndev.off()"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#dispositivos-gr√°ficos-de-ragg",
    "href": "presentaciones/3-visualizacion.html#dispositivos-gr√°ficos-de-ragg",
    "title": "Visualizaci√≥n de datos",
    "section": "Dispositivos gr√°ficos de ragg",
    "text": "Dispositivos gr√°ficos de ragg\n\nM√°s r√°pidos y mejor resoluci√≥n\nDisponibles instalando el paquete ragg\n\n\n\nfigura_ranas &lt;- \nggplot(ranas,aes(x=svl,y=freq_dom,fill=svl))+\n  geom_point(size=4,color=\"white\",pch=21)\n\nragg_png(filename = \"mifigura.png\",\n    width = 10, height = 10,\n    units =\"cm\",\n    res = 200)\nfigura_ranas\ndev.off()"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#ggsave",
    "href": "presentaciones/3-visualizacion.html#ggsave",
    "title": "Visualizaci√≥n de datos",
    "section": "ggsave()",
    "text": "ggsave()\n\nUsa ragg si lo encuentra instalado\n\n\n\nggsave(figura_ranas, \n  filename = \"mifigura.png\",\n    width = 10, \n    height = 10,\n    units =\"cm\",\n    dpi = 200)"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#qued√≥-raro",
    "href": "presentaciones/3-visualizacion.html#qued√≥-raro",
    "title": "Visualizaci√≥n de datos",
    "section": "¬øQued√≥ raro?",
    "text": "¬øQued√≥ raro?\n\nArgumento scale en ggsave() y scaling en dispositivos de ragg para ajustar"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#figuras-multipanel",
    "href": "presentaciones/3-visualizacion.html#figuras-multipanel",
    "title": "Visualizaci√≥n de datos",
    "section": "Figuras multipanel",
    "text": "Figuras multipanel"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#funciones-facet",
    "href": "presentaciones/3-visualizacion.html#funciones-facet",
    "title": "Visualizaci√≥n de datos",
    "section": "Funciones facet()",
    "text": "Funciones facet()\nfacet_wrap() para separar por una sola variable y ‚Äòenvolver‚Äô\nfacet_grid() para separar con combinaciones de variables"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#ejercicio-3",
    "href": "presentaciones/3-visualizacion.html#ejercicio-3",
    "title": "Visualizaci√≥n de datos",
    "section": "Ejercicio",
    "text": "Ejercicio\nM√∫ltiplos\n\ncafeteria.csv\n04_multipanel.R"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#reordenar-elementos-ejes-paneles",
    "href": "presentaciones/3-visualizacion.html#reordenar-elementos-ejes-paneles",
    "title": "Visualizaci√≥n de datos",
    "section": "Reordenar elementos (ejes, paneles)",
    "text": "Reordenar elementos (ejes, paneles)\nOrden alfab√©tico de los niveles de la variable tipo\n\nggplot(cafeteria,aes(carbohidratos,proteina))+\n  geom_point()+facet_wrap(\"tipo\")"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#factores",
    "href": "presentaciones/3-visualizacion.html#factores",
    "title": "Visualizaci√≥n de datos",
    "section": "Factores",
    "text": "Factores\n\n\n\nVariables categ√≥ricas\nconjunto fijo y conocido de valores posibles\nmuy √∫tiles para ordenar vectores en un orden distinto al alfab√©tico"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#categor√≠as",
    "href": "presentaciones/3-visualizacion.html#categor√≠as",
    "title": "Visualizaci√≥n de datos",
    "section": "Categor√≠as",
    "text": "Categor√≠as\n\n\ncafeteria$tipo"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#categor√≠as-output",
    "href": "presentaciones/3-visualizacion.html#categor√≠as-output",
    "title": "Visualizaci√≥n de datos",
    "section": "Categor√≠as",
    "text": "Categor√≠as\n\n [1] \"horneado\"     \"horneado\"     \"horneado\"     \"horneado\"     \"horneado\"    \n [6] \"horneado\"     \"horneado\"     \"horneado\"     \"horneado\"     \"horneado\"    \n[11] \"horneado\"     \"horneado\"     \"horneado\"     \"horneado\"     \"horneado\"    \n[16] \"horneado\"     \"horneado\"     \"horneado\"     \"horneado\"     \"horneado\"    \n[21] \"horneado\"     \"horneado\"     \"horneado\"     \"horneado\"     \"horneado\"    \n[26] \"horneado\"     \"horneado\"     \"horneado\"     \"horneado\"     \"horneado\"    \n[31] \"horneado\"     \"horneado\"     \"horneado\"     \"horneado\"     \"horneado\"    \n[36] \"horneado\"     \"horneado\"     \"horneado\"     \"horneado\"     \"horneado\"    \n[41] \"horneado\"     \"almuerzo\"     \"almuerzo\"     \"almuerzo\"     \"almuerzo\"    \n[46] \"almuerzo\"     \"almuerzo\"     \"almuerzo\"     \"almuerzo\"     \"individuales\"\n[51] \"individuales\" \"individuales\" \"individuales\" \"individuales\" \"individuales\"\n[56] \"individuales\" \"individuales\" \"individuales\" \"desayuno\"     \"desayuno\"    \n[61] \"desayuno\"     \"desayuno\"     \"desayuno\"     \"desayuno\"     \"desayuno\"    \n[66] \"desayuno\"     \"ensalada\"     \"sandwich\"     \"sandwich\"     \"sandwich\"    \n[71] \"sandwich\"     \"sandwich\"     \"sandwich\"     \"sandwich\"     \"l√°cteos\"     \n[76] \"l√°cteos\"      \"l√°cteos\""
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#section-11",
    "href": "presentaciones/3-visualizacion.html#section-11",
    "title": "Visualizaci√≥n de datos",
    "section": "",
    "text": "factor(cafeteria$tipo)"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#section-11-output",
    "href": "presentaciones/3-visualizacion.html#section-11-output",
    "title": "Visualizaci√≥n de datos",
    "section": "",
    "text": "[1] horneado     horneado     horneado     horneado     horneado    \n [6] horneado     horneado     horneado     horneado     horneado    \n[11] horneado     horneado     horneado     horneado     horneado    \n[16] horneado     horneado     horneado     horneado     horneado    \n[21] horneado     horneado     horneado     horneado     horneado    \n[26] horneado     horneado     horneado     horneado     horneado    \n[31] horneado     horneado     horneado     horneado     horneado    \n[36] horneado     horneado     horneado     horneado     horneado    \n[41] horneado     almuerzo     almuerzo     almuerzo     almuerzo    \n[46] almuerzo     almuerzo     almuerzo     almuerzo     individuales\n[51] individuales individuales individuales individuales individuales\n[56] individuales individuales individuales desayuno     desayuno    \n[61] desayuno     desayuno     desayuno     desayuno     desayuno    \n[66] desayuno     ensalada     sandwich     sandwich     sandwich    \n[71] sandwich     sandwich     sandwich     sandwich     l√°cteos     \n[76] l√°cteos      l√°cteos     \n7 Levels: almuerzo desayuno ensalada horneado individuales ... sandwich"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#section-12",
    "href": "presentaciones/3-visualizacion.html#section-12",
    "title": "Visualizaci√≥n de datos",
    "section": "",
    "text": "levels(factor(cafeteria$tipo))"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#section-12-output",
    "href": "presentaciones/3-visualizacion.html#section-12-output",
    "title": "Visualizaci√≥n de datos",
    "section": "",
    "text": "[1] \"almuerzo\"     \"desayuno\"     \"ensalada\"     \"horneado\"     \"individuales\"\n[6] \"l√°cteos\"      \"sandwich\""
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#factores-1",
    "href": "presentaciones/3-visualizacion.html#factores-1",
    "title": "Visualizaci√≥n de datos",
    "section": "Factores",
    "text": "Factores\nLos niveles de un factor se pueden especificar manualmente con un vector en el argumento levels\n\n\nPara cualquier otra manipulaci√≥n de factores:\nforcats\n\n\n\n\n\nreordenar una variable seg√∫n los valores de otra\nsuprimir orden alfab√©tico\ninvertir orden de los niveles\nagrupar niveles\netc."
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#ejercicio-4",
    "href": "presentaciones/3-visualizacion.html#ejercicio-4",
    "title": "Visualizaci√≥n de datos",
    "section": "Ejercicio",
    "text": "Ejercicio\n\nedad_gateo.csv\n05_reordenar.R\n\n\n\n\n\n\n\n\n\n\nDatos sobre la edad (semanas) de gateo en relaci√≥n a temperatura y mes de nacimiento. Tomado de Benson (1993)."
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#patchwork",
    "href": "presentaciones/3-visualizacion.html#patchwork",
    "title": "Visualizaci√≥n de datos",
    "section": "patchwork",
    "text": "patchwork\n\n\n\n\n\nS√≠mbolo + para acomodar dos gr√°ficos juntos\nS√≠mbolo | para figuras lado a lado\nS√≠mbolo / para apilar figuras\n\n\n\n\n√Ålgebra simple para anidar y acomodar elementos\nplot_layout() para controlar la composici√≥n\nplot_annotation() para rotular elementos o agregar textos"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#anotaciones",
    "href": "presentaciones/3-visualizacion.html#anotaciones",
    "title": "Visualizaci√≥n de datos",
    "section": "Anotaciones",
    "text": "Anotaciones\n\n((grasaCarb/protEnergia)|puntos_ranas)+\n  plot_annotation(title=\"Mi figura de tres elementos\",\n                  subtitle = \"ejemplo de patchwork\",\n                  tag_levels = \"A\")\n\n\ntag_levels genera diferentes secuencias alfab√©ticas o num√©ricas para identificar a cada elemento"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#texto-con-formato",
    "href": "presentaciones/3-visualizacion.html#texto-con-formato",
    "title": "Visualizaci√≥n de datos",
    "section": "Texto con formato",
    "text": "Texto con formato\nPodemos usar markdown para darle formato al texto que aparece en diferentes elementos de nuestras gr√°ficas, a trav√©s de la funci√≥n element_markdown() del paquete ggtext\nDocumentaci√≥n del paquete\n\nlibrary(ggtext)\nggplot(cafeteria,aes(carbohidratos,grasa,color=bajo_grasa))+\ngeom_point()+\n  scale_color_discrete(labels=c(\"Chatarra  **Grasienta**\",\"light\"))+\n  theme(legend.text = element_markdown())"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#section-14",
    "href": "presentaciones/3-visualizacion.html#section-14",
    "title": "Visualizaci√≥n de datos",
    "section": "",
    "text": "ggplot(cafeteria,aes(carbohidratos,grasa,color=bajo_grasa))+\ngeom_point()+\n  scale_color_discrete(labels=c(\"Chatarra  **Grasienta**\",\"light\"))+\n  theme(legend.text = element_markdown())"
  },
  {
    "objectID": "presentaciones/3-visualizacion.html#extensiones-para-ggplot2",
    "href": "presentaciones/3-visualizacion.html#extensiones-para-ggplot2",
    "title": "Visualizaci√≥n de datos",
    "section": "Extensiones para ggplot2",
    "text": "Extensiones para ggplot2\nTaller LatinR\nGaler√≠a oficial de extensiones"
  },
  {
    "objectID": "temario.html",
    "href": "temario.html",
    "title": "Temario y cronograma",
    "section": "",
    "text": "Organizaci√≥n de proyectos y archivos\n\nBuenas pr√°cticas para nombrar archivos y objetos\nTrabajando con rutas\n\nEstructuras de datos\n\nExploraci√≥n r√°pida de datos"
  },
  {
    "objectID": "temario.html#flujos-de-trabajo-y-an√°lisis-0.5-d√≠as",
    "href": "temario.html#flujos-de-trabajo-y-an√°lisis-0.5-d√≠as",
    "title": "Temario y cronograma",
    "section": "",
    "text": "Organizaci√≥n de proyectos y archivos\n\nBuenas pr√°cticas para nombrar archivos y objetos\nTrabajando con rutas\n\nEstructuras de datos\n\nExploraci√≥n r√°pida de datos"
  },
  {
    "objectID": "temario.html#manipulaci√≥n-y-limpieza-de-datos-1.5-d√≠as",
    "href": "temario.html#manipulaci√≥n-y-limpieza-de-datos-1.5-d√≠as",
    "title": "Temario y cronograma",
    "section": "2) Manipulaci√≥n y limpieza de datos (1.5 d√≠as)",
    "text": "2) Manipulaci√≥n y limpieza de datos (1.5 d√≠as)\n\nPasos a seguir para importar y reestructurar tablas y archivos\nPrincipios de datos ordenados (tidy data) y herramientas del ‚Äòtidyverse‚Äô para ordenar datos\n\nExpresiones regulares para trabajar con cadenas de texto\n\nHerramientas para trabajar con datos faltantes\n\nFormas de identificar Informaci√≥n repetida"
  },
  {
    "objectID": "temario.html#visualizaci√≥n-de-datos-1-d√≠a",
    "href": "temario.html#visualizaci√≥n-de-datos-1-d√≠a",
    "title": "Temario y cronograma",
    "section": "3) Visualizaci√≥n de Datos (1 d√≠a)",
    "text": "3) Visualizaci√≥n de Datos (1 d√≠a)\n\nIntroducci√≥n a ggplot2\nRepresentaciones gr√°ficas de informaci√≥n\n\nPersonalizaci√≥n de elementos gr√°ficos (ejes, colores, fuentes, leyendas)\nPreparaci√≥n de figuras cient√≠ficas\n\nExportando gr√°ficos de alta calidad"
  },
  {
    "objectID": "temario.html#lo-que-nadie-nos-ense√±√≥-sobre-r-1-d√≠a",
    "href": "temario.html#lo-que-nadie-nos-ense√±√≥-sobre-r-1-d√≠a",
    "title": "Temario y cronograma",
    "section": "4) Lo que nadie nos ense√±√≥ sobre R (1 d√≠a)",
    "text": "4) Lo que nadie nos ense√±√≥ sobre R (1 d√≠a)\n\nEntornos de trabajo y configuraci√≥n\n\nIteraci√≥n y vectorizaci√≥n para evitar repetici√≥n\nTrabajando con listas\n\nManejo de matrices\n\nAtajos y herramientas para mayor eficiencia\n\nErrores comunes y como solucionarlos"
  },
  {
    "objectID": "temario.html#aspectos-de-geograf√≠a-de-la-biodiversidad-1-d√≠a",
    "href": "temario.html#aspectos-de-geograf√≠a-de-la-biodiversidad-1-d√≠a",
    "title": "Temario y cronograma",
    "section": "5) Aspectos de geograf√≠a de la biodiversidad (1 d√≠a)",
    "text": "5) Aspectos de geograf√≠a de la biodiversidad (1 d√≠a)\n\nPuntos, pol√≠gonos, rasters: nuevas paqueter√≠as para manejo de datos espaciales\n\nCalculando riqueza de especies para diferentes unidades espaciales\n\n\nPaquetes para generar mapas bivariados\n\nTrabajo con modelos de elevaci√≥n digital\nFilogenias: manejo y visualizaci√≥n"
  },
  {
    "objectID": "presentaciones/5.2-regla_ecogeografica.html#regla-de-rapoport",
    "href": "presentaciones/5.2-regla_ecogeografica.html#regla-de-rapoport",
    "title": "Regla de Rapoport y otras patrones",
    "section": "Regla de Rapoport",
    "text": "Regla de Rapoport\n\n‚ÄúRelaci√≥n positiva entre latitud y tama√±o de √°rea de distribuci√≥n‚Äù G. Stevens\n\n\nEn este ejercicio se probar√° la regla de Rapoport en un set de m√°s de 6000 registros para especies de la familia Icteridae (Aves: Passeriformes) y se comparar√°n los procedimientos utilizando dos paqueter√≠as: letsR y EcoPhylo Mapper epm\n\nepm utiliza los paquetes sf y terra para an√°lisis espaciales, lo cu√°l ser√° √∫til cu√°ndo rgdal y raster se hayan descontinuado (a partir de ya! junio 2023)"
  },
  {
    "objectID": "presentaciones/5.2-regla_ecogeografica.html#paquetes-necesarios",
    "href": "presentaciones/5.2-regla_ecogeografica.html#paquetes-necesarios",
    "title": "Regla de Rapoport y otras patrones",
    "section": "Paquetes necesarios:",
    "text": "Paquetes necesarios:\n\nlibrary(epm)\nlibrary(rgdal)\nlibrary(sf)\nlibrary(caper)\nlibrary(here)\nlibrary(geiger)\nlibrary(letsR)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(spdep)\nlibrary(spatialreg)"
  },
  {
    "objectID": "presentaciones/5.2-regla_ecogeografica.html#section",
    "href": "presentaciones/5.2-regla_ecogeografica.html#section",
    "title": "Regla de Rapoport y otras patrones",
    "section": "",
    "text": "Cargar los datos de registros de Icteridae (obtenidos de GBIF)\n\nict&lt;-read.csv(here(\"data\",\"ict.csv\"),header=T)\n\n\nLimpiar los registros, asegur√°ndonos que no haya ning√∫n NA ni registros repetidos:\n\nict&lt;-ict %&gt;% \n  na.omit %&gt;% \n  unique %&gt;% \n  rename(taxon=sp,x=longitude,y=latitude)\n\n\n\nFinalmente, cambiaremos los espacios por guiones bajos en los nombres de las especies. Esto con el fin de que puedan ser reconocidas al momento de utilizar alguna filogen√≠a\n\nict&lt;-ict %&gt;% \n  mutate(taxon=gsub(\" \",\"_\",taxon))\nhead(ict)\n\n                taxon        x       y\n1     Icterus_wagleri -96.8249 17.1452\n2        Cacicus_cela -80.7952 -1.6779\n3 Icterus_graduacauda -96.8522 17.1685\n4   Icterus_parisorum -96.8249 17.1452\n5     Sturnella_magna -96.7706 17.1733\n6     Icterus_wagleri -96.8522 17.1685"
  },
  {
    "objectID": "presentaciones/5.2-regla_ecogeografica.html#section-1",
    "href": "presentaciones/5.2-regla_ecogeografica.html#section-1",
    "title": "Regla de Rapoport y otras patrones",
    "section": "",
    "text": "Habiendo cargado y limpiado los registros, podemos obtener los atributos de inter√©s para evaluar la regla de Rapoport en esta familia de aves. Para esto necesitamos saber el √°rea de distribuci√≥n de las especies y su ubicaci√≥n geogr√°fica.\n\nUsando letsR, primero, creamos una matriz de presencia-ausencia\n\npresab&lt;-lets.presab.points(cbind(ict$x,ict$y),ict$taxon)\n\n\n\nDespu√©s, obtenemos el √°rea de distribuci√≥n de las especies\n\nranges&lt;-lets.rangesize(presab)\nhead(ranges)\n\n                     Range_size\nAgelaioides_badius           36\nAgelaius_phoeniceus         269\nAgelaius_tricolor            12\nAgelaius_xanthomus            1\nAgelasticus_cyanopus          4\nAgelasticus_thilius          15"
  },
  {
    "objectID": "presentaciones/5.2-regla_ecogeografica.html#section-2",
    "href": "presentaciones/5.2-regla_ecogeografica.html#section-2",
    "title": "Regla de Rapoport y otras patrones",
    "section": "",
    "text": "Finalmente, necesitamos la ubicaci√≥n de las especies.\nAfortunadamente, letsR posee una pr√°ctica funci√≥n que permite obtener el punto medio de la ubicaci√≥n geogr√°fica de las especies\n\nmidp&lt;-lets.midpoint(presab)\nhead(midp)\n\n               Species          x         y\n1   Agelaioides_badius  -64.90127 -31.71035\n2  Agelaius_phoeniceus  -97.27983  30.32207\n3    Agelaius_tricolor -121.17026  36.84573\n4   Agelaius_xanthomus  -67.50000  17.50000\n5 Agelasticus_cyanopus  -57.50000 -28.50118\n6  Agelasticus_thilius  -58.16536 -34.17206"
  },
  {
    "objectID": "presentaciones/5.2-regla_ecogeografica.html#section-3",
    "href": "presentaciones/5.2-regla_ecogeografica.html#section-3",
    "title": "Regla de Rapoport y otras patrones",
    "section": "",
    "text": "Ahora que tenemos los datos, podemos poner a prueba la relaci√≥n esperada por la Regla de Rapoport\n\nlm(log(ranges)~abs(midp$y)) %&gt;% \nsummary\n\n\nCall:\nlm(formula = log(ranges) ~ abs(midp$y))\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-2.8064 -1.0526  0.2179  0.9897  2.7981 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)  1.14109    0.29532   3.864 0.000235 ***\nabs(midp$y)  0.05460    0.01252   4.361 4.07e-05 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 1.233 on 75 degrees of freedom\nMultiple R-squared:  0.2023,    Adjusted R-squared:  0.1916 \nF-statistic: 19.01 on 1 and 75 DF,  p-value: 4.074e-05"
  },
  {
    "objectID": "presentaciones/5.2-regla_ecogeografica.html#section-4",
    "href": "presentaciones/5.2-regla_ecogeografica.html#section-4",
    "title": "Regla de Rapoport y otras patrones",
    "section": "",
    "text": "La relaci√≥n entre el √°rea de distribuci√≥n y la latitud es significativamente postiva en Icteridae ahora observemosla de manera m√°s gr√°fica:\n\ndfram&lt;-data.frame(midp,ranges);names(dfram)&lt;-c(\"sp\",\"x\",\"y\",\"ranges\")\np&lt;-ggplot(dfram,aes(abs(y),log(ranges)))+\n            geom_point(color=\"black\")+\n            xlab(\"Latitud absoluta\")+\n            ylab(\"Log (tama√±o √°rea)\")+\n            geom_smooth(method= lm , color=\"red\", fill=\"#69b3a2\", se=TRUE)+\n            theme_classic()\n\nplot(p)"
  },
  {
    "objectID": "presentaciones/5.2-regla_ecogeografica.html#section-5",
    "href": "presentaciones/5.2-regla_ecogeografica.html#section-5",
    "title": "Regla de Rapoport y otras patrones",
    "section": "",
    "text": "Ahora utilicemos el paquete epm para tratar de hacer lo mismo. epm no puede utilizar s√≤lo los puntos de longitud y latitud de nuestros registros, primero hay que transformar esos puntos en un ‚Äúspatial feature‚Äù\n\nsp_ict&lt;-st_as_sf(ict, coords = c(\"x\",\"y\"), crs= st_crs(\"+datum=WGS84 +proj=longlat\"))\nhead(sp_ict)\n\nSimple feature collection with 6 features and 1 field\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: -96.8522 ymin: -1.6779 xmax: -80.7952 ymax: 17.1733\nGeodetic CRS:  +datum=WGS84 +proj=longlat\n                taxon                 geometry\n1     Icterus_wagleri POINT (-96.8249 17.1452)\n2        Cacicus_cela POINT (-80.7952 -1.6779)\n3 Icterus_graduacauda POINT (-96.8522 17.1685)\n4   Icterus_parisorum POINT (-96.8249 17.1452)\n5     Sturnella_magna POINT (-96.7706 17.1733)\n6     Icterus_wagleri POINT (-96.8522 17.1685)"
  },
  {
    "objectID": "presentaciones/5.2-regla_ecogeografica.html#section-6",
    "href": "presentaciones/5.2-regla_ecogeografica.html#section-6",
    "title": "Regla de Rapoport y otras patrones",
    "section": "",
    "text": "Ahora que nuestros registros son un objeto espacial, ya podemos utilizar epm para crear un grid con nuestras especies en el espacio:\n\ngrix&lt;-createEPMgrid(sp_ict,resolution = 1)\n\n\nCon este grid, ya podemos obtener el √°rea de distribuci√≥n de las especies, d√≥nde cell es √°rea de distribuci√≥n\n\nCellcount&lt;-data.frame(grix$cellCount)\nnames(Cellcount)&lt;-\"cell\"\nhead(Cellcount)\n\n                     cell\nAgelaioides_badius     36\nAgelaius_phoeniceus   287\nAgelaius_tricolor      12\nAgelaius_xanthomus      1\nAgelasticus_cyanopus    4\nAgelasticus_thilius    15"
  },
  {
    "objectID": "presentaciones/5.2-regla_ecogeografica.html#section-7",
    "href": "presentaciones/5.2-regla_ecogeografica.html#section-7",
    "title": "Regla de Rapoport y otras patrones",
    "section": "",
    "text": "¬øQu√© tanto se parece la distribuci√≥n calculada con letsR a la calculada con epm?\n\npar(mfrow=c(1,2))\nhist(dfram$ranges, breaks=15, main =\"LetsR\", xlab=\"√°rea de distribuci√≥n\",ylab=\"especies\")\nhist(Cellcount$cell, breaks =15, main= \"EPM\", xlab =\"√°rea de distribuci√≥n\",ylab=\"especies\")"
  },
  {
    "objectID": "presentaciones/5.2-regla_ecogeografica.html#section-8",
    "href": "presentaciones/5.2-regla_ecogeografica.html#section-8",
    "title": "Regla de Rapoport y otras patrones",
    "section": "",
    "text": "Para la ubicaci√≥n geogr√°fica de las especies, en el caso de epm no se cuenta con una funci√≥n especifica para obtener los puntos medios de la distribuci√≥n de las especies.\nPor lo tanto, tenemos que cargar una funci√≥n personalizada:\n\nload(here(\"data\",\"st_midpoints.R\"))\n\n. . . Esta funci√≥n utiliza la nueva paqueter√≠a sf para crear un pol√≠gono para cada especie con todas las coordenadas de nuestros registros, para posteriormente calcular el centroide de dicho pol√≠gono, obteniendo as√≠ los puntos medios de la ubicaci√≥n geogr√°fica de nuestras especies.\n\nmidst&lt;-st_midpoints(ict)\nhead(midst)\n\n                     sp          X         Y\n55   Agelaioides_badius  -53.18129 -22.92205\n18  Agelaius_phoeniceus  -97.27558  30.89165\n44    Agelaius_tricolor -119.04709  35.69512\n73   Agelaius_xanthomus  -67.11699  17.95263\n15 Agelasticus_cyanopus  -53.72550 -21.23416\n26  Agelasticus_thilius  -65.57207 -26.82030"
  },
  {
    "objectID": "presentaciones/5.2-regla_ecogeografica.html#section-9",
    "href": "presentaciones/5.2-regla_ecogeografica.html#section-9",
    "title": "Regla de Rapoport y otras patrones",
    "section": "",
    "text": "Ahora ya tenemos los datos necesarios para evaluar la relaci√≥n esperada por la Regla de Rapoport\n\nlm(log(Cellcount$cell)~abs(midst$Y)) %&gt;% \n  summary\n\n\nCall:\nlm(formula = log(Cellcount$cell) ~ abs(midst$Y))\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-2.98520 -0.72200  0.07052  0.86243  2.81757 \n\nCoefficients:\n             Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)   1.19213    0.28009   4.256 5.94e-05 ***\nabs(midst$Y)  0.05903    0.01278   4.620 1.56e-05 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 1.212 on 75 degrees of freedom\nMultiple R-squared:  0.2216,    Adjusted R-squared:  0.2112 \nF-statistic: 21.35 on 1 and 75 DF,  p-value: 1.56e-05"
  },
  {
    "objectID": "presentaciones/5.2-regla_ecogeografica.html#section-10",
    "href": "presentaciones/5.2-regla_ecogeografica.html#section-10",
    "title": "Regla de Rapoport y otras patrones",
    "section": "",
    "text": "El resultado es una relaci√≥n significativamente postiva en Icteridae entre el √°rea de distribuci√≥n y la latitud.\nEsta relaci√≥n es muy parecida a la obtenida utilizando el procedimiento letsR. Las diferencias observadas pueden deberse a 1) el c√°lculo de los grids, pues letsR utiliza celdas y nosotros calculamos hexagonos con epm o 2) el c√°lculo de los puntos medios, pues para epm dicho c√°lculo es m√°s o menos artesanal.\nAhora que hemos evaluado la regla de Rapoport utilizando dos m√©todos y paqueter√≠as distintas, podemos pensar en el efecto del componente evolutivo sobre dicha relaci√≥n."
  },
  {
    "objectID": "presentaciones/5.2-regla_ecogeografica.html#section-11",
    "href": "presentaciones/5.2-regla_ecogeografica.html#section-11",
    "title": "Regla de Rapoport y otras patrones",
    "section": "",
    "text": "Para esto, primero debemos cargar una filogen√≠a para nuestras especies. En este caso utilizaremos una filogen√≠a para Icteridae, cortada de la filogen√≠a para Emberizoidea, usada en Arango et al., 2022, modificada y estandarizada de Barker et al., 2015.\n\ntre&lt;-read.tree(here(\"data\",\"Icteridae_tree.txt\"))\ntre\n\n\nPhylogenetic tree with 100 tips and 99 internal nodes.\n\nTip labels:\n  Icterus_melanopsis, Icterus_northropi, Icterus_laudabilis, Icterus_dominicensis, Icterus_cayanensis, Icterus_pyrrhopterus, ...\nNode labels:\n  761, 762, 763, 764, 765, 766, ...\n\nRooted; includes branch lengths."
  },
  {
    "objectID": "presentaciones/5.2-regla_ecogeografica.html#section-12",
    "href": "presentaciones/5.2-regla_ecogeografica.html#section-12",
    "title": "Regla de Rapoport y otras patrones",
    "section": "",
    "text": "Ahora crearemos un data.frame el cual contenga el √°rea de distribuci√≥n y los puntos medios para cada especie. Para motivos del ejercicio, haremos uso de los resultados obtenidos con epm. ¬°Pero ustedes pueden hacerlo con los resultados obtenidos con letsR y podemos comparar las relaciones finales!\n\nrapp&lt;-midst %&gt;% \n  cbind(Cellcount) %&gt;% \n  as.data.frame() %&gt;% \n  rename(x=X,y=Y,area=cell)\n\nhead(rapp)\n\n                     sp          x         y area\n55   Agelaioides_badius  -53.18129 -22.92205   36\n18  Agelaius_phoeniceus  -97.27558  30.89165  287\n44    Agelaius_tricolor -119.04709  35.69512   12\n73   Agelaius_xanthomus  -67.11699  17.95263    1\n15 Agelasticus_cyanopus  -53.72550 -21.23416    4\n26  Agelasticus_thilius  -65.57207 -26.82030   15"
  },
  {
    "objectID": "presentaciones/5.2-regla_ecogeografica.html#section-13",
    "href": "presentaciones/5.2-regla_ecogeografica.html#section-13",
    "title": "Regla de Rapoport y otras patrones",
    "section": "",
    "text": "Una vez que tenemos nuestra tabla de datos, creamos un objeto comparative.data, el cual juntar√° nuestros datos geogr√°ficos con nuestros datos filogen√©ticos\n\ncompict&lt;-comparative.data(tre,data =rapp,names.col = \"sp\",vcv = T)"
  },
  {
    "objectID": "presentaciones/5.2-regla_ecogeografica.html#section-14",
    "href": "presentaciones/5.2-regla_ecogeografica.html#section-14",
    "title": "Regla de Rapoport y otras patrones",
    "section": "",
    "text": "Ahora ya podemos ajustar un modelo de regresi√≥n considerando las relaciones filogen√©ticas de nuestras especies utilizando un PGLS (Phylogenetic Generalized Least Squares):\n\npgls(log(area)~abs(y),data=compict,lambda=\"ML\") %&gt;% \nsummary()\n\n\nCall:\npgls(formula = log(area) ~ abs(y), data = compict, lambda = \"ML\")\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-1.07514 -0.24240  0.00397  0.16635  0.76134 \n\nBranch length transformations:\n\nkappa  [Fix]  : 1.000\nlambda [ ML]  : 0.000\n   lower bound : 0.000, p = 1    \n   upper bound : 1.000, p = 4.5519e-14\n   95.0% CI   : (NA, 0.651)\ndelta  [Fix]  : 1.000\n\nCoefficients:\n            Estimate Std. Error t value  Pr(&gt;|t|)    \n(Intercept) 1.274120   0.296186  4.3018 5.551e-05 ***\nabs(y)      0.057690   0.013493  4.2755 6.093e-05 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.3893 on 68 degrees of freedom\nMultiple R-squared: 0.2119, Adjusted R-squared: 0.2003 \nF-statistic: 18.28 on 1 and 68 DF,  p-value: 6.093e-05"
  },
  {
    "objectID": "presentaciones/5.2-regla_ecogeografica.html#section-15",
    "href": "presentaciones/5.2-regla_ecogeografica.html#section-15",
    "title": "Regla de Rapoport y otras patrones",
    "section": "",
    "text": "¬°La relaci√≥n se mantiene!\n\nAhora, si bien es mucho m√°s f√°cil obtener estos resultados utlizando letsR, epm hace uso de las nuevas paqueter√≠as espaciales, adem√°s de servir para mapear otros componentes de diversidad y macroevoluci√≥n.\nPor ejemplo, podemos obtener la diversidad filogen√©tica (PD), las tasas de diversificaci√≥n (DR) y los endemismos filogen√©ticos de cada comunidad (o celda) y responder preguntas que involucren m√©tricas de este tipo y la geograf√≠a."
  },
  {
    "objectID": "presentaciones/5.2-regla_ecogeografica.html#section-16",
    "href": "presentaciones/5.2-regla_ecogeografica.html#section-16",
    "title": "Regla de Rapoport y otras patrones",
    "section": "",
    "text": "Para esto, primero debemos agregarle una filogen√≠a a nuestro grid creado con epm\n\ngrix&lt;-epm::addPhylo(grix,tre)\n\n\nYa con la filogen√≠a incorporada a nuestro grid de epm, calculamos para cada celda PD:\n\npd&lt;-gridMetrics(grix,\"pd\")"
  },
  {
    "objectID": "presentaciones/5.2-regla_ecogeografica.html#section-17",
    "href": "presentaciones/5.2-regla_ecogeografica.html#section-17",
    "title": "Regla de Rapoport y otras patrones",
    "section": "",
    "text": "Adem√°s, podemos calcular otras m√©tricas ‚Äòevolutivas‚Äô como la tasa de diversificaci√≥n y los endemismos filogen√©ticos\n\nTasa de especiaci√≥n\n\ndr&lt;-gridMetrics(grix,\"DR\")\n\n\n\nEndemismo filogen√©tico\n\nphyendm&lt;-gridMetrics(grix,\"phyloWeightedEndemism\")"
  },
  {
    "objectID": "presentaciones/5.2-regla_ecogeografica.html#section-18",
    "href": "presentaciones/5.2-regla_ecogeografica.html#section-18",
    "title": "Regla de Rapoport y otras patrones",
    "section": "",
    "text": "Veamos estas m√©tricas mapeadas en el espacio geogr√°fico\n\n\npar(mfrow=c(1,3))\nplot(pd,use_tmap=F, legend=F)\naddLegend(pd,location=\"left\",label = \"PD\")\nplot(dr,use_tmap=F, legend=F)\naddLegend(dr,location=\"left\",label = \"DR\")\nplot(phyendm,use_tmap=F, legend=F)\naddLegend(phyendm,location=\"left\",label = \"Phyloendemisms\")"
  },
  {
    "objectID": "presentaciones/5.2-regla_ecogeografica.html#section-19",
    "href": "presentaciones/5.2-regla_ecogeografica.html#section-19",
    "title": "Regla de Rapoport y otras patrones",
    "section": "",
    "text": "Con estos datos, podemos hacernos preguntas c√≥mo: ¬øLas comunidades que poseen mayores tasas de diversificaci√≥n tienen una mayor diversidad filogen√©tica?\n\nsummary(lm(pd$grid$pd~dr$grid$DR))\n\n\nCall:\nlm(formula = pd$grid$pd ~ dr$grid$DR)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-11.580  -8.297  -3.003   5.778  48.604 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)  17.0500     0.9138  18.658   &lt;2e-16 ***\ndr$grid$DR    3.9509     1.8877   2.093   0.0367 *  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 10.79 on 738 degrees of freedom\n  (27 observations deleted due to missingness)\nMultiple R-squared:  0.005901,  Adjusted R-squared:  0.004554 \nF-statistic: 4.381 on 1 and 738 DF,  p-value: 0.03669"
  },
  {
    "objectID": "presentaciones/5.2-regla_ecogeografica.html#section-20",
    "href": "presentaciones/5.2-regla_ecogeografica.html#section-20",
    "title": "Regla de Rapoport y otras patrones",
    "section": "",
    "text": "plot(dr$grid$DR,pd$grid$pd,xlab=\"Tasa de diversificaci√≥n\",ylab=\"Diversidad filogen√©tica\", pch=16)"
  },
  {
    "objectID": "presentaciones/5.2-regla_ecogeografica.html#section-21",
    "href": "presentaciones/5.2-regla_ecogeografica.html#section-21",
    "title": "Regla de Rapoport y otras patrones",
    "section": "",
    "text": "¬øLos endemismos filogn√©ticos siguen un patr√≥n de gradiente latitudinal?\n\nObtengamos las coordenadas de cada celda y su valor de filoendemismos:\n\ncoordsx&lt;-grix$grid$gridTemplate %&gt;% \n  st_centroid %&gt;% \n  st_coordinates %&gt;% \n  as.data.frame\nendmcoords&lt;-phyendm$grid$phyloWeightedEndemism %&gt;% \n  cbind(coordsx) %&gt;% \n  as.data.frame %&gt;% \n  na.omit \nnames(endmcoords)&lt;-c(\"phyloendemism\",\"x\",\"y\")\nhead(endmcoords)\n\n  phyloendemism         x        y\n1    0.05185643 -132.1468 54.27687\n2    0.05185643 -124.6468 43.01901\n3    0.07705955 -124.1468 40.42101\n4    0.07705955 -124.1468 43.88501\n5    0.07242206 -124.1468 45.61700\n6    0.07242206 -124.1468 49.08097"
  },
  {
    "objectID": "presentaciones/5.2-regla_ecogeografica.html#section-22",
    "href": "presentaciones/5.2-regla_ecogeografica.html#section-22",
    "title": "Regla de Rapoport y otras patrones",
    "section": "",
    "text": "Ahora, pongamos a prueba la pregunta:\n\nlm(log(phyloendemism)~abs(y),data= endmcoords) %&gt;% \n  summary\n\n\nCall:\nlm(formula = log(phyloendemism) ~ abs(y), data = endmcoords)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-3.1211 -0.7451 -0.0409  0.6642  3.3798 \n\nCoefficients:\n             Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept) -0.515137   0.099321  -5.187 2.77e-07 ***\nabs(y)      -0.049390   0.003193 -15.467  &lt; 2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 1.03 on 738 degrees of freedom\nMultiple R-squared:  0.2448,    Adjusted R-squared:  0.2438 \nF-statistic: 239.2 on 1 and 738 DF,  p-value: &lt; 2.2e-16"
  },
  {
    "objectID": "presentaciones/5.2-regla_ecogeografica.html#section-23",
    "href": "presentaciones/5.2-regla_ecogeografica.html#section-23",
    "title": "Regla de Rapoport y otras patrones",
    "section": "",
    "text": "Parece que los endemismos disminuyen al alejarse del ecuador, siguiendo un gradiente latitudinal. Observ√©moslo:\n\np2&lt;-ggplot(endmcoords,aes(abs(y),log(phyloendemism)))+\n            geom_point(color=\"black\")+\n            xlab(\"Latitud absoluta\")+\n            ylab(\"log (Filoendemismos)\")+\n            geom_smooth(method= lm , color=\"red\", fill=\"#69b3a2\", se=TRUE)+\n            theme_classic()\n\nplot(p2)\n\n\n\n¬øQu√© podemos concluir de esto?"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#section",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#section",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "",
    "text": "Buscar informaci√≥n general sobre los datos\nCon Big Data es poco probable lograr visualizar toda la informaci√≥n en las matrices\nIdentificar problemas de forma y contenido"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#paquetes",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#paquetes",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "Paquetes",
    "text": "Paquetes\nVamos a utilizar los siguientes paquetes en R\n\nskimr\njanitor\nreport"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#pasos-para-la-exploraci√≥n-de-datos",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#pasos-para-la-exploraci√≥n-de-datos",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "Pasos para la exploraci√≥n de datos",
    "text": "Pasos para la exploraci√≥n de datos\n\nEl primer paso es importar los datos en R.\nAntes de analizar los datos, hay que prepararlos y limpiarlos\nLuego, explorar los datos de manera r√°pida y eficiente para saber si:\n\nFueron importados correctamente\nResumir caracter√≠sticas de los datos"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#en-r",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#en-r",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "En R",
    "text": "En R\n\nR identifica de manera autom√°tica las diferencias entre los tipos de informaci√≥n\nN√∫meros, caracteres, espacios, factores‚Ä¶\nPor eso la importancia de visualizar r√°pidamente los posibles problemas"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#skimr",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#skimr",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "skimR",
    "text": "skimR\n\n\n\n\n\nEs un paquete de b√°sicamente una √∫nica funci√≥n skim()\nLa funci√≥n skim() es √∫til para resumir conjuntos de datos\nEs un combo de algunas funciones de R base, como str(), class(), summary()\nDocumentaci√≥n aqu√≠ y aqu√≠"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#section-1",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#section-1",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "",
    "text": "Vamos a aplicar la funci√≥n summary() sobre nuestro conjunto de datos df\n\ndf &lt;- data.frame(nacionalidad = c(\"ARG\",\"NOR\",\"FRA\",\"ARG\",\"ARG\",\"ARG\",\"ARG\"),\n                 jugadores = c('Messi', 'Haaland', 'Benzema', 'Alvarez', 'Lautaro',\n                               'DiMaria','Maradona'),\n                 goles = c(12, 30, 30, 12, 12,30, NA),\n                 partidos = c(15, 20, 20, 20, 18,20, NA))\n\n\n\nsummary(df)\n\n nacionalidad        jugadores             goles       partidos    \n Length:7           Length:7           Min.   :12   Min.   :15.00  \n Class :character   Class :character   1st Qu.:12   1st Qu.:18.50  \n Mode  :character   Mode  :character   Median :21   Median :20.00  \n                                       Mean   :21   Mean   :18.83  \n                                       3rd Qu.:30   3rd Qu.:20.00  \n                                       Max.   :30   Max.   :20.00  \n                                       NA's   :1    NA's   :1"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#ahora-vamos-aplicar-la-funci√≥n-skim-sobre-un-conjunto-de-datos-df",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#ahora-vamos-aplicar-la-funci√≥n-skim-sobre-un-conjunto-de-datos-df",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "Ahora vamos aplicar la funci√≥n skim() sobre un conjunto de datos df",
    "text": "Ahora vamos aplicar la funci√≥n skim() sobre un conjunto de datos df\n\nMe ayudan con la interpretaci√≥n\n\n\nlibrary(tidyverse)\nlibrary(skimr)\n\ndf%&gt;%\n  skim()"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#separando-los-elementos",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#separando-los-elementos",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "Separando los elementos",
    "text": "Separando los elementos\n\nla funci√≥n yank()\n\n\nlibrary(tidyverse)\n\n‚îÄ‚îÄ Attaching core tidyverse packages ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ tidyverse 2.0.0 ‚îÄ‚îÄ\n‚úî dplyr     1.1.2     ‚úî readr     2.1.4\n‚úî forcats   1.0.0     ‚úî stringr   1.5.0\n‚úî ggplot2   3.4.2     ‚úî tibble    3.2.1\n‚úî lubridate 1.9.2     ‚úî tidyr     1.3.0\n‚úî purrr     1.0.1     \n‚îÄ‚îÄ Conflicts ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ tidyverse_conflicts() ‚îÄ‚îÄ\n‚úñ dplyr::filter() masks stats::filter()\n‚úñ dplyr::lag()    masks stats::lag()\n‚Ñπ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(skimr)\n\ndf%&gt;%\n  skim()%&gt;%\n  yank(\"numeric\")\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\ngoles\n1\n0.86\n21.00\n9.86\n12\n12.0\n21\n30\n30\n‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñá\n\n\npartidos\n1\n0.86\n18.83\n2.04\n15\n18.5\n20\n20\n20\n‚ñÇ‚ñÅ‚ñÇ‚ñÅ‚ñá"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#conjuntos-de-datos-muy-grandes",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#conjuntos-de-datos-muy-grandes",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "Conjuntos de datos muy grandes",
    "text": "Conjuntos de datos muy grandes\n\nEstos son datos de mi posdoc, de interacci√≥n (binarias: 0s o 1s) aves-plantas\nSon m√°s de 140 mil filas‚Ä¶\n\n\nlibrary(rio)\nbirds = import(file = here(\"dados\",\"birds.csv\"))"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#quiz",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#quiz",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "QUIZ:",
    "text": "QUIZ:\n\nUse la funci√≥n skim() y conteste:\n¬øCu√°l el n√∫mero de especies plantas y de aves?\n¬øHay datos faltantes?\n¬øHay datos raros en las interaciones?"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#vamos-a-identificar-los-nas",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#vamos-a-identificar-los-nas",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "Vamos a identificar los NAs",
    "text": "Vamos a identificar los NAs\n\n¬øAlgui√©n sugiere alguna manera de hacer eso?\n\n\n\nlibrary(tidyr)\n\nbirds%&gt;%\n  filter(is.na(birds))\n\n  birds               plants interaction\n1  &lt;NA&gt; Canthium oligocarpum           0"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#en-cu√°l-fila-est√°n-los-valores-faltantes",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#en-cu√°l-fila-est√°n-los-valores-faltantes",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "¬øEn cu√°l fila est√°n los valores faltantes?",
    "text": "¬øEn cu√°l fila est√°n los valores faltantes?\n\n¬øSugerencias de c√≥mo hacerlo?\n\n\n\nwhich(birds$birds==\"\")\n\n[1] 140748 140749 140750"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#funci√≥nes-adicionales-dplyrglimpse",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#funci√≥nes-adicionales-dplyrglimpse",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "Funci√≥nes adicionales: dplyr::glimpse()",
    "text": "Funci√≥nes adicionales: dplyr::glimpse()\n\nlibrary(dplyr)\n\ndf%&gt;%\n  glimpse()\n\nRows: 7\nColumns: 4\n$ nacionalidad &lt;chr&gt; \"ARG\", \"NOR\", \"FRA\", \"ARG\", \"ARG\", \"ARG\", \"ARG\"\n$ jugadores    &lt;chr&gt; \"Messi\", \"Haaland\", \"Benzema\", \"Alvarez\", \"Lautaro\", \"DiM‚Ä¶\n$ goles        &lt;dbl&gt; 12, 30, 30, 12, 12, 30, NA\n$ partidos     &lt;dbl&gt; 15, 20, 20, 20, 18, 20, NA"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#section-3",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#section-3",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "",
    "text": "library(dplyr)\n\nbirds%&gt;%\n  glimpse()\n\nRows: 140,750\nColumns: 3\n$ birds       &lt;chr&gt; \"Aburria aburri\", \"Aburria aburri\", \"Aburria aburri\", \"Abu‚Ä¶\n$ plants      &lt;chr&gt; \"Alchornea grandiflora\", \"Asteraceae sp\", \"Bellusia pentam‚Ä¶\n$ interaction &lt;int&gt; 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0‚Ä¶"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#easystatsreport",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#easystatsreport",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "easystats::report()",
    "text": "easystats::report()\n\nlibrary(easystats)\n\n# Attaching packages: easystats 0.6.0\n‚úî bayestestR  0.13.1   ‚úî correlation 0.8.4 \n‚úî datawizard  0.8.0    ‚úî effectsize  0.8.3 \n‚úî insight     0.19.2   ‚úî modelbased  0.8.6 \n‚úî performance 0.10.4   ‚úî parameters  0.21.1\n‚úî report      0.5.7    ‚úî see         0.8.0 \n\ndf%&gt;%\n  report()\n\nThe data contains 7 observations of the following 4 variables:\n\n  - nacionalidad: 3 entries, such as ARG (n = 5); FRA (n = 1); NOR (n = 1) (0\nmissing)\n  - jugadores: 7 entries, such as Alvarez (n = 1); Benzema (n = 1); DiMaria (n =\n1) and 4 others (0 missing)\n  - goles: n = 7, Mean = 21.00, SD = 9.86, Median = , MAD = 13.34, range: [12,\n30], Skewness = 0.00, Kurtosis = -3.33, 1 missing\n  - partidos: n = 7, Mean = 18.83, SD = 2.04, Median = , MAD = 0.00, range: [15,\n20], Skewness = -1.78, Kurtosis = 2.77, 1 missing"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#section-4",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#section-4",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "",
    "text": "¬øQu√© otra informaci√≥n les pareci√≥ relevant de la funci√≥n report?\n\n\nlibrary(easystats)\n\nbirds%&gt;%\n  report()\n\nThe data contains 140750 observations of the following 3 variables:\n\n  - birds: 1265 entries, such as Turdus rufiventris (0.80%); Turdus merula\n(0.80%); Vireo olivaceus (0.76%) and 1262 others (1 missing)\n  - plants: 2902 entries, such as Trema micrantha (0.51%); Sorbus aucuparia\n(0.50%); Myrsine coriacea (0.49%) and 2899 others (0 missing)\n  - interaction: n = 140750, Mean = 0.18, SD = 0.39, Median = 0.00, MAD = 0.00,\nrange: [0, 5], Skewness = 1.64, Kurtosis = 0.83, 0% missing"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#section-5",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#section-5",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "",
    "text": "La funci√≥n report es extramadamente √∫til cuando aplicada a modelos estad√≠sticos, pero sirve para visualizaciones tambi√©n\n\n\nmodel &lt;- lm(Sepal.Length ~ Species, data = iris)\nreport(model)"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#section-5-output",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#section-5-output",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "",
    "text": "We fitted a linear model (estimated using OLS) to predict Sepal.Length with\nSpecies (formula: Sepal.Length ~ Species). The model explains a statistically\nsignificant and substantial proportion of variance (R2 = 0.62, F(2, 147) =\n119.26, p &lt; .001, adj. R2 = 0.61). The model's intercept, corresponding to\nSpecies = setosa, is at 5.01 (95% CI [4.86, 5.15], t(147) = 68.76, p &lt; .001).\nWithin this model:\n\n  - The effect of Species [versicolor] is statistically significant and positive\n(beta = 0.93, 95% CI [0.73, 1.13], t(147) = 9.03, p &lt; .001; Std. beta = 1.12,\n95% CI [0.88, 1.37])\n  - The effect of Species [virginica] is statistically significant and positive\n(beta = 1.58, 95% CI [1.38, 1.79], t(147) = 15.37, p &lt; .001; Std. beta = 1.91,\n95% CI [1.66, 2.16])\n\nStandardized parameters were obtained by fitting the model on a standardized\nversion of the dataset. 95% Confidence Intervals (CIs) and p-values were\ncomputed using a Wald t-distribution approximation."
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#janitor",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#janitor",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "Janitor",
    "text": "Janitor\n\n\n\n\n\nPaquete con dos tipos de funciones\n\nLimpieza de datos (vamos ver en la siguiente clase)\nPreparaci√≥n de tablas de conteos (contingencia)\nDocumentaci√≥n"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#uso-de-la-funci√≥n-table-del-r-base",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#uso-de-la-funci√≥n-table-del-r-base",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "Uso de la funci√≥n table() del R base",
    "text": "Uso de la funci√≥n table() del R base\nEsta funci√≥n sirve para generar tablas de contingencia, o sea, con frecuencias, proporciones o conteos entre los objetos\n\n# vamos usar nuestro df\ndf &lt;- data.frame(nacionalidad = c(\"ARG\",\"NOR\",\"FRA\",\"ARG\",\"ARG\",\"ARG\",\"ARG\"),\n                 jugadores = c('Messi', 'Haaland', 'Benzema', 'Alvarez', 'Lautaro',\n                               'DiMaria','Maradona'),\n                 goles = c(12, 30, 30, 12, 12,30, NA),\n                 partidos = c(15, 20, 20, 20, 18,20, NA))"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#vamos-a-probar-algunas-de-sus-habilidades-en-r",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#vamos-a-probar-algunas-de-sus-habilidades-en-r",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "Vamos a probar algunas de sus habilidades en R‚Ä¶",
    "text": "Vamos a probar algunas de sus habilidades en R‚Ä¶\n\nUsando la funci√≥n table():\n\nCuantos tipos de ‚Äúgoles‚Äù hay?\nCuantos goles cada jugador ha hecho?"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#cuantos-tipos-de-goles-hay",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#cuantos-tipos-de-goles-hay",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "¬øCuantos tipos de ‚Äúgoles‚Äù hay?",
    "text": "¬øCuantos tipos de ‚Äúgoles‚Äù hay?\n\ntable(df$goles)\n\n\n12 30 \n 3  3"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#cu√°ntos-goles-ha-hecho-cada-jugador",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#cu√°ntos-goles-ha-hecho-cada-jugador",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "¬øCu√°ntos goles ha hecho cada jugador?",
    "text": "¬øCu√°ntos goles ha hecho cada jugador?\n\n# Cruzar la informaci√≥n \"jugadores\" y \"goles\"\ntable(df$jugadores,df$goles)\n\n          \n           12 30\n  Alvarez   1  0\n  Benzema   0  1\n  DiMaria   0  1\n  Haaland   0  1\n  Lautaro   1  0\n  Maradona  0  0\n  Messi     1  0"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#la-funci√≥n-table-permite-calcular-proporciones",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#la-funci√≥n-table-permite-calcular-proporciones",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "La funci√≥n table() permite calcular proporciones",
    "text": "La funci√≥n table() permite calcular proporciones\n\nprop.table(table(df$jugadores,df$goles))\n\n          \n                  12        30\n  Alvarez  0.1666667 0.0000000\n  Benzema  0.0000000 0.1666667\n  DiMaria  0.0000000 0.1666667\n  Haaland  0.0000000 0.1666667\n  Lautaro  0.1666667 0.0000000\n  Maradona 0.0000000 0.0000000\n  Messi    0.1666667 0.0000000"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#desventajas-de-usar-la-funci√≥n-table",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#desventajas-de-usar-la-funci√≥n-table",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "Desventajas de usar la funci√≥n table()",
    "text": "Desventajas de usar la funci√≥n table()\n\nEl output no es un data.frame\nNo funciona bien con los pipes (%&gt;%)\nLos resultados son complicados de extraer y formatear . . .\n\n\ntab &lt;- table(df$jugadores,df$goles)\nclass(tab)\n\n[1] \"table\""
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#uso-de-la-funci√≥n-janitortabyl",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#uso-de-la-funci√≥n-janitortabyl",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "Uso de la funci√≥n janitor::tabyl()",
    "text": "Uso de la funci√≥n janitor::tabyl()\n\nUsa la estructura tidyverse\nEl output nos da informaciones m√°s relevantes\nEs m√°s f√°cil de trabajar que la funci√≥n table()"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#la-funci√≥n-janitortabyl",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#la-funci√≥n-janitortabyl",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "La funci√≥n janitor::tabyl()",
    "text": "La funci√≥n janitor::tabyl()\n\n\n\nCon `tabyl()¬¥\n\n\nlibrary(janitor)\n\n\nAttaching package: 'janitor'\n\n\nThe following object is masked from 'package:insight':\n\n    clean_names\n\n\nThe following objects are masked from 'package:datawizard':\n\n    remove_empty, remove_empty_rows\n\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n\n# Tablas con una variable\ndf %&gt;%\n  tabyl(jugadores)\n\n jugadores n   percent\n   Alvarez 1 0.1428571\n   Benzema 1 0.1428571\n   DiMaria 1 0.1428571\n   Haaland 1 0.1428571\n   Lautaro 1 0.1428571\n  Maradona 1 0.1428571\n     Messi 1 0.1428571\n\n\n\n\nCon table()\n\n\n# Tablas con una variable - comparar con la funci√≥n `table()`\n  table(df$jugadores)\n\n\n Alvarez  Benzema  DiMaria  Haaland  Lautaro Maradona    Messi \n       1        1        1        1        1        1        1"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#tablas-con-na",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#tablas-con-na",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "Tablas con NA",
    "text": "Tablas con NA\n\nLa funci√≥n tabyl()te indica la presencia de NAs, mientras que table() no lo hace por defecto\n\n\ndf %&gt;%\n  tabyl(goles)\n\n goles n   percent valid_percent\n    12 3 0.4285714           0.5\n    30 3 0.4285714           0.5\n    NA 1 0.1428571            NA"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#section-6",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#section-6",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "",
    "text": "table(df$goles, useNA = \"always\")\n\n\n  12   30 &lt;NA&gt; \n   3    3    1"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#quiz-1",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#quiz-1",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "QUIZ:",
    "text": "QUIZ:\n\nUse la funci√≥n tabyl() para saber cu√°l es la especie de ave con m√°s occurrencias\nTIP: para visualizar, miren la funci√≥n View() o la funci√≥n arrange()\n\n\n\nbirds %&gt;%\n  tabyl(birds)%&gt;%\n  arrange(desc(n))%&gt;%\n  head()\n\n                birds    n     percent valid_percent\n   Turdus rufiventris 1120 0.007957371   0.007957428\n        Turdus merula 1119 0.007950266   0.007950323\n      Vireo olivaceus 1070 0.007602131   0.007602185\n      Thraupis sayaca 1021 0.007253996   0.007254048\n Pitangus sulphuratus  997 0.007083481   0.007083532\n    Turdus albicollis  996 0.007076377   0.007076427"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#algunas-funciones-derivadas-√∫tiles",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#algunas-funciones-derivadas-√∫tiles",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "Algunas funciones derivadas √∫tiles",
    "text": "Algunas funciones derivadas √∫tiles\n\nadorn_totals()\nadorn_percentages()\nadorn_rounding(digits=1)"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#adorn_totals",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#adorn_totals",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "adorn_totals()",
    "text": "adorn_totals()\n\ndf %&gt;%\n  filter(nacionalidad == \"ARG\") %&gt;%\n  tabyl(goles) %&gt;%\n  adorn_totals()\n\n goles n percent valid_percent\n    12 3     0.6          0.75\n    30 1     0.2          0.25\n  &lt;NA&gt; 1     0.2            NA\n Total 5     1.0          1.00"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#tablas-con-dos-variables",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#tablas-con-dos-variables",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "Tablas con dos variables",
    "text": "Tablas con dos variables\n\ndf %&gt;%\n  filter(nacionalidad == \"ARG\") %&gt;%\n  tabyl(goles,partidos) %&gt;%\n  adorn_percentages()\n\n goles        15        18        20 NA_\n    12 0.3333333 0.3333333 0.3333333   0\n    30 0.0000000 0.0000000 1.0000000   0\n    NA 0.0000000 0.0000000 0.0000000   1"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#quiz-2",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#quiz-2",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "QUIZ",
    "text": "QUIZ\n\nAl usar la funci√≥n adorn_percentages(), qu√© porcentajes se est√°n calculando? Hay un argumento llamado denominator = c(‚Äúall‚Äù, ‚Äúrow‚Äù, ‚Äúcol‚Äù) en la funci√≥n adorn_percentages(). Cu√°l es la diferencia en usar cada una de las opciones?"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#no-confundir",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#no-confundir",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "No confundir:",
    "text": "No confundir:\n\nadorn_percentages() - calcular porcentajes\nadorn_pct_formatting() - formatar los valores calculados\nambas funciones pueden ser usadas una tr√°s otra"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#section-7",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#section-7",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "",
    "text": "df %&gt;%\n  filter(nacionalidad == \"ARG\") %&gt;%\n  tabyl(goles,partidos) %&gt;%\n  adorn_percentages() %&gt;%\n  adorn_pct_formatting() # Colocar los Ns en el output\n\n goles    15    18     20    NA_\n    12 33.3% 33.3%  33.3%   0.0%\n    30  0.0%  0.0% 100.0%   0.0%\n    NA  0.0%  0.0%   0.0% 100.0%"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#funci√≥n-adicional-adorn_ns",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#funci√≥n-adicional-adorn_ns",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "Funci√≥n adicional: adorn_ns()",
    "text": "Funci√≥n adicional: adorn_ns()\n\ndf %&gt;%\n  filter(nacionalidad == \"ARG\") %&gt;%\n  tabyl(goles,partidos) %&gt;%\n  adorn_percentages() %&gt;%\n  adorn_pct_formatting() %&gt;%\n  adorn_ns()\n\n goles        15        18         20        NA_\n    12 33.3% (1) 33.3% (1)  33.3% (1)   0.0% (0)\n    30  0.0% (0)  0.0% (0) 100.0% (1)   0.0% (0)\n    NA  0.0% (0)  0.0% (0)   0.0% (0) 100.0% (1)"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#funci√≥n-bonus-top_levels",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#funci√≥n-bonus-top_levels",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "funci√≥n bonus top_levels()",
    "text": "funci√≥n bonus top_levels()\n\nSirve para obtener la tabla de frecuencias de un vector de factores\nSepara los factores en 3 grupos bajo, medio, alto\nLa funci√≥n top_levels() te devuelve un data.frame"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#section-8",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#section-8",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "",
    "text": "fac &lt;- as.factor(c(\"muy fuerte\",\"muy fuerte\",\"muy fuerte\",\"fuerte\",\"d√©bil\",\"d√©bil\",\"muy d√©bil\",\"muy d√©bil\"))\n\n\n\ntop_levels(fac,n=1) # n es el numero de n√≠veles en las categorias *bajo* y *alto*\n\n               fac n percent\n             d√©bil 2   0.250\n fuerte, muy d√©bil 3   0.375\n        muy fuerte 3   0.375"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#janitor-miscellaneous-functions",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#janitor-miscellaneous-functions",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "Janitor Miscellaneous functions",
    "text": "Janitor Miscellaneous functions\n\nclean_names() para limpiar y ajustar nombres de columnas en data.frames\ncompare_df_cols() para comparar si columnas de dos data.frames son iguales\nremove_empty() para remover celdas vac√≠as en data.frames\notras funciones aqui"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#contexto",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#contexto",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "Contexto",
    "text": "Contexto\nUn colega est√° investigando el efecto de la construcci√≥n de una represa en el rio Madeira, Amazon√≠a, sobre la comunidad de hormigas. Hay un efecto fuerte de cambio de la comunidad en el ‚Äúantes‚Äù y ‚Äúdespu√©s‚Äù de la construcci√≥n (medido con el indice Bray-Curtis). Sin embargo, las variables climatol√≥gicas y ed√°ficas no han cambiado, por lo que este colega tiene la hip√≥tesis del cambio de n√≠vel fre√°tico.\nPara cada parcela se calcul√≥ 3 valores (tipo 2, 3 y 4) de un descriptor de la hidrolog√≠a local llamado HAND. Los valores fueron calculados para antes y despu√©s de la inundaci√≥n."
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#section-11",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#section-11",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "",
    "text": "El colega necesita saber cu√°l de los 3 valores podr√° ser usado como variable descriptora en su estudio. En la figura abajo se ve el efecto de la inundaci√≥n en el Rio Madeira sobre un modelo digital de elevaci√≥n\n {fig-align=‚Äúcenter‚Äù,fig-size=‚Äú80%‚Äù}"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#instrucciones",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#instrucciones",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "Instrucciones",
    "text": "Instrucciones\n\nImportar el conjunto de datos: ‚Äúej_visualizacion_datos.xlsx‚Äù. Usar la funci√≥n rio::import()\nEs necesario estandarizar los nombres de las columnas? Caso positivo, usar la funci√≥n janitor::clean_names()"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#usando-√∫nica-funci√≥n-vista-en-clase-contestar-a-las-preguntas",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#usando-√∫nica-funci√≥n-vista-en-clase-contestar-a-las-preguntas",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "Usando √∫nica funci√≥n vista en clase, contestar a las preguntas:",
    "text": "Usando √∫nica funci√≥n vista en clase, contestar a las preguntas:\n\n¬øCu√°l de las columnas tiene mayor promedio?\nCu√°l tiene el mayor valor\n¬øCu√°l tiene una distribuci√≥n que m√°s se acerca a una ‚Äúnormal‚Äù?\n¬øCu√°ntos grupos de parcelas hay?"
  },
  {
    "objectID": "presentaciones/1.1-exploracion_rapida_datos.html#c√≥digos-para-contestar-a-las-preguntas",
    "href": "presentaciones/1.1-exploracion_rapida_datos.html#c√≥digos-para-contestar-a-las-preguntas",
    "title": "Exploraci√≥n r√°pida de datos",
    "section": "C√≥digos para contestar a las preguntas",
    "text": "C√≥digos para contestar a las preguntas\n\nlibrary(rio)\nlibrary(skimr)\n\ntopo = import(\"dados/ej_visualizacion_datos.xlsx\")\n\ntopo = topo %&gt;%\n  janitor::clean_names()\n\ntopo %&gt;%\n  skimr::skim()"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#filogenias-en-r",
    "href": "presentaciones/5.4-filogenias.html#filogenias-en-r",
    "title": "Filogenias en R",
    "section": "Filogenias en R",
    "text": "Filogenias en R\nPrimero, ¬øQu√© es un √°rbol Filogen√©tico?"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section",
    "href": "presentaciones/5.4-filogenias.html#section",
    "title": "Filogenias en R",
    "section": "",
    "text": "Un √°rbol filogen√©tico es un diagrama que muestra la relaci√≥n de parentezco entre especies (o taxones)"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-1",
    "href": "presentaciones/5.4-filogenias.html#section-1",
    "title": "Filogenias en R",
    "section": "",
    "text": "Uno de los formatos m√°s utilizados para representar filogenias son el Newick(.tree)\nEl formato Newick es una notaci√≥n para representar parentescos utilizando parentesis y comas."
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-2",
    "href": "presentaciones/5.4-filogenias.html#section-2",
    "title": "Filogenias en R",
    "section": "",
    "text": "Si queremos decir que A y B se parecen m√°s entre ellos que con X, lo anotar√≠amos as√≠:\n\n\n[1] \"((A,B),X);\""
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-3",
    "href": "presentaciones/5.4-filogenias.html#section-3",
    "title": "Filogenias en R",
    "section": "",
    "text": "Para que R pueda identificar est√° notaci√≥n, se puede usar ape:"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-4",
    "href": "presentaciones/5.4-filogenias.html#section-4",
    "title": "Filogenias en R",
    "section": "",
    "text": "El formato Newick es anidado, por lo que podemos explorar la relaci√≥n entre diferentes grupos. Por ejemplo:\nSabemos que los lobos, los coyotes y los zorros pertenecen a Canidae, pero que los lobos y los coyotes son del mismo g√©nero"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-5",
    "href": "presentaciones/5.4-filogenias.html#section-5",
    "title": "Filogenias en R",
    "section": "",
    "text": "Y si agregamos murci√©lagos, todos ellos pertenecen a los mam√≠feros:"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-6",
    "href": "presentaciones/5.4-filogenias.html#section-6",
    "title": "Filogenias en R",
    "section": "",
    "text": "Si quisieramos agregar cuervos y zanates. ¬øEstos d√≥nde ir√≠an?"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-7",
    "href": "presentaciones/5.4-filogenias.html#section-7",
    "title": "Filogenias en R",
    "section": "",
    "text": "Y si agregamos una planta, los mam√≠feros y las aves se anidar√≠an.\n\n\nEn este ejercicio haremos uso del paquete ggtree para graficar, personalizar, anotar y en general mejorar √°rboles filogen√©ticos"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#paquetes-necesarios",
    "href": "presentaciones/5.4-filogenias.html#paquetes-necesarios",
    "title": "Filogenias en R",
    "section": "Paquetes necesarios:",
    "text": "Paquetes necesarios:\n\nlibrary(ape)\nlibrary(ggtree)\nlibrary(deeptime)\nlibrary(tidytree)\nlibrary(ggimage)\nlibrary(geiger)\nlibrary(caper)\nlibrary(TDbook)\nlibrary(here)"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-8",
    "href": "presentaciones/5.4-filogenias.html#section-8",
    "title": "Filogenias en R",
    "section": "",
    "text": "En este caso usaremos un √°rbol filogen√©tico en particular (la filogenia de Icteridae). Sin embargo, estos ejemplos se pueden hacer en su mayor√≠a con cualquier otra filogen√≠a que tengan disponible.\n\nictree&lt;-read.tree(here(\"data\",\"Icteridae_tree.txt\"))\nictree\n\n\nPhylogenetic tree with 100 tips and 99 internal nodes.\n\nTip labels:\n  Icterus_melanopsis, Icterus_northropi, Icterus_laudabilis, Icterus_dominicensis, Icterus_cayanensis, Icterus_pyrrhopterus, ...\nNode labels:\n  761, 762, 763, 764, 765, 766, ...\n\nRooted; includes branch lengths."
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-9",
    "href": "presentaciones/5.4-filogenias.html#section-9",
    "title": "Filogenias en R",
    "section": "",
    "text": "Veamos esta filogenia graficandola usando ape, la manera base para R.\n\nplot(ictree, show.tip.label=F)"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-10",
    "href": "presentaciones/5.4-filogenias.html#section-10",
    "title": "Filogenias en R",
    "section": "",
    "text": "Ahora graficaremos el mismo √°rbol utilizando ggtree, el cual sigue una formula id√©ntica a la de ggplot. Nuestro √°rbol base se llamar√° p1:\n\np1&lt;-ggtree(ictree,color=\"black\",size=0.5)\nplot(p1)"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-11",
    "href": "presentaciones/5.4-filogenias.html#section-11",
    "title": "Filogenias en R",
    "section": "",
    "text": "Con p1, al igual que con cualquier otro gr√°fico de ggplot, podemos agregar parametros de graficaci√≥n para personalizar o agregar anotaciones a nuestra filogenia. Primero empezaremos con los parametros de personalizaci√≥n. Por ejemplo, podemos cambiar la disposici√≥n de la filogenia utilizando el parametro layout_:"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-12",
    "href": "presentaciones/5.4-filogenias.html#section-12",
    "title": "Filogenias en R",
    "section": "",
    "text": "p1+layout_dendrogram()+\np1+layout_fan()+\np1+layout_circular()"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-13",
    "href": "presentaciones/5.4-filogenias.html#section-13",
    "title": "Filogenias en R",
    "section": "",
    "text": "Tambi√©n podemos cambiar el color del fondo del gr√°fico\n\np1+\n  theme_tree(bgcolor=\"lightblue\")"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-14",
    "href": "presentaciones/5.4-filogenias.html#section-14",
    "title": "Filogenias en R",
    "section": "",
    "text": "Agregar las etiquetas para las puntas de una manera personalizable:\n\np1+\n  geom_tiplab(size=1,color=\"darkblue\",angle=10)"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-15",
    "href": "presentaciones/5.4-filogenias.html#section-15",
    "title": "Filogenias en R",
    "section": "",
    "text": "formas a las puntas:\n\np1+\n  geom_tippoint(size=1,color=\"brown\",shape=10)"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-16",
    "href": "presentaciones/5.4-filogenias.html#section-16",
    "title": "Filogenias en R",
    "section": "",
    "text": "Etiquetas a los nodos:\n\np1+ \n  geom_nodelab(size=1,color=\"purple\")"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-17",
    "href": "presentaciones/5.4-filogenias.html#section-17",
    "title": "Filogenias en R",
    "section": "",
    "text": "o formas a los nodos:\n\np1+ \n  geom_nodepoint(size=2,color=\"red\",shape=16)"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-18",
    "href": "presentaciones/5.4-filogenias.html#section-18",
    "title": "Filogenias en R",
    "section": "",
    "text": "e incluso agregar una escala temporal a la filogenia, con la ayuda del paquete deeptime\n\npy&lt;-revts(p1)\npy+coord_geo(xlim=c(-10,-1),abbrv = F,neg=T,skip=NULL,dat=\"stage\",size=1.5)+\n  theme_tree2()"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-19",
    "href": "presentaciones/5.4-filogenias.html#section-19",
    "title": "Filogenias en R",
    "section": "",
    "text": "C√≥mo en ggplot, todos estos par√°metros son aditivos, por lo cual puedes construir la filogen√≠a de manera gradual\n\np1+ \n  layout_dendrogram()+\n  theme_tree(bgcolor=\"#e9f0ea\")+\n  geom_tiplab(size=0.5,color=\"darkblue\",angle=45)+\n  geom_tippoint(size=1,color=\"brown\",shape=10)+\n  geom_nodelab(size=1,color=\"purple\")+\n  geom_nodepoint(size=2,color=\"red\",alpha=0.3,shape=16)"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-20",
    "href": "presentaciones/5.4-filogenias.html#section-20",
    "title": "Filogenias en R",
    "section": "",
    "text": "Ahora para la anotaci√≥n de los √°rboles, se pueden hacer varias cosas, a mi, por ejemplo, me gusta mucho el g√©nero Quiscalus, y quisiera saber donde se encuentra en la filogenia."
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-21",
    "href": "presentaciones/5.4-filogenias.html#section-21",
    "title": "Filogenias en R",
    "section": "",
    "text": "Para esto primero debemos encontrar el nodo del ancestro en com√∫n m√°s reciente para este grupo. Usando un tibble y la estructura de dplyr es muy facil, primero transformamos nuestro √°rbol en un tibble y despues utilizando un filtro buscamos las especies de Quiscalus:\n\nictree %&gt;%\nas_tibble %&gt;%\n  filter(grepl(\"Quiscalus\",label))\n\n# A tibble: 6 √ó 4\n  parent  node branch.length label                  \n   &lt;int&gt; &lt;int&gt;         &lt;dbl&gt; &lt;chr&gt;                  \n1    146    41         1.82  Quiscalus_quiscula     \n2    148    42         0.851 Quiscalus_niger        \n3    149    43         0.335 Quiscalus_major        \n4    149    44         0.335 Quiscalus_mexicanus    \n5    150    45         1.02  Quiscalus_nicaraguensis\n6    150    46         1.02  Quiscalus_lugubris"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-22",
    "href": "presentaciones/5.4-filogenias.html#section-22",
    "title": "Filogenias en R",
    "section": "",
    "text": "Despu√©s usando la funci√≥n MRCA podemos encontrar el ancestro en com√∫n de estas especies, en las cuales podemos usar los nombres de las especie con la longitud de rama m√°s alargada y con la longitud de rama m√°s corta, o sus nodos:\n\nictree %&gt;%\nas_tibble %&gt;%\nMRCA(41,43)\n\n# A tibble: 1 √ó 4\n  parent  node branch.length label\n   &lt;int&gt; &lt;int&gt;         &lt;dbl&gt; &lt;chr&gt;\n1    144   146          1.37 806  \n\n\n\n\nictree %&gt;%\nas_tibble %&gt;%\nMRCA(\"Quiscalus_quiscula\",\"Quiscalus_mexicanus\")\n\n# A tibble: 1 √ó 4\n  parent  node branch.length label\n   &lt;int&gt; &lt;int&gt;         &lt;dbl&gt; &lt;chr&gt;\n1    144   146          1.37 806"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-23",
    "href": "presentaciones/5.4-filogenias.html#section-23",
    "title": "Filogenias en R",
    "section": "",
    "text": "Ahora sabiendo que el ancestro en com√∫n de Quiscalus se encuentra en el nodo 146, puedo utilizar esta informaci√≥n para anotar la filogenia utilizando el parametro geom_cladelab:\n\np1+\n  geom_cladelab(node=146,label = \"Quiscalus\",offset=0,\n            barcolor=\"red\",textcolor=\"brown\",\n            angle=90, offset.text=0.1)"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-24",
    "href": "presentaciones/5.4-filogenias.html#section-24",
    "title": "Filogenias en R",
    "section": "",
    "text": "y que tal el genero que tiene el nombre de la familia: Icterus:\n\nictree %&gt;%\n  as_tibble %&gt;%\n  filter(grepl(\"Icterus\",label))\n\n# A tibble: 31 √ó 4\n   parent  node branch.length label                \n    &lt;int&gt; &lt;int&gt;         &lt;dbl&gt; &lt;chr&gt;                \n 1    111     1         0.193 Icterus_melanopsis   \n 2    111     2         0.193 Icterus_northropi    \n 3    114     3         1.47  Icterus_laudabilis   \n 4    114     4         1.47  Icterus_dominicensis \n 5    116     5         0.197 Icterus_cayanensis   \n 6    116     6         0.197 Icterus_pyrrhopterus \n 7    115     7         0.943 Icterus_auricapillus \n 8    117     8         1.49  Icterus_bonana       \n 9    117     9         1.49  Icterus_portoricensis\n10    118    10         2.24  Icterus_prosthemelas \n# ‚Ñπ 21 more rows\n\n\n\n\nictree %&gt;%\nas_tibble %&gt;%\nMRCA(25,14)\n\n# A tibble: 1 √ó 4\n  parent  node branch.length label\n   &lt;int&gt; &lt;int&gt;         &lt;dbl&gt; &lt;chr&gt;\n1    103   104          2.92 764"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-25",
    "href": "presentaciones/5.4-filogenias.html#section-25",
    "title": "Filogenias en R",
    "section": "",
    "text": "p1+xlim(0,11)+\n  geom_cladelab(node=104,label=\"Icterus\",geom=\"label\",\nfill=\"yellow\",textcolor=\"red\", barcolor=\"gray\",angle=90)"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-26",
    "href": "presentaciones/5.4-filogenias.html#section-26",
    "title": "Filogenias en R",
    "section": "",
    "text": "Tambi√©n podemos dibujar una linea entre dos taxa, que pudieran o no est√°r relacionados, utilizando el parametro geom_strip:\n\np1+xlim(0,15)+\n  geom_strip(\"Quiscalus_quiscula\",\"Icterus_icterus\",\n  label=\" un clado polifil√©tico\", barsize = 2, offset.text = 0.2)"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-27",
    "href": "presentaciones/5.4-filogenias.html#section-27",
    "title": "Filogenias en R",
    "section": "",
    "text": "Un parametro de anotaci√≥n muy bueno, tambi√©n es el geom_highlight, el cual nos permite destacar clados en particular, utilizando los nodos de ancestro en com√∫n:\n\np1+\n  geom_highlight(node=146,alpha=0.5,fill=\"purple\",type = \"rect\")"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-28",
    "href": "presentaciones/5.4-filogenias.html#section-28",
    "title": "Filogenias en R",
    "section": "",
    "text": "¬øQu√© clado es este?\n\np1+\n  geom_highlight(node=146,alpha=0.5,fill=\"purple\",type = \"rect\")+\n  geom_cladelab(node=146,label = \"Quiscalus\",offset=0,barcolor=\"#9418f2\",textcolor=\"#4c0980\", offset.text=0)+\n  xlim(0,11.5)"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-29",
    "href": "presentaciones/5.4-filogenias.html#section-29",
    "title": "Filogenias en R",
    "section": "",
    "text": "Una funci√≥n bastante interesante de ggtree es que se pueden personalizar las filogen√≠as utilizando recursos en l√≠nea como phylopic o enriquecerlas con imagenes propias. Para poder hacer uso de esta funci√≥n, primero debemos cargar un paquete extra:\n\nlibrary(\"rsvg\")\n\n\nHacer uso de phylopic para personalizar las anotaciones de las filogenias requiere que primero hagamos una tabla con los nodos, el nombre de la especie o clado a los cuales vamos a anotar y el phylopic_id."
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-30",
    "href": "presentaciones/5.4-filogenias.html#section-30",
    "title": "Filogenias en R",
    "section": "",
    "text": "En este ejemplo utilizar√© los clados Quiscalus y Agelaius, que s√© que tienen imagenes indexadas en phylopic. Encontrar los phylopic_id es f√°cil usando la funci√≥n phylopic_uid:\n\nids&lt;-phylopic_uid(c(\"Quiscalus\",\"Agelaius\"))\nids\n\n               name                                  uid\nQuiscalus Quiscalus 2ada4e2f-35ab-48d2-b32e-3bad57033dd4\nAgelaius   Agelaius 9a3f70a3-2ea9-45aa-8a1a-7c599952fd6c\n\n\nCon estos ids, ya podemos crear nuestra tabla con los datos necesarios y despu√©s gr√°ficar nuestra filogenia:\n\ndt&lt;-data.frame(node=c(146,136),image=ids$uid,genus=c(\"Quiscalus\",\"Agelaius\"))\ndt\n\n  node                                image     genus\n1  146 2ada4e2f-35ab-48d2-b32e-3bad57033dd4 Quiscalus\n2  136 9a3f70a3-2ea9-45aa-8a1a-7c599952fd6c  Agelaius"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-31",
    "href": "presentaciones/5.4-filogenias.html#section-31",
    "title": "Filogenias en R",
    "section": "",
    "text": "p1+ geom_cladelab(data = dt, \n                      mapping = aes(node = node, label = genus, \n                                    image = image, color = genus), \n                      geom = \"phylopic\", offset = 0, offset.text=0.5)"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-32",
    "href": "presentaciones/5.4-filogenias.html#section-32",
    "title": "Filogenias en R",
    "section": "",
    "text": "Adem√°s, usando la argumentaci√≥n como en ggplot, podemos personalizar los colores de nuestros phylopics:\n\np1+ geom_cladelab(data = dt, \n                      mapping = aes(node = node, label = genus, \n                                    image = image, color = genus), \n                      geom = \"phylopic\", offset = 0, offset.text=0.5)+ scale_color_manual(values=c(\"#f75419\",\"purple\"))"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-33",
    "href": "presentaciones/5.4-filogenias.html#section-33",
    "title": "Filogenias en R",
    "section": "",
    "text": "Utilizando estas parametrizaciones, podemos crear una filogenia bastante atractiva:\n\npr&lt;-p1+ geom_cladelab(data = dt, \n                      mapping = aes(node = node, label = genus, \n                                    image = image, color = genus), \n                      geom = \"phylopic\", offset = 0, offset.text=0.5)+\n  scale_color_manual(values=c(\"#f75419\",\"purple\"))+\n  geom_highlight(node=146,alpha=0.5,fill=\"purple\",type = \"rect\")+\n  geom_highlight(node=136,alpha=0.5,fill=\"#f75419\",type = \"rect\")\npr"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-34",
    "href": "presentaciones/5.4-filogenias.html#section-34",
    "title": "Filogenias en R",
    "section": "",
    "text": "y este es un ejemplo de el tipo de filogenias que pueden crearse haciendo uso de todas estas parametrizaciones:\n\ntree&lt;-read.tree(here(\"data\",\"nodedtree.txt\"))\nnodes&lt;-c(825,725,921,1042,1080,1375,707)\nlabels&lt;-c(\"Parulidae\",\"Icteridae\",\"Passerellidae\",\"Cardinalidae\",\"Thraupidae\",\"Emberizidae\",\"Calcariidae\")\n#\n\niu2&lt;-phylopic_uid(c(\"Setophaga\",\"Quiscalus\",\"Passerellidae\",\"Cardinalis\",\"Thraupidae\",\"Emberizidae\",\"Emberiza\"),seed=1)\n\ndt&lt;-data.frame(node=nodes,name=labels,image=iu2$uid)\n\np2&lt;-ggtree(tree,layout=\"circular\",color=\"white\")+theme_tree(\"black\")\n\np3&lt;-p2+\n  geom_highlight(node=825,fill=\"yellow\")+\n  geom_cladelab(node=825,label=\"Parulidae\",barcolor=\"yellow\",textcolor=\"white\",offset.text=4, fontsize=4)+\n  \n  geom_highlight(node=725,fill=\"orange\")+\n  geom_cladelab(node=725,label=\"Icteridae\",barcolor=\"orange\",textcolor=\"white\",offset.text=5, fontsize=4,angle=45)+\n    \n    geom_highlight(node=921,fill=\"brown\")+\n  geom_cladelab(node=921,label=\"Passerellidae\",barcolor=\"brown\",textcolor=\"white\",offset.text=1, fontsize=4)+\n  \n  geom_highlight(node=1042,fill=\"red\")+\ngeom_cladelab(node=1042,label=\"Cardinalidae\",barcolor=\"red\",textcolor=\"white\",offset.text=7, fontsize=4,angle=-45,align=T)+\n  \n  geom_highlight(node=1079,fill=\"lightgreen\")+\ngeom_cladelab(node=1079,label=\"Thraupidae\",barcolor=\"lightgreen\",textcolor=\"white\",offset.text=2, fontsize=4)+\n  \n  geom_highlight(node=1375,fill=\"magenta\")+\n  geom_cladelab(node=1375,label=\"Emberizidae\",barcolor=\"magenta\",textcolor=\"white\",offset.text=1, fontsize=4,align=T)+\n  \n  geom_highlight(node=707,fill=\"blue\")+\n  geom_cladelab(node=707,label=\"Calcariidae\",barcolor=\"blue\",textcolor=\"white\",offset.text=1, fontsize=4,align=T)"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-35",
    "href": "presentaciones/5.4-filogenias.html#section-35",
    "title": "Filogenias en R",
    "section": "",
    "text": "p3+\ngeom_cladelab(data = dt, \n              mapping = aes(node = node, label = name, \n                            image = image, color = name), \n              geom = \"phylopic\", offset.text=c(10,7,6,5,9,4,10))+\n  scale_colour_manual(values=c(\"blue\",\"red\",\"magenta\",\"orange\",\"yellow\",\"brown\",\"lightgreen\"))"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-36",
    "href": "presentaciones/5.4-filogenias.html#section-36",
    "title": "Filogenias en R",
    "section": "",
    "text": "Para poder anotar las filogenias con imagenes, es recomendable usar √°rboles filog√©ticos peque√±os, en los cuales quiz√° con un grupo de representantes bastar√≠a. En este ejemplo usaremos una filogenia parafiletica con los generos Quiscalus (Los zanates), Icterus (Las calandrias), Molothrus (Los tordos), Agelaius (Los sargentos) y Psarocolius (Las oropendolas):\nEntonces, primero recuperamos un representante de cada grupo, ape es muy bueno para esto usando la funci√≥n keep.tip:\n\ngrouptree&lt;-ictree %&gt;%\nkeep.tip(c(\"Quiscalus_mexicanus\", \"Icterus_galbula\",\"Molothrus_aeneus\",\"Agelaius_phoeniceus\",\"Psarocolius_montezuma\"))\n\ngrouptree$tip.label&lt;-c(\"Calandrias\",\"Sargentos\",\"Zanates\",\"Tordos\",\"Oropendolas\")\n\np4&lt;-ggtree(grouptree,size=1)"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-37",
    "href": "presentaciones/5.4-filogenias.html#section-37",
    "title": "Filogenias en R",
    "section": "",
    "text": "p4+xlim(0,15)+\n  geom_tiplab(color=\"navyblue\",offset = 0.5)"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-38",
    "href": "presentaciones/5.4-filogenias.html#section-38",
    "title": "Filogenias en R",
    "section": "",
    "text": "Una vez teniendo este √°rbol parafil√©tico, podemos colocar las imagenes gusto en sus grupos correspondientes, es importante considerar, que las imagenes deben tener el nombre exacto del grupo o especie y el mismo formato:\n\np4+ \n  xlim(NA, 15) + ylim(NA, 5.5)+\n  geom_tiplab(aes(image=paste0(\"imgs/imagenes/\", label, '.jpg')),geom=\"image\", offset=3, align=1, size=0.18)+\n  geom_tiplab(geom=\"label\",color=\"black\",fill=\"white\")"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-39",
    "href": "presentaciones/5.4-filogenias.html#section-39",
    "title": "Filogenias en R",
    "section": "",
    "text": "Tambi√©n es posible agregar especies a la filogenia dentro de sus respectivos generos, pero hay que tener cuidado con esto, pues posiblemente nos genere politom√≠as o colocarlas de manera discordante, y esto puede ser probl√©matico para estudios de diversificaci√≥n o evoluci√≥n de atributos."
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-40",
    "href": "presentaciones/5.4-filogenias.html#section-40",
    "title": "Filogenias en R",
    "section": "",
    "text": "Volveremos a usar nuestra filogenia de grupos y le agregaremos dos especies de Icterus y una especie de Quiscalus\n\ngrouptree&lt;-ictree %&gt;%\nkeep.tip(c(\"Quiscalus_mexicanus\", \"Icterus_galbula\",\"Molothrus_aeneus\",\"Agelaius_phoeniceus\",\"Psarocolius_montezuma\"))\nggtree(grouptree)+\n  xlim(0,15)+\n  geom_tiplab(color=\"blue\")"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-41",
    "href": "presentaciones/5.4-filogenias.html#section-41",
    "title": "Filogenias en R",
    "section": "",
    "text": "Para agregar las especies, utilizamos la funci√≥n add.species.to.genus de phytools:\n\ngrouptree2&lt;-grouptree\ngrouptree2&lt;-add.species.to.genus(grouptree2,\"Quiscalus_quiscula\")\ngrouptree2&lt;-add.species.to.genus(grouptree2,\"Icterus_bullocki\")\ngrouptree2&lt;-add.species.to.genus(grouptree2,\"Icterus_gullaris\")\nggtree(grouptree2)+\n  xlim(0,20)+\n  geom_tiplab(color=\"blue\")"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-42",
    "href": "presentaciones/5.4-filogenias.html#section-42",
    "title": "Filogenias en R",
    "section": "",
    "text": "Finalmente, se puede usar ggtree, para graficar atributos de las especies en la filogenia.\nPara hacer esto, primero debemos cargar los atributos de los Icteridos, en este caso usaremos el Hand Wing Index (HWI) y el h√°bito migratorio:\n\nhwi&lt;-read.csv(here(\"data\",\"hwi_icteridae.csv\"),header=T)\nhead(hwi)\n\n                     X      HWI\n1   Icterus_melanopsis 26.51912\n2    Icterus_northropi 21.02135\n3   Icterus_laudabilis 22.22500\n4 Icterus_dominicensis 26.52877\n5   Icterus_cayanensis 26.26213\n6 Icterus_pyrrhopterus 17.75463"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-43",
    "href": "presentaciones/5.4-filogenias.html#section-43",
    "title": "Filogenias en R",
    "section": "",
    "text": "migrants&lt;-read.csv(here(\"data\",\"icterimigrants.csv\"),header=T)\nhead(migrants)\n\n                   sp  migratory\n1  Agelaioides_badius No-migrant\n2  Agelaius_assimilis No-migrant\n3  Agelaius_humeralis No-migrant\n4 Agelaius_phoeniceus    Migrant\n5   Agelaius_tricolor No-migrant\n6  Agelaius_xanthomus No-migrant"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-44",
    "href": "presentaciones/5.4-filogenias.html#section-44",
    "title": "Filogenias en R",
    "section": "",
    "text": "Una vez cargados los datos, la manera m√°s f√°cil de utilizarlos es uniendolos a la filogenia usando la funcion full_join, es importante que las especies est√©n etiquetadas como label, para que la funci√≥n las reconozca:\n\nnames(hwi)&lt;-c(\"label\",\"hwi\")\nnames(migrants)&lt;-c(\"label\",\"migratory\")\n\nhwimigrants&lt;-hwi%&gt;%\nleft_join(migrants,by=\"label\")\ndatatree&lt;-full_join(ictree,hwimigrants,by=\"label\")\ndatatree\n\n'treedata' S4 object'.\n\n...@ phylo:\n\nPhylogenetic tree with 100 tips and 99 internal nodes.\n\nTip labels:\n  Icterus_melanopsis, Icterus_northropi, Icterus_laudabilis,\nIcterus_dominicensis, Icterus_cayanensis, Icterus_pyrrhopterus, ...\nNode labels:\n  761, 762, 763, 764, 765, 766, ...\n\nRooted; includes branch lengths.\n\nwith the following features available:\n  '', 'hwi', 'migratory'.\n\n# The associated data tibble abstraction: 199 √ó 5\n# The 'node', 'label' and 'isTip' are from the phylo tree.\n    node label                 isTip   hwi migratory \n   &lt;int&gt; &lt;chr&gt;                 &lt;lgl&gt; &lt;dbl&gt; &lt;chr&gt;     \n 1     1 Icterus_melanopsis    TRUE   26.5 No-migrant\n 2     2 Icterus_northropi     TRUE   21.0 No-migrant\n 3     3 Icterus_laudabilis    TRUE   22.2 No-migrant\n 4     4 Icterus_dominicensis  TRUE   26.5 No-migrant\n 5     5 Icterus_cayanensis    TRUE   26.3 No-migrant\n 6     6 Icterus_pyrrhopterus  TRUE   17.8 No-migrant\n 7     7 Icterus_auricapillus  TRUE   17.3 No-migrant\n 8     8 Icterus_bonana        TRUE   16.9 No-migrant\n 9     9 Icterus_portoricensis TRUE   22.3 No-migrant\n10    10 Icterus_prosthemelas  TRUE   24.1 No-migrant\n# ‚Ñπ 189 more rows"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-45",
    "href": "presentaciones/5.4-filogenias.html#section-45",
    "title": "Filogenias en R",
    "section": "",
    "text": "¬°Listo! Ahora tenemos una filogenia con atributos y podemos gr√°ficarlos juntos\nPrimero gr√°ficaremos los valores continuos del HWI sobre las puntas del √°rbol en una escala de colores:\n\np5&lt;-ggtree(datatree)\np5+\n  geom_tippoint(aes(color=hwi))"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-46",
    "href": "presentaciones/5.4-filogenias.html#section-46",
    "title": "Filogenias en R",
    "section": "",
    "text": "podemos tambi√©n personalizar esta escala:\n\np5+\n  geom_tippoint(aes(color=hwi),shape=15)+\n  scale_colour_gradient(low='blue', high='red',breaks= c(15,20,25,30,35))"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-47",
    "href": "presentaciones/5.4-filogenias.html#section-47",
    "title": "Filogenias en R",
    "section": "",
    "text": "¬øY c√≥mo se ver√≠an los datos binarios?\n\np5+\n  geom_tippoint(aes(color=migratory),shape=15)+\n    scale_colour_manual(values = c(\"green\",\"orange\"))"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-48",
    "href": "presentaciones/5.4-filogenias.html#section-48",
    "title": "Filogenias en R",
    "section": "",
    "text": "y ¬øPueden combinarse?\nEsto puede hacerse con un lenguaje de dplyr\n\npx&lt;- py%&lt;+% migrants + geom_tippoint(aes(color=migratory),shape=15)+\n  scale_color_manual(values = c(\"#961d29\",\"#1420a3\"))+\n  scale_fill_manual(values = c(\"#961d29\",\"#1420a3\"))\n  \n  \npx+ geom_facet(panel=\"HWI\",data = hwi,geom=geom_col,mapping=aes(x=hwi,color=migratory,fill=migratory),orientation='y')+\n    theme_tree2()"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-49",
    "href": "presentaciones/5.4-filogenias.html#section-49",
    "title": "Filogenias en R",
    "section": "",
    "text": "Pero, ¬øQu√© pasa si no me s√© la taxonom√≠a o no tengo la filogen√≠a del grupo que estoy estudiando?"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-50",
    "href": "presentaciones/5.4-filogenias.html#section-50",
    "title": "Filogenias en R",
    "section": "",
    "text": "¬øSe acuerdan de esta filogenia?"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-51",
    "href": "presentaciones/5.4-filogenias.html#section-51",
    "title": "Filogenias en R",
    "section": "",
    "text": "Haciendo uso de recursos en l√≠nea como Open tree of Life(OTL), podemoos obtener una filogenia utilizando las especies que necesitemos."
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-52",
    "href": "presentaciones/5.4-filogenias.html#section-52",
    "title": "Filogenias en R",
    "section": "",
    "text": "OTL tiene un √∫til paquete en R (rotl), que usaremos para obtener la filogenia con la planta, aves y mamiferos.\n\n\n\nProgress [---------------------------------] 0/211 (  0%) ?s\nProgress [==============================] 211/211 (100%)  0s"
  },
  {
    "objectID": "presentaciones/5.4-filogenias.html#section-54",
    "href": "presentaciones/5.4-filogenias.html#section-54",
    "title": "Filogenias en R",
    "section": "",
    "text": "Para la funci√≥n de rtol, no es necesario introducir las especies en orden, ya que √©sta recuperar√° la taxonomia v√°lida y nos arrojar√° una filogenia podada.\nEn este caso, OTL nos regres√≥ exactamente la misma filogenia que creamos al principio:"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#temas-de-este-bloque",
    "href": "presentaciones/4-LQNNESR.html#temas-de-este-bloque",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Temas de este bloque:",
    "text": "Temas de este bloque:\n‚Äì Entornos de trabajo y configuraci√≥n\n‚Äì Iteraci√≥n y vectorizaci√≥n para evitar repetici√≥n\n‚Äì Trabajando con listas\n‚Äì Manejo de matrices\n‚Äì Atajos y herramientas para mayor eficiencia\n‚Äì Errores comunes y c√≥mo buscar soluciones\n\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#personalizaci√≥n",
    "href": "presentaciones/4-LQNNESR.html#personalizaci√≥n",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Personalizaci√≥n",
    "text": "Personalizaci√≥n\n\nColores para el IDE - üîó tmThemeEditor por Allen Bargi\n\n\n\nNadie nos va a tomar en serio en la cafeter√≠a si no programamos con un fondo oscuro\n\n\n-Jared Lander\nüìº R: Then and now\n\n\n\nFuentes y texto - üîó Nerd Fonts\nDisposici√≥n de los p√°neles"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#personalizando-el-arranque-en-r",
    "href": "presentaciones/4-LQNNESR.html#personalizando-el-arranque-en-r",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Personalizando el arranque en R",
    "text": "Personalizando el arranque en R\nEl archivo .Rprofile file contiene c√≥digo que se ejecuta cada que arrancamos R.\n .Rprofile generalmente vive en nuestro directorio de inicio\nPodemos modificarlo con usethis::edit_r_profile()\nUsar con precauci√≥n para no perder reproducibilidad\n\n\nR Startup\nWhat they forgot to teach you about R"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#arranque",
    "href": "presentaciones/4-LQNNESR.html#arranque",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Arranque",
    "text": "Arranque\n\nSaludos o recordatorios con cowsay\n\n\n#&gt;  ----- \n#&gt; No olviden tomar mucha agua \n#&gt;  ------ \n#&gt;     \\   \n#&gt;      \\\n#&gt;   &gt;&lt;((((¬∫&gt;  &gt;&lt;((((¬∫&gt;  &gt;&lt;((((¬∫&gt;  &gt;&lt;((((¬∫&gt;  &gt;&lt;((((¬∫&gt;\n#&gt;       \n\n\nAyuda con errores de dedo con fcuk\n\n\n&gt; lenght(1:12)\nError in lenght(1:12) : could not find function \"lenght\"\n&gt; fcuk::init_error_tracker()\n&gt; lenght(1:12)\nError in lenght(1:12) : could not find function \"lenght\"\nDid you mean : length or ...length ?"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#aplicando-una-funci√≥n-varias-veces",
    "href": "presentaciones/4-LQNNESR.html#aplicando-una-funci√≥n-varias-veces",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Aplicando una funci√≥n varias veces",
    "text": "Aplicando una funci√≥n varias veces\nCopiar/pegar c√≥digo para editarlo en an√°lisis repetitivos agrega pasos innecesarios, pierde tiempo, y aumenta el riesgo de introducir errores\n\n\n\nNick Holt (2017)\nFunction Iterations in R"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#ejercicio---futbol",
    "href": "presentaciones/4-LQNNESR.html#ejercicio---futbol",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Ejercicio - futbol",
    "text": "Ejercicio - futbol\nEl archivo tabla_futbol.csv contiene la clasifici√≥n en la tabla global de la FIFA de los primeros 20 pa√≠ses de 1994 a 2022. Agrupa paises en diferentes confederaciones.\n\n¬øDe qu√© confederaci√≥n fue el equipo 20 cada a√±o?\nej. para 1994 Zambia fue #20 y su confederaci√≥n es ‚ÄúCAF‚Äù"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#section",
    "href": "presentaciones/4-LQNNESR.html#section",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "",
    "text": "Copiando, pegando, y editando\n\nranking1994 &lt;- fifa20esp[fifa20esp$periodo==\"1994-06-14\",]\npais201994 &lt;- ranking1994[ranking1994$posicion==20,]$pais\npais201994\nranking1995 &lt;- fifa20esp[fifa20esp$periodo==\"1995-06-13\",]\npais201995 &lt;- ranking1995[ranking1995$posicion==20,]$pais\npais201995\n\n\nSiguiendo as√≠ seguramente introducimos alg√∫n error poco evidente y dif√≠cil de detectar"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#datos-agrupados",
    "href": "presentaciones/4-LQNNESR.html#datos-agrupados",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Datos agrupados",
    "text": "Datos agrupados\nLa mayor√≠a de nuestras tareas se pueden desarrollar siguiendo el paradigma ‚Äúdividir-aplicar-combinar‚Äù ( ‚Äúsplit-apply-combine‚Äù):\n\ndividir los datos en grupos\naplicar alguna funci√≥n a cada grupo\ncombinar los resultados\n\n\n\nData Carpentry (2018)\nAggregating and analyzing data with dplyr\nHadley Wickham (2011)\nThe split-apply-combine strategy for data analysis"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#dplyrgroup_by",
    "href": "presentaciones/4-LQNNESR.html#dplyrgroup_by",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "dplyr::group_by()",
    "text": "dplyr::group_by()\n\nDefine grupos seg√∫n una o m√°s variables\n\nEstratifica un data frame\n\nequivalente a aggregate() y al argumento ‚Äòby =‚Äô de data.table\n\n\nManipulaci√≥n de datos en R con dplyr - Rub√©n S√°nchez"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#trabajando-con-datos-agrupados",
    "href": "presentaciones/4-LQNNESR.html#trabajando-con-datos-agrupados",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Trabajando con datos agrupados",
    "text": "Trabajando con datos agrupados\nCon la versi√≥n agrupada de nuestra tabla, las funciones de dplyr trabajan sobre cada grupo por separado y despu√©s se combinan los resultados.\n\n\n\nRStudio (2021)\nData transformation with dplyr cheatsheet"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#opciones-para-datos-agrupados",
    "href": "presentaciones/4-LQNNESR.html#opciones-para-datos-agrupados",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Opciones para datos agrupados",
    "text": "Opciones para datos agrupados\n\nresumir valores (media, mediana, etc. por grupo)\nextraer las primeras o √∫ltimas n filas por grupo\nidentificar valores m√°ximos o m√≠nimos\neliminar filas repetidas\ncontar observaciones, etc."
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#datos-msleep",
    "href": "presentaciones/4-LQNNESR.html#datos-msleep",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Datos msleep",
    "text": "Datos msleep\nRasgos de 83 especies de mam√≠feros y sus horas de sue√±o. derivados de Savage & West (2007) e incluidos con ggplot2.\n\n\n\n\n\n  \n    \n    \n      name\n      genus\n      vore\n      order\n      conservation\n      sleep_total\n      sleep_rem\n      sleep_cycle\n      awake\n      brainwt\n      bodywt\n    \n  \n  \n    Cheetah\nAcinonyx\ncarni\nCarnivora\nlc\n12.1\nNA\nNA\n11.9\nNA\n50.000\n    Owl monkey\nAotus\nomni\nPrimates\nNA\n17.0\n1.8\nNA\n7.0\n0.01550\n0.480\n    Mountain beaver\nAplodontia\nherbi\nRodentia\nnt\n14.4\n2.4\nNA\n9.6\nNA\n1.350\n    Greater short-tailed shrew\nBlarina\nomni\nSoricomorpha\nlc\n14.9\n2.3\n0.1333333\n9.1\n0.00029\n0.019\n    Cow\nBos\nherbi\nArtiodactyla\ndomesticated\n4.0\n0.7\n0.6666667\n20.0\n0.42300\n600.000\n    Three-toed sloth\nBradypus\nherbi\nPilosa\nNA\n14.4\n2.2\n0.7666667\n9.6\nNA\n3.850"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#m√°ximo-brainwt-para-cada-orden",
    "href": "presentaciones/4-LQNNESR.html#m√°ximo-brainwt-para-cada-orden",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "M√°ximo brainwt para cada orden",
    "text": "M√°ximo brainwt para cada orden\n\n\nmsleep %&gt;% group_by(order) %&gt;% \n  slice_max(brainwt,n=1)\n\n\n\n# A tibble: 21 √ó 11\n# Groups:   order [19]\n   name   genus vore  order conservation sleep_total sleep_rem sleep_cycle awake\n   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;              &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt; &lt;dbl&gt;\n 1 Tenrec Tenr‚Ä¶ omni  Afro‚Ä¶ &lt;NA&gt;                15.6       2.3      NA       8.4\n 2 Cow    Bos   herbi Arti‚Ä¶ domesticated         4         0.7       0.667  20  \n 3 Gray ‚Ä¶ Hali‚Ä¶ carni Carn‚Ä¶ lc                   6.2       1.5      NA      17.8\n 4 Pilot‚Ä¶ Glob‚Ä¶ carni Ceta‚Ä¶ cd                   2.7       0.1      NA      21.4\n 5 Commo‚Ä¶ Phoc‚Ä¶ carni Ceta‚Ä¶ vu                   5.6      NA        NA      18.4\n 6 Bottl‚Ä¶ Turs‚Ä¶ carni Ceta‚Ä¶ &lt;NA&gt;                 5.2      NA        NA      18.8\n 7 Big b‚Ä¶ Epte‚Ä¶ inse‚Ä¶ Chir‚Ä¶ lc                  19.7       3.9       0.117   4.3\n 8 Giant‚Ä¶ Prio‚Ä¶ inse‚Ä¶ Cing‚Ä¶ en                  18.1       6.1      NA       5.9\n 9 North‚Ä¶ Dide‚Ä¶ omni  Dide‚Ä¶ lc                  18         4.9       0.333   6  \n10 Phala‚Ä¶ Phal‚Ä¶ &lt;NA&gt;  Dipr‚Ä¶ &lt;NA&gt;                13.7       1.8      NA      10.3\n# ‚Ñπ 11 more rows\n# ‚Ñπ 2 more variables: brainwt &lt;dbl&gt;, bodywt &lt;dbl&gt;"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#muestrar-una-fila-al-azar-de-cada-grupo",
    "href": "presentaciones/4-LQNNESR.html#muestrar-una-fila-al-azar-de-cada-grupo",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Muestrar una fila al azar de cada grupo",
    "text": "Muestrar una fila al azar de cada grupo\n\n\nmsleep %&gt;% group_by(order) %&gt;% \n  slice_sample(n=1)\n\n\n\n# A tibble: 19 √ó 11\n# Groups:   order [19]\n   name   genus vore  order conservation sleep_total sleep_rem sleep_cycle awake\n   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;              &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt; &lt;dbl&gt;\n 1 Tenrec Tenr‚Ä¶ omni  Afro‚Ä¶ &lt;NA&gt;                15.6       2.3      NA       8.4\n 2 Roe d‚Ä¶ Capr‚Ä¶ herbi Arti‚Ä¶ lc                   3        NA        NA      21  \n 3 Arcti‚Ä¶ Vulp‚Ä¶ carni Carn‚Ä¶ &lt;NA&gt;                12.5      NA        NA      11.5\n 4 Pilot‚Ä¶ Glob‚Ä¶ carni Ceta‚Ä¶ cd                   2.7       0.1      NA      21.4\n 5 Littl‚Ä¶ Myot‚Ä¶ inse‚Ä¶ Chir‚Ä¶ &lt;NA&gt;                19.9       2         0.2     4.1\n 6 Giant‚Ä¶ Prio‚Ä¶ inse‚Ä¶ Cing‚Ä¶ en                  18.1       6.1      NA       5.9\n 7 North‚Ä¶ Dide‚Ä¶ omni  Dide‚Ä¶ lc                  18         4.9       0.333   6  \n 8 Potor‚Ä¶ Poto‚Ä¶ herbi Dipr‚Ä¶ &lt;NA&gt;                11.1       1.5      NA      12.9\n 9 Deser‚Ä¶ Para‚Ä¶ &lt;NA&gt;  Erin‚Ä¶ lc                  10.3       2.7      NA      13.7\n10 Rock ‚Ä¶ Proc‚Ä¶ &lt;NA&gt;  Hyra‚Ä¶ lc                   5.4       0.5      NA      18.6\n11 Rabbit Oryc‚Ä¶ herbi Lago‚Ä¶ domesticated         8.4       0.9       0.417  15.6\n12 Short‚Ä¶ Tach‚Ä¶ inse‚Ä¶ Mono‚Ä¶ &lt;NA&gt;                 8.6      NA        NA      15.4\n13 Horse  Equus herbi Peri‚Ä¶ domesticated         2.9       0.6       1      21.1\n14 Three‚Ä¶ Brad‚Ä¶ herbi Pilo‚Ä¶ &lt;NA&gt;                14.4       2.2       0.767   9.6\n15 Macaq‚Ä¶ Maca‚Ä¶ omni  Prim‚Ä¶ &lt;NA&gt;                10.1       1.2       0.75   13.9\n16 Afric‚Ä¶ Loxo‚Ä¶ herbi Prob‚Ä¶ vu                   3.3      NA        NA      20.7\n17 Weste‚Ä¶ Euta‚Ä¶ herbi Rode‚Ä¶ &lt;NA&gt;                14.9      NA        NA       9.1\n18 Tree ‚Ä¶ Tupa‚Ä¶ omni  Scan‚Ä¶ &lt;NA&gt;                 8.9       2.6       0.233  15.1\n19 Lesse‚Ä¶ Cryp‚Ä¶ omni  Sori‚Ä¶ lc                   9.1       1.4       0.15   14.9\n# ‚Ñπ 2 more variables: brainwt &lt;dbl&gt;, bodywt &lt;dbl&gt;"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#resumiendo-valores",
    "href": "presentaciones/4-LQNNESR.html#resumiendo-valores",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Resumiendo valores",
    "text": "Resumiendo valores\n\n\nmsleep %&gt;% group_by(order) %&gt;% \n  summarize(mediana_slp = median(sleep_total),\n            media_brainwt=mean(brainwt))\n\n\n\n# A tibble: 19 √ó 3\n   order           mediana_slp media_brainwt\n   &lt;chr&gt;                 &lt;dbl&gt;         &lt;dbl&gt;\n 1 Afrosoricida           15.6      0.0026  \n 2 Artiodactyla            3.9     NA       \n 3 Carnivora              10.2     NA       \n 4 Cetacea                 5.2     NA       \n 5 Chiroptera             19.8      0.000275\n 6 Cingulata              17.8      0.0459  \n 7 Didelphimorphia        18.7     NA       \n 8 Diprotodontia          12.4     NA       \n 9 Erinaceomorpha         10.2      0.00295 \n10 Hyracoidea              5.4      0.0152  \n11 Lagomorpha              8.4      0.0121  \n12 Monotremata             8.6      0.025   \n13 Perissodactyla          3.1      0.414   \n14 Pilosa                 14.4     NA       \n15 Primates                9.9     NA       \n16 Proboscidea             3.6      5.16    \n17 Rodentia               12.9     NA       \n18 Scandentia              8.9      0.0025  \n19 Soricomorpha           10.3      0.000592"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#bucles-for-loops",
    "href": "presentaciones/4-LQNNESR.html#bucles-for-loops",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Bucles (for loops)",
    "text": "Bucles (for loops)\n\nDe gran utilidad\nNo siempre es necesario escribirlos de 0\n\n\n\n\n\n\n\nJenny Bryan\npurrr tutorial\nData Rectangling\npurrr workshop"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#bucles",
    "href": "presentaciones/4-LQNNESR.html#bucles",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Bucles",
    "text": "Bucles\n\n\n\n\nfor (value in sequence){\n   statement(s)\n}\n\n\nExecuta una serie de enunciados (statements), una vez para cada elemento de un vector o lista. Se detiene al llegar al √∫ltimo elemento.\n\n\n\nfor (x in 1:7){\n  print(x)\n} \n\n[1] 1\n[1] 2\n[1] 3\n[1] 4\n[1] 5\n[1] 6\n[1] 7"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#ejercicio---loops",
    "href": "presentaciones/4-LQNNESR.html#ejercicio---loops",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Ejercicio - loops",
    "text": "Ejercicio - loops\nEscribir un bucle para imprimir en la consola cada letra del alfabeto, en min√∫scula y en orden descendiente (z,y,x,w‚Ä¶) \n\n\n\n\n\n\n\n\n\nhay constantes preinstaladas en R que les pueden servir"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#bucles-y-grupos",
    "href": "presentaciones/4-LQNNESR.html#bucles-y-grupos",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Bucles y grupos",
    "text": "Bucles y grupos\n\n\nmsleep %&gt;% \n  group_by(order) %&gt;% # para cada orden\n  slice_sample(1) # declaraci√≥n a ejecutar \n\n\nTodo se queda dentro del data frame"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#vectorizaci√≥n",
    "href": "presentaciones/4-LQNNESR.html#vectorizaci√≥n",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Vectorizaci√≥n",
    "text": "Vectorizaci√≥n\nOperaciones que ocurren en paralelo en todos los elementos (de un vector, lista, etc.) y no uno por uno en cada elemento\n¬øAqu√≠ qu√© pasa?\n\n\nx &lt;- c(1,3,12,4,7,8)\nx &gt; 5"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#los-operadores-l√≥gicos-entre-muchos-otros-son-vectorizados",
    "href": "presentaciones/4-LQNNESR.html#los-operadores-l√≥gicos-entre-muchos-otros-son-vectorizados",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Los operadores l√≥gicos (entre muchos otros) son vectorizados",
    "text": "Los operadores l√≥gicos (entre muchos otros) son vectorizados\n\n\nx &lt;- c(1,3,12,4,7,8)\nx &gt; 5\n\n[1] FALSE FALSE  TRUE FALSE  TRUE  TRUE\n\n\n\nNo hace falta teclear todo √©sto o escribir un bucle\n\n\nx[1]&gt;5 ; x[2]&gt;5\nx[3]&gt;5 ; x[4]&gt;5\nx[5]&gt;5 ; x[6]&gt;5"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#cuando-s√≠-necesitemos-iterar",
    "href": "presentaciones/4-LQNNESR.html#cuando-s√≠-necesitemos-iterar",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Cuando s√≠ necesitemos iterar:",
    "text": "Cuando s√≠ necesitemos iterar:\n\n\n\n\nüì¶ purrr - Herramientas para programaci√≥n funcional\n\nfunciones map que aplican una funci√≥n a cada elemento de un input y devuelve un resultado de la misma longitud que el input\ntrabaja bien con listas\nc√≥digo legible y conciso\n\n\n\n\n\nThomas Mock (2018)\nFunctional Programming in R with purrr"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#mapeando-funciones-a-datos",
    "href": "presentaciones/4-LQNNESR.html#mapeando-funciones-a-datos",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "‚ÄúMapeando‚Äù funciones a datos",
    "text": "‚ÄúMapeando‚Äù funciones a datos\n map(.x,.f)\n.f se puede especificar como:\n\n\nuna funci√≥n existente\nuna funci√≥n an√≥nima definida sobre la marcha\nuna f√≥rmula: notaci√≥n abreviada para funciones\nuna funci√≥n an√≥nima abreviada (shorthand) en versiones recientes de R"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#funciones",
    "href": "presentaciones/4-LQNNESR.html#funciones",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Funciones",
    "text": "Funciones\n\nLearn by Example.com"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#definiendo-funciones",
    "href": "presentaciones/4-LQNNESR.html#definiendo-funciones",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Definiendo funciones",
    "text": "Definiendo funciones\nusamos la funci√≥n ‚Äòfunction()‚Äô\nfunction( arglist ) expr\n\nargumentos (arglist): valores para la funci√≥n\nexpresi√≥n (expr): un objeto que representa una acci√≥n que R puede hacer\n\n\n\n\n\n\n\n\n\nLas expresiones pueden tener una o ma≈õ declaraciones"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#definiendo-funciones-1",
    "href": "presentaciones/4-LQNNESR.html#definiendo-funciones-1",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Definiendo funciones",
    "text": "Definiendo funciones\n\n\nmi_funcion &lt;- function(mi_argumento){\n  mi_argumento+1 # declaraci√≥n\n}\n\nmi_vector &lt;- c(3,5,6,7)\n\nmi_funcion(mi_argumento = mi_vector)\n\n[1] 4 6 7 8"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#funciones-an√≥nimas",
    "href": "presentaciones/4-LQNNESR.html#funciones-an√≥nimas",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Funciones an√≥nimas",
    "text": "Funciones an√≥nimas\nFunciones para llevar (se crean y se ejecutan pero nunca se asignan a un objeto con nombre)\nSintaxis\n\n\n(function(x) x * x + 3)(10)\n\n[1] 103\n\n\n\nLa definici√≥n va entre par√©ntesis para separar la funci√≥n de sus argumentos"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#notation-corta-desde-r-v4.1.0",
    "href": "presentaciones/4-LQNNESR.html#notation-corta-desde-r-v4.1.0",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Notation corta (desde R v4.1.0)",
    "text": "Notation corta (desde R v4.1.0)\nReemplaza ‚Äúfunction(x) {}‚Äù con ‚Äú\\(x){}‚Äù\n\n\n(\\(x) x + 3)(10)\n\n[1] 13\n\n(\\(x) x / 2)(10)\n\n[1] 5\n\n\n\n\n\nRuss Hyde (2021)\nNew features in R 4.1.0\n\n\n\n\n\n\n\n\n\n\n\nLos desarroladores del tidyverse est√°n migrando al uso de esta notaci√≥n"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#funciones-an√≥nimas-1",
    "href": "presentaciones/4-LQNNESR.html#funciones-an√≥nimas-1",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Funciones an√≥nimas",
    "text": "Funciones an√≥nimas\n\n√ötiles para aplicar una funci√≥n personalizada a varios elementos a la vez\nTambi√©n conocidas como expresiones lambda\nAutocontenidas\nComparables con m√©todos parecidos en Python"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#por-qu√©-escribir-nuestras-propias-funciones",
    "href": "presentaciones/4-LQNNESR.html#por-qu√©-escribir-nuestras-propias-funciones",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Por qu√© escribir nuestras propias funciones",
    "text": "Por qu√© escribir nuestras propias funciones\n\nMenos repetici√≥n\nMayor brevedad\nMenor posibilidad de errores\nAprovechar las herramientas que nos dejan aplicar funciones a muchos elementos a la vez\n\n\n\nJenny Bryan - Stat545\nWrite your own R functions"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#listas-1",
    "href": "presentaciones/4-LQNNESR.html#listas-1",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Listas",
    "text": "Listas\nObjetos que pueden contenter elementos de diferentes tipos como n√∫meros, cadenas de texto, vectors, tablas, o incluso m√°s listas\n\n\nmi_lista &lt;- list(\n  un_numero = 7,\n  un_vector = c(\"rata\", \"gato\", \"taco\"),\n  un_dataframe = data.frame(\n    a = 1:3, b = c(\"K\", \"L\", \"M\")))\n\n\n\n\nRebecca Barter (2019)\nLearn to purrr"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#podemos-creas-listas-partiendo-otros-objetos",
    "href": "presentaciones/4-LQNNESR.html#podemos-creas-listas-partiendo-otros-objetos",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Podemos creas listas partiendo otros objetos",
    "text": "Podemos creas listas partiendo otros objetos\nSeparando una data frame agrupada en una lista de data frames, una para cada grupo.\n\ngremios &lt;- \n  msleep %&gt;% group_by(vore) %&gt;%\n  group_split()"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#section-4",
    "href": "presentaciones/4-LQNNESR.html#section-4",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "",
    "text": "gremios\n\n&lt;list_of&lt;\n  tbl_df&lt;\n    name        : character\n    genus       : character\n    vore        : character\n    order       : character\n    conservation: character\n    sleep_total : double\n    sleep_rem   : double\n    sleep_cycle : double\n    awake       : double\n    brainwt     : double\n    bodywt      : double\n  &gt;\n&gt;[5]&gt;\n[[1]]\n# A tibble: 19 √ó 11\n   name   genus vore  order conservation sleep_total sleep_rem sleep_cycle awake\n   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;              &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt; &lt;dbl&gt;\n 1 Cheet‚Ä¶ Acin‚Ä¶ carni Carn‚Ä¶ lc                  12.1      NA        NA      11.9\n 2 North‚Ä¶ Call‚Ä¶ carni Carn‚Ä¶ vu                   8.7       1.4       0.383  15.3\n 3 Dog    Canis carni Carn‚Ä¶ domesticated        10.1       2.9       0.333  13.9\n 4 Long-‚Ä¶ Dasy‚Ä¶ carni Cing‚Ä¶ lc                  17.4       3.1       0.383   6.6\n 5 Domes‚Ä¶ Felis carni Carn‚Ä¶ domesticated        12.5       3.2       0.417  11.5\n 6 Pilot‚Ä¶ Glob‚Ä¶ carni Ceta‚Ä¶ cd                   2.7       0.1      NA      21.4\n 7 Gray ‚Ä¶ Hali‚Ä¶ carni Carn‚Ä¶ lc                   6.2       1.5      NA      17.8\n 8 Thick‚Ä¶ Lutr‚Ä¶ carni Dide‚Ä¶ lc                  19.4       6.6      NA       4.6\n 9 Slow ‚Ä¶ Nyct‚Ä¶ carni Prim‚Ä¶ &lt;NA&gt;                11        NA        NA      13  \n10 North‚Ä¶ Onyc‚Ä¶ carni Rode‚Ä¶ lc                  14.5      NA        NA       9.5\n11 Tiger  Pant‚Ä¶ carni Carn‚Ä¶ en                  15.8      NA        NA       8.2\n12 Jaguar Pant‚Ä¶ carni Carn‚Ä¶ nt                  10.4      NA        NA      13.6\n13 Lion   Pant‚Ä¶ carni Carn‚Ä¶ vu                  13.5      NA        NA      10.5\n14 Caspi‚Ä¶ Phoca carni Carn‚Ä¶ vu                   3.5       0.4      NA      20.5\n15 Commo‚Ä¶ Phoc‚Ä¶ carni Ceta‚Ä¶ vu                   5.6      NA        NA      18.4\n16 Bottl‚Ä¶ Turs‚Ä¶ carni Ceta‚Ä¶ &lt;NA&gt;                 5.2      NA        NA      18.8\n17 Genet  Gene‚Ä¶ carni Carn‚Ä¶ &lt;NA&gt;                 6.3       1.3      NA      17.7\n18 Arcti‚Ä¶ Vulp‚Ä¶ carni Carn‚Ä¶ &lt;NA&gt;                12.5      NA        NA      11.5\n19 Red f‚Ä¶ Vulp‚Ä¶ carni Carn‚Ä¶ &lt;NA&gt;                 9.8       2.4       0.35   14.2\n# ‚Ñπ 2 more variables: brainwt &lt;dbl&gt;, bodywt &lt;dbl&gt;\n\n[[2]]\n# A tibble: 32 √ó 11\n   name   genus vore  order conservation sleep_total sleep_rem sleep_cycle awake\n   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;              &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt; &lt;dbl&gt;\n 1 Mount‚Ä¶ Aplo‚Ä¶ herbi Rode‚Ä¶ nt                  14.4       2.4      NA       9.6\n 2 Cow    Bos   herbi Arti‚Ä¶ domesticated         4         0.7       0.667  20  \n 3 Three‚Ä¶ Brad‚Ä¶ herbi Pilo‚Ä¶ &lt;NA&gt;                14.4       2.2       0.767   9.6\n 4 Roe d‚Ä¶ Capr‚Ä¶ herbi Arti‚Ä¶ lc                   3        NA        NA      21  \n 5 Goat   Capri herbi Arti‚Ä¶ lc                   5.3       0.6      NA      18.7\n 6 Guine‚Ä¶ Cavis herbi Rode‚Ä¶ domesticated         9.4       0.8       0.217  14.6\n 7 Chinc‚Ä¶ Chin‚Ä¶ herbi Rode‚Ä¶ domesticated        12.5       1.5       0.117  11.5\n 8 Tree ‚Ä¶ Dend‚Ä¶ herbi Hyra‚Ä¶ lc                   5.3       0.5      NA      18.7\n 9 Asian‚Ä¶ Elep‚Ä¶ herbi Prob‚Ä¶ en                   3.9      NA        NA      20.1\n10 Horse  Equus herbi Peri‚Ä¶ domesticated         2.9       0.6       1      21.1\n# ‚Ñπ 22 more rows\n# ‚Ñπ 2 more variables: brainwt &lt;dbl&gt;, bodywt &lt;dbl&gt;\n\n[[3]]\n# A tibble: 5 √ó 11\n  name    genus vore  order conservation sleep_total sleep_rem sleep_cycle awake\n  &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;              &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt; &lt;dbl&gt;\n1 Big br‚Ä¶ Epte‚Ä¶ inse‚Ä¶ Chir‚Ä¶ lc                  19.7       3.9       0.117   4.3\n2 Little‚Ä¶ Myot‚Ä¶ inse‚Ä¶ Chir‚Ä¶ &lt;NA&gt;                19.9       2         0.2     4.1\n3 Giant ‚Ä¶ Prio‚Ä¶ inse‚Ä¶ Cing‚Ä¶ en                  18.1       6.1      NA       5.9\n4 Easter‚Ä¶ Scal‚Ä¶ inse‚Ä¶ Sori‚Ä¶ lc                   8.4       2.1       0.167  15.6\n5 Short-‚Ä¶ Tach‚Ä¶ inse‚Ä¶ Mono‚Ä¶ &lt;NA&gt;                 8.6      NA        NA      15.4\n# ‚Ñπ 2 more variables: brainwt &lt;dbl&gt;, bodywt &lt;dbl&gt;\n\n[[4]]\n# A tibble: 20 √ó 11\n   name   genus vore  order conservation sleep_total sleep_rem sleep_cycle awake\n   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;              &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt; &lt;dbl&gt;\n 1 Owl m‚Ä¶ Aotus omni  Prim‚Ä¶ &lt;NA&gt;                17         1.8      NA       7  \n 2 Great‚Ä¶ Blar‚Ä¶ omni  Sori‚Ä¶ lc                  14.9       2.3       0.133   9.1\n 3 Grivet Cerc‚Ä¶ omni  Prim‚Ä¶ lc                  10         0.7      NA      14  \n 4 Star-‚Ä¶ Cond‚Ä¶ omni  Sori‚Ä¶ lc                  10.3       2.2      NA      13.7\n 5 Afric‚Ä¶ Cric‚Ä¶ omni  Rode‚Ä¶ &lt;NA&gt;                 8.3       2        NA      15.7\n 6 Lesse‚Ä¶ Cryp‚Ä¶ omni  Sori‚Ä¶ lc                   9.1       1.4       0.15   14.9\n 7 North‚Ä¶ Dide‚Ä¶ omni  Dide‚Ä¶ lc                  18         4.9       0.333   6  \n 8 Europ‚Ä¶ Erin‚Ä¶ omni  Erin‚Ä¶ lc                  10.1       3.5       0.283  13.9\n 9 Patas‚Ä¶ Eryt‚Ä¶ omni  Prim‚Ä¶ lc                  10.9       1.1      NA      13.1\n10 Galago Gala‚Ä¶ omni  Prim‚Ä¶ &lt;NA&gt;                 9.8       1.1       0.55   14.2\n11 Human  Homo  omni  Prim‚Ä¶ &lt;NA&gt;                 8         1.9       1.5    16  \n12 Macaq‚Ä¶ Maca‚Ä¶ omni  Prim‚Ä¶ &lt;NA&gt;                10.1       1.2       0.75   13.9\n13 Chimp‚Ä¶ Pan   omni  Prim‚Ä¶ &lt;NA&gt;                 9.7       1.4       1.42   14.3\n14 Baboon Papio omni  Prim‚Ä¶ &lt;NA&gt;                 9.4       1         0.667  14.6\n15 Potto  Pero‚Ä¶ omni  Prim‚Ä¶ lc                  11        NA        NA      13  \n16 Afric‚Ä¶ Rhab‚Ä¶ omni  Rode‚Ä¶ &lt;NA&gt;                 8.7      NA        NA      15.3\n17 Squir‚Ä¶ Saim‚Ä¶ omni  Prim‚Ä¶ &lt;NA&gt;                 9.6       1.4      NA      14.4\n18 Pig    Sus   omni  Arti‚Ä¶ domesticated         9.1       2.4       0.5    14.9\n19 Tenrec Tenr‚Ä¶ omni  Afro‚Ä¶ &lt;NA&gt;                15.6       2.3      NA       8.4\n20 Tree ‚Ä¶ Tupa‚Ä¶ omni  Scan‚Ä¶ &lt;NA&gt;                 8.9       2.6       0.233  15.1\n# ‚Ñπ 2 more variables: brainwt &lt;dbl&gt;, bodywt &lt;dbl&gt;\n\n[[5]]\n# A tibble: 7 √ó 11\n  name    genus vore  order conservation sleep_total sleep_rem sleep_cycle awake\n  &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;              &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt; &lt;dbl&gt;\n1 Vesper‚Ä¶ Calo‚Ä¶ &lt;NA&gt;  Rode‚Ä¶ &lt;NA&gt;                 7        NA        NA      17  \n2 Desert‚Ä¶ Para‚Ä¶ &lt;NA&gt;  Erin‚Ä¶ lc                  10.3       2.7      NA      13.7\n3 Deer m‚Ä¶ Pero‚Ä¶ &lt;NA&gt;  Rode‚Ä¶ &lt;NA&gt;                11.5      NA        NA      12.5\n4 Phalan‚Ä¶ Phal‚Ä¶ &lt;NA&gt;  Dipr‚Ä¶ &lt;NA&gt;                13.7       1.8      NA      10.3\n5 Rock h‚Ä¶ Proc‚Ä¶ &lt;NA&gt;  Hyra‚Ä¶ lc                   5.4       0.5      NA      18.6\n6 Mole r‚Ä¶ Spal‚Ä¶ &lt;NA&gt;  Rode‚Ä¶ &lt;NA&gt;                10.6       2.4      NA      13.4\n7 Musk s‚Ä¶ Sunc‚Ä¶ &lt;NA&gt;  Sori‚Ä¶ &lt;NA&gt;                12.8       2         0.183  11.2\n# ‚Ñπ 2 more variables: brainwt &lt;dbl&gt;, bodywt &lt;dbl&gt;"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#section-5",
    "href": "presentaciones/4-LQNNESR.html#section-5",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "",
    "text": "class(gremios)\n\n[1] \"vctrs_list_of\" \"vctrs_vctr\"    \"list\""
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#section-6",
    "href": "presentaciones/4-LQNNESR.html#section-6",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "",
    "text": "group_keys() regresa los grupos\n\n\nmsleep %&gt;% group_by(vore) %&gt;%\n  group_keys()\n\n# A tibble: 5 √ó 1\n  vore   \n  &lt;chr&gt;  \n1 carni  \n2 herbi  \n3 insecti\n4 omni   \n5 &lt;NA&gt;"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#indexando-listas",
    "href": "presentaciones/4-LQNNESR.html#indexando-listas",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "‚ÄòIndexando‚Äô listas",
    "text": "‚ÄòIndexando‚Äô listas\n\nHadley Wickam (2015) en Twitter"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#accediendo-a-elementos-de-listas",
    "href": "presentaciones/4-LQNNESR.html#accediendo-a-elementos-de-listas",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Accediendo a elementos de listas",
    "text": "Accediendo a elementos de listas\nPrimer elemento ([[1]])\n\ngremios[[1]] %&gt;% \n  select(name,genus) %&gt;% head\n\n# A tibble: 6 √ó 2\n  name                 genus        \n  &lt;chr&gt;                &lt;chr&gt;        \n1 Cheetah              Acinonyx     \n2 Northern fur seal    Callorhinus  \n3 Dog                  Canis        \n4 Long-nosed armadillo Dasypus      \n5 Domestic cat         Felis        \n6 Pilot whale          Globicephalus"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#segundo-elemento",
    "href": "presentaciones/4-LQNNESR.html#segundo-elemento",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Segundo elemento",
    "text": "Segundo elemento\n\ngremios[[2]] %&gt;% \n  select(name,genus, vore, conservation) %&gt;% \n  head\n\n# A tibble: 6 √ó 4\n  name             genus      vore  conservation\n  &lt;chr&gt;            &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;       \n1 Mountain beaver  Aplodontia herbi nt          \n2 Cow              Bos        herbi domesticated\n3 Three-toed sloth Bradypus   herbi &lt;NA&gt;        \n4 Roe deer         Capreolus  herbi lc          \n5 Goat             Capri      herbi lc          \n6 Guinea pig       Cavis      herbi domesticated"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#section-7",
    "href": "presentaciones/4-LQNNESR.html#section-7",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "",
    "text": "Luis (2017)\nExport Iteratively"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#para-qu√©-usar-listas",
    "href": "presentaciones/4-LQNNESR.html#para-qu√©-usar-listas",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "¬øPara qu√© usar listas?",
    "text": "¬øPara qu√© usar listas?\n\nClase versatil para almanecir varios tipos de objetos\nF√°ciles de crear partiendo otros objetos\nCada elemento puede tener nombre"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#mapeo-de-funciones-a-datos",
    "href": "presentaciones/4-LQNNESR.html#mapeo-de-funciones-a-datos",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "‚ÄòMapeo‚Äô de funciones a datos",
    "text": "‚ÄòMapeo‚Äô de funciones a datos\n\nAplicar funciones iterativamente\nImportar varios archivos en un solo comando\nModificar y/o exportar m√∫ltiples objetos"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#aplicar-funciones-iterativamente",
    "href": "presentaciones/4-LQNNESR.html#aplicar-funciones-iterativamente",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Aplicar funciones iterativamente",
    "text": "Aplicar funciones iterativamente\n\nlibrary(datos)\nlibrary(purrr)\n# tres vectores (num√©ricos)\nmasa &lt;- pinguinos$masa_corporal_g\npico &lt;- pinguinos$largo_pico_mm\naleta &lt;- pinguinos$largo_aleta_mm\n# juntarlos en una lista\nrasgos &lt;- list(masa,pico,aleta)\n# aplicar la funci√≥n \"mean\" a cada elemento\nmap(rasgos,mean)\n\n[[1]]\n[1] NA\n\n[[2]]\n[1] NA\n\n[[3]]\n[1] NA"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#section-8",
    "href": "presentaciones/4-LQNNESR.html#section-8",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "",
    "text": "con argumentos adicionales\n\n# aplicar la funci√≥n \"mean\" a cada elemento\nmap(rasgos,mean,na.rm=TRUE)\n\n[[1]]\n[1] 4201.754\n\n[[2]]\n[1] 43.92193\n\n[[3]]\n[1] 200.9152"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#aplicar-funciones-personalizadas-iterativamente",
    "href": "presentaciones/4-LQNNESR.html#aplicar-funciones-personalizadas-iterativamente",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Aplicar funciones personalizadas iterativamente",
    "text": "Aplicar funciones personalizadas iterativamente\n\n\n# obtener min, max, y la diferencia\nresumenMMR &lt;- function(x){\n  min_x &lt;- min(x,na.rm = TRUE)\n  max_x &lt;- max(x,na.rm = TRUE)\n  maxmin &lt;- max_x - min_x\n  c(min_x, max_x, maxmin)\n}"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#probar-con-vectores",
    "href": "presentaciones/4-LQNNESR.html#probar-con-vectores",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Probar con vectores",
    "text": "Probar con vectores\n\n\nresumenMMR(masa)\n\n[1] 2700 6300 3600\n\nresumenMMR(aleta)\n\n[1] 172 231  59"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#map-para-aplicar-nuestra-funci√≥n-a-la-lista",
    "href": "presentaciones/4-LQNNESR.html#map-para-aplicar-nuestra-funci√≥n-a-la-lista",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "map() para aplicar nuestra funci√≥n a la lista",
    "text": "map() para aplicar nuestra funci√≥n a la lista\n\n\n\n\n\n\n\n\n\nSolo usamos el nombre de la funci√≥n\n\n\n\n\n\nmap(.x = rasgos, .f = resumenMMR)\n\n[[1]]\n[1] 2700 6300 3600\n\n[[2]]\n[1] 32.1 59.6 27.5\n\n[[3]]\n[1] 172 231  59"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#map-con-salidas-espec√≠ficas",
    "href": "presentaciones/4-LQNNESR.html#map-con-salidas-espec√≠ficas",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "map() con salidas espec√≠ficas",
    "text": "map() con salidas espec√≠ficas\nmap() regresa listas\nmap_lgl() regresa un vector T/F\nmap_int() regresa un vector num√©rico\nmap_dbl() regresa un vector num√©rcico (con decimales)\nmap_chr() regresa un vector de caracteres\nmap_df() junta todo en un data frame"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#section-10",
    "href": "presentaciones/4-LQNNESR.html#section-10",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "",
    "text": "# regresa una lista\nmap(rasgos, median, na.rm = TRUE)\n\n[[1]]\n[1] 4050\n\n[[2]]\n[1] 44.45\n\n[[3]]\n[1] 197\n\n# aplana la lista en un vector\nmap_dbl(rasgos, median, na.rm = TRUE)\n\n[1] 4050.00   44.45  197.00"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#map-con-funciones-an√≥nimas",
    "href": "presentaciones/4-LQNNESR.html#map-con-funciones-an√≥nimas",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "map() con funciones an√≥nimas",
    "text": "map() con funciones an√≥nimas\nFunciones que podemos escribir dentro de map() sin definir\n\n\nMike Cheng (2019)\nAnonymous Functions in R - Part 1"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#section-11",
    "href": "presentaciones/4-LQNNESR.html#section-11",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "",
    "text": "Mismo comportamiento\n\n\nlistaNums &lt;- list(c(5:10),c(20:27))\n# funci√≥n an√≥nima\nmap(listaNums, function(x) x+2)\n# f√≥rmula\nmap(listaNums, ~ .x + 2)\n# notaci√≥n 'nueva'\nmap(listaNums,\\(x) x+2)"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#importando-o-escribiendo-muchos-archivos",
    "href": "presentaciones/4-LQNNESR.html#importando-o-escribiendo-muchos-archivos",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Importando o escribiendo muchos archivos",
    "text": "Importando o escribiendo muchos archivos\nmap(.x,.f)\n.x puede ser una lista o vector de rutas de archivo\n.f puede ser una funci√≥n que lee o escribe archivos\n\nüìÑüìÑüìÑüìÑüìÑüìÑüìÑüìÑüìÑ"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#ejercicio",
    "href": "presentaciones/4-LQNNESR.html#ejercicio",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Ejercicio",
    "text": "Ejercicio\nCrear una carpeta llena de archivos de texto\n\ncargar el archivo resultados_21k.csv\nagrupar los datos por localidad y crear una lista de data frames con una para cada localidad\ncrear un vector con los nombres de las localidades\n\n\n\n\n\n\n\n\n\n\nüò≤ es posible iterar con dos inputs en paralelo"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#map-con-dos-inputs",
    "href": "presentaciones/4-LQNNESR.html#map-con-dos-inputs",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "map() con dos inputs",
    "text": "map() con dos inputs\nmap2(.x, .y, .f)\nAmbas listas of vectores de entrada se le pasan como argumentos a la funci√≥n .f\n\n\n\nAltman et al.¬†(2021)\nMap with multiple inputs"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#ejercicio---carpeta-con-archivos",
    "href": "presentaciones/4-LQNNESR.html#ejercicio---carpeta-con-archivos",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Ejercicio - Carpeta con archivos",
    "text": "Ejercicio - Carpeta con archivos\n\ncrear una carpeta ‚Äúresultados21k‚Äù\nusar here() para crear rutas estables y por√°tiles para cada localidad, por ejemplo: here(\"datos\",\"resultados21k\",\"Usaquen\"), teniendo en cuante que here() es una funci√≥n vectorizada\npasar la lista de data frames y el vector de rutas a write_csv de readr o write.csv de R base\n\nüî•üèÉüî•"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#ejercicio---importando-varios-archivos-a-la-vez",
    "href": "presentaciones/4-LQNNESR.html#ejercicio---importando-varios-archivos-a-la-vez",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Ejercicio - Importando varios archivos a la vez",
    "text": "Ejercicio - Importando varios archivos a la vez\n\nusar dir_ls() para crear un vector con las rutas de los archivos creados en el paso anterior\nimportar cada elemento de este vector con map() y read_csv() de readr\nusar funciones con regresos espec√≠ficos para terminar con la tabla inicial"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#programando-eficientemente",
    "href": "presentaciones/4-LQNNESR.html#programando-eficientemente",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Programando eficientemente",
    "text": "Programando eficientemente\nCtrl == ‚åò Command && Alt == ‚å• Option\n\ncursor multilinea (ctrl+alt+arriba) o (ctrl+alt+abajo)\nquitar con esc"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#atajos-de-teclado",
    "href": "presentaciones/4-LQNNESR.html#atajos-de-teclado",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Atajos de teclado",
    "text": "Atajos de teclado\n\npanel de atajos (alt+shift+k)\ninsertar ‚Äòpipe‚Äô (ctrl+shift+m)\noperador de asignaci√≥n (alt+-)\narrastrar l√≠nea (alt+up) or (alt+down)\nejecutar l√≠nea (ctrl+enter)\nindentar o ‚Äòdesindentar‚Äô selecci√≥n (tab y shift+tab)\nconvertir selecci√≥n a comentario (ctrl + shift + c)\n\n\n\nRStudio Shortcuts and Tips (2021)"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#atajos-√∫tiles",
    "href": "presentaciones/4-LQNNESR.html#atajos-√∫tiles",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Atajos √∫tiles",
    "text": "Atajos √∫tiles\n\nCambiar enfoque entre paneles\n\n(ctrl+1 hasta 8)\nMaximizar paneles con (ctrl+shift+1 hasta 8)"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#m√°s-atajos",
    "href": "presentaciones/4-LQNNESR.html#m√°s-atajos",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "M√°s atajos",
    "text": "M√°s atajos\nModificar selecci√≥n ctrl+alt+shift+m\nPara acceder a la documentaci√≥n ? o F1\nAbriendo objetos en el visualizador\nctrl + click\nAbrir el directorio de trabajo\nshell.exec(getwd()) en Windows y en Linux browseURL(getwd())"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#pr√°ctica",
    "href": "presentaciones/4-LQNNESR.html#pr√°ctica",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Pr√°ctica",
    "text": "Pr√°ctica\nExploremos la diversidad de paquetes que hay en CRAN hoy mismo:\n\nlibrary(dplyr)\nlibrary(stringr)\np_db &lt;- tools::CRAN_package_db()\np_db &lt;- p_db %&gt;% select(Package, Author, Description, Title)"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#annotater",
    "href": "presentaciones/4-LQNNESR.html#annotater",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "üì¶ annotater",
    "text": "üì¶ annotater\nAgregar detalles sobre los paquetes que estamos mencionando en nuestros scripts\nFuente y versi√≥n\n\nlibrary(dplyr)   # CRAN v1.0.7\nlibrary(janitor) # CRAN v2.1.0\n\nT√≠tulo, fuente y versi√≥n\n\nlibrary(readr) # Read Rectangular Text Data, CRAN v2.0.2\n\n\nTambi√©n podemos anotar cu√°les funciones o datos de c/ paquete estamos usando"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#littleboxes",
    "href": "presentaciones/4-LQNNESR.html#littleboxes",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "üì¶ littleboxes",
    "text": "üì¶ littleboxes\nCajas para t√≠tulos\n\n##%##################################################%##\n#                                                      #\n####    Mi an√°lisis en R ,  Luis, Oct 2022          ####\n#                                                      #\n##%##################################################%##"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#packup",
    "href": "presentaciones/4-LQNNESR.html#packup",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "üì¶ packup",
    "text": "üì¶ packup\nhttps://github.com/MilesMcBain/packup\nAcomoda los llamados a library() al principio del archivo, quitando duplicados y ordenando alfab√©ticamente.\n\nEl orden alfab√©tico puede no ser adecuado"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#secciones-de-c√≥digo-y-el-esquema-de-documento",
    "href": "presentaciones/4-LQNNESR.html#secciones-de-c√≥digo-y-el-esquema-de-documento",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Secciones de c√≥digo y el esquema de documento",
    "text": "Secciones de c√≥digo y el esquema de documento\n\n# Mi secci√≥n nueva ------------------------------------ \n\nDividir un script en segmentos discretos\nLas secciones se pueden colapsar y funcionan con el panel de navegaci√≥n del editor de fuente.\n\nCrear con cuatro guiones despu√©s de un comentario\nInsertar con ctrl + shift + R"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#utilidades-geniales",
    "href": "presentaciones/4-LQNNESR.html#utilidades-geniales",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Utilidades geniales",
    "text": "Utilidades geniales\nüì¶ datapasta\nCopiar y pegar datos desde y hacia R, manipular vectores"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#resetear",
    "href": "presentaciones/4-LQNNESR.html#resetear",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "1 - Resetear",
    "text": "1 - Resetear\nReiniciar R (limpia la ruta de b√∫squeda, ‚Äúdesprende‚Äù objetos, regresa opciones a sus valores predeterminados)\n\n\n\n\n\n\n\n\n\nsearch path: los entornos que definen los objetos y funciones a los que podemos acceder desde el entorno de trabajo global\n\n\n\nprueba\n(e.g.¬†Sys.setenv(LANGUAGE=\"ko\"))"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#reprex-ejemplos-reproducibles",
    "href": "presentaciones/4-LQNNESR.html#reprex-ejemplos-reproducibles",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "2 - Reprex (ejemplos reproducibles)",
    "text": "2 - Reprex (ejemplos reproducibles)\nCrear el ejemplo m√°s simple posible que genere el mismo error para poder confimar o resolver alg√∫n problema\n\n\nJenny Bryan (2020)\nObject of type ‚Äòclosure‚Äô is not subsettable"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#errores-comunes",
    "href": "presentaciones/4-LQNNESR.html#errores-comunes",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Errores comunes",
    "text": "Errores comunes\n\npaquetes sin cargar o cargados en desorden (search path)\noperadores cambiados, signos\nespacios, par√©ntesis, o comas de m√°s o de menos\npasos en desorden"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#opciones-√∫tiles",
    "href": "presentaciones/4-LQNNESR.html#opciones-√∫tiles",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Opciones √∫tiles",
    "text": "Opciones √∫tiles\n\nEstudiar los mensajes de error m√°s comunes\n\n\n\nEmily Jennings-Dobbs (2021)\nCommon Errors in R\n\n\n\nCorrer los ejemplos disponibles con la ayuda y comparar con nuestro c√≥digo"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#otras-personas",
    "href": "presentaciones/4-LQNNESR.html#otras-personas",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Otras personas",
    "text": "Otras personas\nPosit Community\nGrupos de usuarios locales o de RLadies\nStackOverflow\nTwitter u otras redes sociales\nGitHub - issues (cerrados o abiertos)"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#modales",
    "href": "presentaciones/4-LQNNESR.html#modales",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "üßê Modales!",
    "text": "üßê Modales!\n\n\nIf you are looking for help with an #rstats problem, I recommend that youüéØdo not email an individual author or OSS maintainerüéØcreate a reprex demonstrating your problem (naturally none in this email)üéØpost on a public forum like RStudio Community or Stack Overflow\n\n‚Äî Julia Silge (@juliasilge) January 2, 2022"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#ejemplos-reproducibles",
    "href": "presentaciones/4-LQNNESR.html#ejemplos-reproducibles",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Ejemplos reproducibles",
    "text": "Ejemplos reproducibles\n\n¬øPodemos reproducir nuestro error con un ejemplo simple y concreto?\n\n\n\nAyudemos a otros a que nos puedan ayudar, permitiendo que otros puedan llegar al mismo problema en sus propias m√°quinas\nUsar datos preinstalados o crear datos simples de 0"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#un-buen-reprex",
    "href": "presentaciones/4-LQNNESR.html#un-buen-reprex",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Un buen ‚Äòreprex‚Äô",
    "text": "Un buen ‚Äòreprex‚Äô\n\nProveer datos (mientras m√°s simple mejor)\n\nNo ir m√°s all√° de lo m√≠nimo necesario para recrear el problema\nNo truncar posibles fuentes de error\n\nMostrar qu√© paquetes se est√°n usando\n\nIncluir versiones puede ayudar\n\n\nSe puede copiar, pegar y ejecutar f√°cilmente\nNo hace da√±o"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#reprex",
    "href": "presentaciones/4-LQNNESR.html#reprex",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "üì¶ {reprex}",
    "text": "üì¶ {reprex}\nMuestra el input y su salida juntos\n\ncopiar c√≥digo al portapapeleles\nejecutar reprex()\nel ejemplo est√° listo para pegar en donde necesitmos compartir nuestra duda\n\n\nLa salida de reprex est√° dise√±ana para que la vean otras personas\n\n\n\nJD Long\nüìº How Reproducible Examples are the Secret to Faster Learning & Faster Code"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#creando-un-reprex",
    "href": "presentaciones/4-LQNNESR.html#creando-un-reprex",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "Creando un reprex",
    "text": "Creando un reprex\n\nlibrary(ggplot2)\nset.seed(23)\nmis_datos &lt;- data.frame(\n  sitio= sample(c(\"A\",\"B\",\"C\"),100,replace = TRUE),\n  valor_A = rnorm(100),\n  valor_B= rnorm(100,mean = 30,sd=10))\n\nhead(mis_datos)\n\nggplot(mis_datos)+\n  geom_point(aes(medida_A,medida_B))"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#b√∫squedas-web",
    "href": "presentaciones/4-LQNNESR.html#b√∫squedas-web",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "B√∫squedas web",
    "text": "B√∫squedas web\nNadie sabe todo de memoria y hay que saber buscar en l√≠nea\n\nAprender a usar funciones avanzadas en los buscadores populares ‚ÄúGoogle-fu‚Äù\nConocer la terminolog√≠a general\n‚ÄúR subset rows partial match‚Äù\nHacer b√∫squedas amplias (ej: no buscar partes de un mensaje que error que a nadie m√°s le aparecer√≠an)\n\nError: object ‚Äòtesis_luis_23w-final‚Äô not found"
  },
  {
    "objectID": "presentaciones/4-LQNNESR.html#cu√°les-soluciones-son-mejores-√∫tiles",
    "href": "presentaciones/4-LQNNESR.html#cu√°les-soluciones-son-mejores-√∫tiles",
    "title": "Lo que nadie nos ense√±√≥ sobre R",
    "section": "¬øCu√°les soluciones son mejores √∫tiles?",
    "text": "¬øCu√°les soluciones son mejores √∫tiles?\n\n¬øHace falta limitar los resultados temporalmente?\nSoluciones para diferentes dialectos\nSort (order) data frame rows by multiple columns\n(StackOverflow - 2009, 1.4 M visitas)\nEstar al pendiente de miembros activos que ayudan a otros"
  },
  {
    "objectID": "presentaciones/5-gradiente_riqueza.html#√°reas-de-distribuci√≥n-y-patrones-geogr√°ficos-de-riqueza",
    "href": "presentaciones/5-gradiente_riqueza.html#√°reas-de-distribuci√≥n-y-patrones-geogr√°ficos-de-riqueza",
    "title": "Patrones geogr√°ficos de riqueza de especies",
    "section": "√Åreas de distribuci√≥n y patrones geogr√°ficos de riqueza",
    "text": "√Åreas de distribuci√≥n y patrones geogr√°ficos de riqueza\n\n‚ÄúTo do science is to search for repeated patterns, not simply to accumulate facts‚Äù R. MacArthur\n\n\nA partir de las distribuciones geogr√°ficas de las especies es posible describir y evaluar diferentes patrones de biodiversidad que emergen cuando estudiamos conjuntos de especies (y no a nivel indivual)"
  },
  {
    "objectID": "presentaciones/5-gradiente_riqueza.html#√°reas-de-distribuci√≥n-y-patrones-geogr√°ficos-de-riqueza-1",
    "href": "presentaciones/5-gradiente_riqueza.html#√°reas-de-distribuci√≥n-y-patrones-geogr√°ficos-de-riqueza-1",
    "title": "Patrones geogr√°ficos de riqueza de especies",
    "section": "√Åreas de distribuci√≥n y patrones geogr√°ficos de riqueza",
    "text": "√Åreas de distribuci√≥n y patrones geogr√°ficos de riqueza\n\nEn este ejercicio veremos c√≥mo usar las distribuciones de las especies (pol√≠gonos, como los que generamos en el ejercicio anterior) para generar el patr√≥n geogr√°fico de riqueza de especies\nUsaremos dos paquetes (letsR y epm) para mostrar diferentes maneras de llegar a lo mismo, considerando paquetes obsoletos (y que pronto se retirar√°n) y nuevos (que suplen los anteriores)"
  },
  {
    "objectID": "presentaciones/5-gradiente_riqueza.html#section",
    "href": "presentaciones/5-gradiente_riqueza.html#section",
    "title": "Patrones geogr√°ficos de riqueza de especies",
    "section": "",
    "text": "Los datos (pol√≠gonos) son de una familia de aves (Passeriformes:Emberizoidae:Icteridae) obtenidos de BirdLife International"
  },
  {
    "objectID": "presentaciones/5-gradiente_riqueza.html#paquetes-necesarios",
    "href": "presentaciones/5-gradiente_riqueza.html#paquetes-necesarios",
    "title": "Patrones geogr√°ficos de riqueza de especies",
    "section": "Paquetes necesarios:",
    "text": "Paquetes necesarios:\n\nlibrary(sp)\n\nThe legacy packages maptools, rgdal, and rgeos, underpinning this package\nwill retire shortly. Please refer to R-spatial evolution reports on\nhttps://r-spatial.org/r/2023/05/15/evolution4.html for details.\nThis package is now running under evolution status 0 \n\nlibrary(letsR)\n\nLoading required package: raster\n\n\nLoading required package: maps\n\n\nPlease note that 'maptools' will be retired during October 2023,\nplan transition at your earliest convenience (see\nhttps://r-spatial.org/r/2023/05/15/evolution4.html and earlier blogs\nfor guidance);some functionality will be moved to 'sp'.\n Checking rgeos availability: TRUE\n\n\nPlease note that rgdal will be retired during October 2023,\nplan transition to sf/stars/terra functions using GDAL and PROJ\nat your earliest convenience.\nSee https://r-spatial.org/r/2023/05/15/evolution4.html and https://github.com/r-spatial/evolution\nrgdal: version: 1.6-7, (SVN revision 1203)\nGeospatial Data Abstraction Library extensions to R successfully loaded\nLoaded GDAL runtime: GDAL 3.4.3, released 2022/04/22\nPath to GDAL shared files: /usr/share/gdal\nGDAL binary built with GEOS: TRUE \nLoaded PROJ runtime: Rel. 8.2.0, November 1st, 2021, [PJ_VERSION: 820]\nPath to PROJ shared files: /home/luisd/.local/share/proj:/usr/share/proj\nPROJ CDN enabled: FALSE\nLinking to sp version:1.6-1\nTo mute warnings of possible GDAL/OSR exportToProj4() degradation,\nuse options(\"rgdal_show_exportToProj4_warnings\"=\"none\") before loading sp or rgdal.\n\n\nrgeos version: 0.6-3, (SVN revision 696)\n GEOS runtime version: 3.10.2-CAPI-1.16.0 \n Please note that rgeos will be retired during October 2023,\nplan transition to sf or terra functions using GEOS at your earliest convenience.\nSee https://r-spatial.org/r/2023/05/15/evolution4.html for details.\n GEOS using OverlayNG\n Linking to sp version: 1.6-1 \n Polygon checking: TRUE \n\nlibrary(rgdal)\nlibrary(ggplot2)\nlibrary(viridisLite)\nlibrary(epm)\nlibrary(sf)\n\nLinking to GEOS 3.10.2, GDAL 3.4.3, PROJ 8.2.0; sf_use_s2() is TRUE\n\nlibrary(tmap)\nlibrary(here)\n\nhere() starts at /home/luisd/Dropbox/darcyDB/PDRF/curso-R-biodiversidad"
  },
  {
    "objectID": "presentaciones/5-gradiente_riqueza.html#section-1",
    "href": "presentaciones/5-gradiente_riqueza.html#section-1",
    "title": "Patrones geogr√°ficos de riqueza de especies",
    "section": "",
    "text": "Cargar los pol√≠gonos de las especies de inter√©s (shapefiles en su carpeta de trabajo)\n\nicteri_maps &lt;- readOGR(here(\"data\",\"icteridae_maps\",\"icteridae_maps.shp\"))\n\nWarning: OGR support is provided by the sf and terra packages among others\n\n\nWarning: OGR support is provided by the sf and terra packages among others\n\n\nWarning: OGR support is provided by the sf and terra packages among others\n\n\nWarning: OGR support is provided by the sf and terra packages among others\n\n\nWarning: OGR support is provided by the sf and terra packages among others\n\n\nWarning: OGR support is provided by the sf and terra packages among others\n\n\nWarning: OGR support is provided by the sf and terra packages among others\n\n\nOGR data source with driver: ESRI Shapefile \nSource: \"/home/luisd/Dropbox/darcyDB/PDRF/curso-R-biodiversidad/data/icteridae_maps/icteridae_maps.shp\", layer: \"icteridae_maps\"\nwith 190 features\nIt has 26 fields\n\n\n\nConocer el dominio (‚Äúextent‚Äù) de los datos, para usarlo despu√©s en la delimitaci√≥n del espacio (geogr√°fico) de trabajo\n\nicteri_maps@bbox\n\n         min       max\nx -166.19269 -34.79010\ny  -55.98218  69.60669"
  },
  {
    "objectID": "presentaciones/5-gradiente_riqueza.html#section-2",
    "href": "presentaciones/5-gradiente_riqueza.html#section-2",
    "title": "Patrones geogr√°ficos de riqueza de especies",
    "section": "",
    "text": "Crear una matriz de presencia-ausencia a partir de los pol√≠gonos\n\nicteri.pam &lt;- lets.presab(icteri_maps, xmn = -167,xmx = -35, ymn = -56, ymx = 70, resol=1)"
  },
  {
    "objectID": "presentaciones/5-gradiente_riqueza.html#c√≥mo-se-ve-el-patr√≥n-geogr√°fico",
    "href": "presentaciones/5-gradiente_riqueza.html#c√≥mo-se-ve-el-patr√≥n-geogr√°fico",
    "title": "Patrones geogr√°ficos de riqueza de especies",
    "section": "¬øC√≥mo se ve el patr√≥n geogr√°fico?",
    "text": "¬øC√≥mo se ve el patr√≥n geogr√°fico?\n\n\nplot(icteri.pam)"
  },
  {
    "objectID": "presentaciones/5-gradiente_riqueza.html#section-3",
    "href": "presentaciones/5-gradiente_riqueza.html#section-3",
    "title": "Patrones geogr√°ficos de riqueza de especies",
    "section": "",
    "text": "¬øQu√© tiene el objeto que se grafic√≥?\n\nicteri.pam$Richness_Raster\n\nclass      : RasterLayer \ndimensions : 126, 132, 16632  (nrow, ncol, ncell)\nresolution : 1, 1  (x, y)\nextent     : -167, -35, -56, 70  (xmin, xmax, ymin, ymax)\ncrs        : +proj=longlat +datum=WGS84 +no_defs \nsource     : memory\nnames      : layer \nvalues     : 0, 18  (min, max)"
  },
  {
    "objectID": "presentaciones/5-gradiente_riqueza.html#section-4",
    "href": "presentaciones/5-gradiente_riqueza.html#section-4",
    "title": "Patrones geogr√°ficos de riqueza de especies",
    "section": "",
    "text": "Vamos a verlo en ggplot\n\nPrimero, convertimos el raster en un data.frame\n\nrdf &lt;- as.data.frame(icteri.pam$Richness_Raster, xy=TRUE) #Convert raster to data.frame\nnames(rdf)[3] &lt;- 'richness' #Name value column\nhead(rdf)\n\n       x    y richness\n1 -166.5 69.5        0\n2 -165.5 69.5        0\n3 -164.5 69.5        0\n4 -163.5 69.5        0\n5 -162.5 69.5        0\n6 -161.5 69.5        0\n\nrdf2 &lt;- rdf\nrdf2[,3] &lt;- ifelse(rdf[,3]==0,NA,rdf[,3])\nhead(rdf2)\n\n       x    y richness\n1 -166.5 69.5       NA\n2 -165.5 69.5       NA\n3 -164.5 69.5       NA\n4 -163.5 69.5       NA\n5 -162.5 69.5       NA\n6 -161.5 69.5       NA"
  },
  {
    "objectID": "presentaciones/5-gradiente_riqueza.html#section-5",
    "href": "presentaciones/5-gradiente_riqueza.html#section-5",
    "title": "Patrones geogr√°ficos de riqueza de especies",
    "section": "",
    "text": "Ahora s√≠, lo graficamos\n\nggplot(data = rdf2)+\n  geom_raster(mapping=aes(x=x, y=y, fill=richness))+\n  scale_fill_gradientn(colours= rev(inferno(10)), name='Richness')"
  },
  {
    "objectID": "presentaciones/5-gradiente_riqueza.html#section-6",
    "href": "presentaciones/5-gradiente_riqueza.html#section-6",
    "title": "Patrones geogr√°ficos de riqueza de especies",
    "section": "",
    "text": "Cargar nuevamente los pol√≠gonos, pero ahora con el paquete ‚Äònuevo‚Äô y recomendado a partir de junio 2023! (sf)\n\nicteri_file &lt;- here(\"data\",\"icteridae_maps\",\"icteridae_maps.shp\")\nicteri_maps.sf &lt;- st_read(icteri_file, stringsAsFactors = FALSE)\n\nReading layer `icteridae_maps' from data source \n  `/home/luisd/Dropbox/darcyDB/PDRF/curso-R-biodiversidad/data/icteridae_maps/icteridae_maps.shp' \n  using driver `ESRI Shapefile'\nSimple feature collection with 190 features and 26 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -166.1927 ymin: -55.98218 xmax: -34.7901 ymax: 69.60669\nGeodetic CRS:  GCS_unknown\n\n\n\nChecar que la columna de especies (en este caso: SCINAME) sea de caracteres (para evitar problemas m√°s adelante)\n\nclass(icteri_maps.sf$SCINAME)\n\n[1] \"character\""
  },
  {
    "objectID": "presentaciones/5-gradiente_riqueza.html#section-7",
    "href": "presentaciones/5-gradiente_riqueza.html#section-7",
    "title": "Patrones geogr√°ficos de riqueza de especies",
    "section": "",
    "text": "Crear un vector con los nombres de todas las especies en el multipoligono\n\nallspp &lt;- unique(icteri_maps.sf$SCINAME)"
  },
  {
    "objectID": "presentaciones/5-gradiente_riqueza.html#section-8",
    "href": "presentaciones/5-gradiente_riqueza.html#section-8",
    "title": "Patrones geogr√°ficos de riqueza de especies",
    "section": "",
    "text": "Creamos pol√≠gonos individuales por especie\n\nspList &lt;- vector('list', length(allspp))\nnames(spList) &lt;- allspp\n\nfor (i in 1:length(allspp)) {\n  ind &lt;- which(icteri_maps.sf$SCINAME == allspp[i])\n  spList[[i]] &lt;- icteri_maps.sf[ind,]\n}\n\n\nChecamos la geometr√≠a de los pol√≠gonos e intentamos corregirla si es necesario\n\nfor (i in 1:length(spList)) {\n    if (!any(st_is_valid(spList[[i]]))) {\n            message('\\trepairing poly ', i)\n            spList[[i]] &lt;- st_make_valid(spList[[i]])\n        }\n   }\n\n    repairing poly 93\n\n\n    repairing poly 94"
  },
  {
    "objectID": "presentaciones/5-gradiente_riqueza.html#section-9",
    "href": "presentaciones/5-gradiente_riqueza.html#section-9",
    "title": "Patrones geogr√°ficos de riqueza de especies",
    "section": "",
    "text": "Ahora s√≠, creamos el gradiente de riqueza con el paquete epm\n\nicteriEPM &lt;- createEPMgrid(spList, resolution = 1, retainSmallRanges = TRUE, extent = 'auto', method = 'percentOverlap', cellType = 'square', percentThreshold = 0.1)\n\n\n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |=======================                                               |  33%\n  |                                                                            \n  |===============================================                       |  67%\n  |                                                                            \n  |======================================================================| 100%\n\n\n3 small-ranged species were preserved:\n    Icterus bonana\n    Icterus laudabilis\n    Nesopsar nigerrimus"
  },
  {
    "objectID": "presentaciones/5-gradiente_riqueza.html#qu√©-tiene-el-objeto-generado",
    "href": "presentaciones/5-gradiente_riqueza.html#qu√©-tiene-el-objeto-generado",
    "title": "Patrones geogr√°ficos de riqueza de especies",
    "section": "¬øQu√© tiene el objeto generado?",
    "text": "¬øQu√© tiene el objeto generado?\n\nicteriEPM\n\n\n    Summary of epm object:\n\n    metric: spRichness \n    grid type:  square \n    number of grid cells: 16764 \n    grid resolution: 1 by 1 \n    projected: FALSE \n    crs: +proj=longlat +datum=WGS84 +no_defs \n\n    number of unique species: 99 (richness range: 1 - 21) \n    data present: No \n    phylogeny present: No"
  },
  {
    "objectID": "presentaciones/5-gradiente_riqueza.html#section-10",
    "href": "presentaciones/5-gradiente_riqueza.html#section-10",
    "title": "Patrones geogr√°ficos de riqueza de especies",
    "section": "",
    "text": "Lo graficamos\n\nplot(icteriEPM)"
  },
  {
    "objectID": "presentaciones/5-gradiente_riqueza.html#section-11",
    "href": "presentaciones/5-gradiente_riqueza.html#section-11",
    "title": "Patrones geogr√°ficos de riqueza de especies",
    "section": "",
    "text": "Ahora generamos la matriz de presencia-ausencia a partir del objeto creado. Esta matriz nos puede servir para comparar con los resultados de letsR o para derivar otras m√©tricas/patrones\n\nicteri.pamEPM &lt;- epmToPhyloComm(icteriEPM, sites = 'all')"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Materiales del curso",
    "section": "",
    "text": "Este sitio contiene los materiales pr√°cticos y las presentaciones para todos los temas. Se actualizar√° diariamiente durante la semana del curso."
  },
  {
    "objectID": "index.html#profesores",
    "href": "index.html#profesores",
    "title": "Materiales del curso",
    "section": "Profesores",
    "text": "Profesores\nDr.¬†Fabricio Villalobos Camacho\nDr.¬†Gabriel Massaine Moulatlet\nDr.¬†Luis D. Verde Arregoitia"
  }
]